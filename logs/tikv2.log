[2024/07/29 22:09:29.609 +00:00] [INFO] [lib.rs:79] ["Welcome to TiKV"]
[2024/07/29 22:09:29.612 +00:00] [INFO] [lib.rs:84] ["Release Version:   6.1.0"]
[2024/07/29 22:09:29.612 +00:00] [INFO] [lib.rs:84] ["Edition:           Community"]
[2024/07/29 22:09:29.613 +00:00] [INFO] [lib.rs:84] ["Git Commit Hash:   080d086832ae5ce2495352dccaf8df5d40f30687"]
[2024/07/29 22:09:29.613 +00:00] [INFO] [lib.rs:84] ["Git Commit Branch: heads/refs/tags/v6.1.0"]
[2024/07/29 22:09:29.613 +00:00] [INFO] [lib.rs:84] ["UTC Build Time:    Unknown (env var does not exist when building)"]
[2024/07/29 22:09:29.613 +00:00] [INFO] [lib.rs:84] ["Rust Version:      rustc 1.60.0-nightly (1e12aef3f 2022-02-13)"]
[2024/07/29 22:09:29.614 +00:00] [INFO] [lib.rs:84] ["Enable Features:   jemalloc mem-profiling portable test-engine-kv-rocksdb test-engine-raft-raft-engine cloud-aws cloud-gcp cloud-azure"]
[2024/07/29 22:09:29.637 +00:00] [INFO] [lib.rs:84] ["Profile:           dist_release"]
[2024/07/29 22:09:29.638 +00:00] [INFO] [mod.rs:74] ["cgroup quota: memory=None, cpu=None, cores={}"]
[2024/07/29 22:09:29.638 +00:00] [INFO] [mod.rs:81] ["memory limit in bytes: 4212162560, cpu cores quota: 8"]
[2024/07/29 22:09:29.639 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.core.somaxconn got 4096, expect 32768"]
[2024/07/29 22:09:29.641 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.ipv4.tcp_syncookies got 1, expect 0"]
[2024/07/29 22:09:29.644 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters vm.swappiness got 60, expect 0"]
[2024/07/29 22:09:29.645 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:09:29.652 +00:00] [INFO] [<unknown>] ["TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter"]
[2024/07/29 22:09:31.647 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 4-DEADLINE_EXCEEDED, message: \"Deadline Exceeded\", details: [] }))"] [endpoints=pd0:2379]
[2024/07/29 22:09:31.648 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:09:32.551 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd1:2379]
[2024/07/29 22:09:32.551 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:09:32.557 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd2:2379]
[2024/07/29 22:09:32.558 +00:00] [WARN] [client.rs:163] ["validate PD endpoints failed"] [err="Other(\"[components/pd_client/src/util.rs:570]: PD cluster failed to respond\")"]
[2024/07/29 22:09:32.864 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:09:32.866 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:09:32.869 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:09:32.870 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd2:2379]
[2024/07/29 22:09:32.871 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd1:2379]
[2024/07/29 22:09:32.872 +00:00] [INFO] [util.rs:701] ["connected to PD member"] [endpoints=http://pd1:2379]
[2024/07/29 22:09:32.873 +00:00] [INFO] [util.rs:567] ["all PD endpoints are consistent"] [endpoints="[\"pd0:2379\", \"pd1:2379\", \"pd2:2379\"]"]
[2024/07/29 22:09:32.874 +00:00] [INFO] [server.rs:369] ["connect to PD cluster"] [cluster_id=7397183400508190990]
[2024/07/29 22:09:32.874 +00:00] [INFO] [config.rs:2041] ["readpool.storage.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:09:32.874 +00:00] [INFO] [config.rs:2064] ["readpool.coprocessor.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:09:32.878 +00:00] [INFO] [config.rs:293] ["no advertise-status-addr is specified, falling back to status-addr"] [status-addr=127.0.0.1:20180]
[2024/07/29 22:09:32.878 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:09:32.880 +00:00] [INFO] [server.rs:1541] ["beginning system configuration check"]
[2024/07/29 22:09:32.880 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2]
[2024/07/29 22:09:32.882 +00:00] [WARN] [server.rs:1557] ["check: rocksdb-data-dir"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2]
[2024/07/29 22:09:32.883 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2/raft]
[2024/07/29 22:09:32.887 +00:00] [WARN] [server.rs:1565] ["check: raftdb-path"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2/raft]
[2024/07/29 22:09:32.888 +00:00] [INFO] [server.rs:338] ["using config"] [config="{\"log-level\":\"info\",\"log-file\":\"\",\"log-format\":\"text\",\"log-rotation-timespan\":\"0s\",\"log-rotation-size\":\"300MiB\",\"slow-log-file\":\"\",\"slow-log-threshold\":\"1s\",\"panic-when-unexpected-key-or-data\":false,\"abort-on-panic\":false,\"memory-usage-limit\":\"3530MiB\",\"memory-usage-high-water\":0.9,\"log\":{\"level\":\"info\",\"format\":\"text\",\"enable-timestamp\":true,\"file\":{\"filename\":\"/logs/tikv2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0}},\"quota\":{\"foreground-cpu-time\":0,\"foreground-write-bandwidth\":\"0KiB\",\"foreground-read-bandwidth\":\"0KiB\",\"max-delay-duration\":\"500ms\"},\"readpool\":{\"unified\":{\"min-thread-count\":1,\"max-thread-count\":6,\"stack-size\":\"10MiB\",\"max-tasks-per-worker\":2000},\"storage\":{\"use-unified-pool\":true,\"high-concurrency\":4,\"normal-concurrency\":4,\"low-concurrency\":4,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"},\"coprocessor\":{\"use-unified-pool\":true,\"high-concurrency\":6,\"normal-concurrency\":6,\"low-concurrency\":6,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"}},\"server\":{\"addr\":\"0.0.0.0:20160\",\"advertise-addr\":\"tikv2:20160\",\"status-addr\":\"127.0.0.1:20180\",\"advertise-status-addr\":\"127.0.0.1:20180\",\"status-thread-pool-size\":1,\"max-grpc-send-msg-len\":10485760,\"raft-client-grpc-send-msg-buffer\":524288,\"raft-client-queue-size\":8192,\"raft-msg-max-batch-size\":128,\"grpc-compression-type\":\"none\",\"grpc-concurrency\":5,\"grpc-concurrent-stream\":1024,\"grpc-raft-conn-num\":1,\"grpc-memory-pool-quota\":9223372036854775807,\"grpc-stream-initial-window-size\":\"2MiB\",\"grpc-keepalive-time\":\"10s\",\"grpc-keepalive-timeout\":\"3s\",\"concurrent-send-snap-limit\":32,\"concurrent-recv-snap-limit\":32,\"end-point-recursion-limit\":1000,\"end-point-stream-channel-size\":8,\"end-point-batch-row-limit\":64,\"end-point-stream-batch-row-limit\":128,\"end-point-enable-batch-if-possible\":true,\"end-point-request-max-handle-duration\":\"1m\",\"end-point-max-concurrency\":8,\"end-point-perf-level\":0,\"snap-max-write-bytes-per-sec\":\"100MiB\",\"snap-max-total-size\":\"0KiB\",\"stats-concurrency\":1,\"heavy-load-threshold\":75,\"heavy-load-wait-duration\":null,\"enable-request-batch\":true,\"background-thread-count\":2,\"end-point-slow-log-threshold\":\"1s\",\"forward-max-connections-per-address\":4,\"reject-messages-on-memory-ratio\":0.2,\"labels\":{}},\"storage\":{\"data-dir\":\"/data/tikv2\",\"gc-ratio-threshold\":1.1,\"max-key-size\":8192,\"scheduler-concurrency\":524288,\"scheduler-worker-pool-size\":4,\"scheduler-pending-write-threshold\":\"100MiB\",\"reserve-space\":\"5GiB\",\"enable-async-apply-prewrite\":false,\"api-version\":1,\"enable-ttl\":false,\"background-error-recovery-window\":\"1h\",\"ttl-check-poll-interval\":\"12h\",\"flow-control\":{\"enable\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"memtables-threshold\":5,\"l0-files-threshold\":20},\"block-cache\":{\"shared\":true,\"capacity\":\"2118MiB\",\"num-shard-bits\":6,\"strict-capacity-limit\":false,\"high-pri-pool-ratio\":0.8,\"memory-allocator\":\"nodump\"},\"io-rate-limit\":{\"max-bytes-per-sec\":\"0KiB\",\"mode\":\"write-only\",\"strict\":false,\"foreground-read-priority\":\"high\",\"foreground-write-priority\":\"high\",\"flush-priority\":\"high\",\"level-zero-compaction-priority\":\"medium\",\"compaction-priority\":\"low\",\"replication-priority\":\"high\",\"load-balance-priority\":\"high\",\"gc-priority\":\"high\",\"import-priority\":\"medium\",\"export-priority\":\"medium\",\"other-priority\":\"high\"}},\"pd\":{\"endpoints\":[\"pd0:2379\",\"pd1:2379\",\"pd2:2379\"],\"retry-interval\":\"300ms\",\"retry-max-count\":9223372036854775807,\"retry-log-every\":10,\"update-interval\":\"10m\",\"enable-forwarding\":false},\"metric\":{\"job\":\"tikv\"},\"raftstore\":{\"prevote\":true,\"raftdb-path\":\"/data/tikv2/raft\",\"capacity\":\"0KiB\",\"raft-base-tick-interval\":\"1s\",\"raft-heartbeat-ticks\":2,\"raft-election-timeout-ticks\":10,\"raft-min-election-timeout-ticks\":10,\"raft-max-election-timeout-ticks\":20,\"raft-max-size-per-msg\":\"1MiB\",\"raft-max-inflight-msgs\":256,\"raft-entry-max-size\":\"8MiB\",\"raft-log-compact-sync-interval\":\"2s\",\"raft-log-gc-tick-interval\":\"3s\",\"raft-log-gc-threshold\":50,\"raft-log-gc-count-limit\":73728,\"raft-log-gc-size-limit\":\"72MiB\",\"raft-log-reserve-max-ticks\":6,\"raft-engine-purge-interval\":\"10s\",\"raft-entry-cache-life-time\":\"30s\",\"split-region-check-tick-interval\":\"10s\",\"region-split-check-diff\":\"6MiB\",\"region-compact-check-interval\":\"5m\",\"region-compact-check-step\":100,\"region-compact-min-tombstones\":10000,\"region-compact-tombstones-percent\":30,\"pd-heartbeat-tick-interval\":\"1m\",\"pd-store-heartbeat-tick-interval\":\"10s\",\"snap-mgr-gc-tick-interval\":\"1m\",\"snap-gc-timeout\":\"4h\",\"lock-cf-compact-interval\":\"10m\",\"lock-cf-compact-bytes-threshold\":\"256MiB\",\"notify-capacity\":40960,\"messages-per-tick\":4096,\"max-peer-down-duration\":\"10m\",\"max-leader-missing-duration\":\"2h\",\"abnormal-leader-missing-duration\":\"10m\",\"peer-stale-state-check-interval\":\"5m\",\"leader-transfer-max-log-lag\":128,\"snap-apply-batch-size\":\"10MiB\",\"consistency-check-interval\":\"0s\",\"report-region-flow-interval\":\"1m\",\"raft-store-max-leader-lease\":\"9s\",\"check-leader-lease-interval\":\"2s250ms\",\"renew-leader-lease-advance-duration\":\"2s250ms\",\"right-derive-when-split\":true,\"merge-max-log-gap\":10,\"merge-check-tick-interval\":\"2s\",\"use-delete-range\":false,\"snap-generator-pool-size\":2,\"cleanup-import-sst-interval\":\"10m\",\"local-read-batch-size\":1024,\"apply-max-batch-size\":256,\"apply-pool-size\":2,\"apply-reschedule-duration\":\"5s\",\"apply-low-priority-pool-size\":1,\"store-max-batch-size\":256,\"store-pool-size\":2,\"store-reschedule-duration\":\"5s\",\"store-low-priority-pool-size\":0,\"store-io-pool-size\":0,\"store-io-notify-capacity\":40960,\"future-poll-size\":1,\"hibernate-regions\":true,\"dev-assert\":false,\"apply-yield-duration\":\"500ms\",\"perf-level\":0,\"evict-cache-on-memory-ratio\":0.0,\"cmd-batch\":true,\"cmd-batch-concurrent-ready-max-count\":1,\"raft-write-size-limit\":\"1MiB\",\"waterfall-metrics\":true,\"io-reschedule-concurrent-max-count\":4,\"io-reschedule-hotpot-duration\":\"5s\",\"inspect-interval\":\"500ms\",\"report-min-resolved-ts-interval\":\"0s\",\"reactive-memory-lock-tick-interval\":\"2s\",\"reactive-memory-lock-timeout-tick\":5,\"report-region-buckets-tick-interval\":\"10s\",\"max-snapshot-file-raw-size\":\"100MiB\"},\"coprocessor\":{\"split-region-on-table\":false,\"batch-split-limit\":10,\"region-max-size\":\"144MiB\",\"region-split-size\":\"96MiB\",\"region-max-keys\":1440000,\"region-split-keys\":960000,\"consistency-check-method\":\"mvcc\",\"enable-region-bucket\":false,\"region-bucket-size\":\"96MiB\",\"region-size-threshold-for-approximate\":\"1440MiB\",\"prefer-approximate-bucket\":true,\"region-bucket-merge-size-ratio\":0.33},\"coprocessor-v2\":{\"coprocessor-plugin-directory\":null},\"rocksdb\":{\"info-log-level\":\"info\",\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":7,\"max-background-flushes\":2,\"max-manifest-file-size\":\"128MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"rate-bytes-per-sec\":\"10GiB\",\"rate-limiter-refill-period\":\"100ms\",\"rate-limiter-mode\":2,\"rate-limiter-auto-tuned\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"max-sub-compactions\":3,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":false,\"enable-multi-batch-write\":true,\"enable-unordered-write\":false,\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"1004MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"writecf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"602MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":false,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"lockcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"32MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"raftcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"128MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raftdb\":{\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":4,\"max-background-flushes\":1,\"max-manifest-file-size\":\"20MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"info-log-level\":\"info\",\"max-sub-compactions\":2,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":true,\"enable-unordered-write\":false,\"allow-concurrent-memtable-write\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":false,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":10000,\"level0-stop-writes-trigger\":10000,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":false,\"soft-pending-compaction-bytes-limit\":\"0KiB\",\"hard-pending-compaction-bytes-limit\":\"0KiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raft-engine\":{\"enable\":true,\"dir\":\"/data/tikv2/raft-engine\",\"recovery-mode\":\"tolerate-corrupted-tail-records\",\"recovery-read-block-size\":\"16KiB\",\"recovery-threads\":4,\"batch-compression-threshold\":\"8KiB\",\"bytes-per-sync\":\"4MiB\",\"target-file-size\":\"128MiB\",\"purge-threshold\":\"10GiB\",\"purge-rewrite-threshold\":\"1GiB\",\"purge-rewrite-garbage-ratio\":0.6,\"memory-limit\":\"617016KiB\"},\"security\":{\"ca-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":[],\"redact-info-log\":null,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"7d\",\"enable-file-dictionary-log\":true,\"file-dictionary-rewrite-threshold\":1000000,\"master-key\":{\"type\":\"plaintext\"},\"previous-master-key\":{\"type\":\"plaintext\"}}},\"import\":{\"num-threads\":8,\"stream-channel-window\":128,\"import-mode-timeout\":\"10m\"},\"backup\":{\"num-threads\":4,\"batch-size\":8,\"sst-max-size\":\"144MiB\",\"enable-auto-tune\":true,\"auto-tune-remain-threads\":2,\"auto-tune-refresh-interval\":\"1m\",\"io-thread-size\":2,\"s3-multi-part-size\":\"5MiB\",\"hadoop\":{\"home\":\"\",\"linux-user\":\"\"}},\"log-backup\":{\"max-flush-interval\":\"5m\",\"num-threads\":4,\"io-threads\":2,\"enable\":false,\"temp-path\":\"/data/tikv2/log-backup-tmp\",\"temp-file-size-limit-per-task\":\"128MiB\",\"initial-scan-pending-memory-quota\":\"411344KiB\"},\"pessimistic-txn\":{\"wait-for-lock-timeout\":\"1s\",\"wake-up-delay-duration\":\"20ms\",\"pipelined\":true,\"in-memory\":true},\"gc\":{\"ratio-threshold\":1.1,\"batch-keys\":512,\"max-write-bytes-per-sec\":\"0KiB\",\"enable-compaction-filter\":true,\"compaction-filter-skip-version-check\":false},\"split\":{\"qps-threshold\":3000,\"split-balance-score\":0.25,\"split-contained-score\":0.5,\"detect-times\":10,\"sample-num\":20,\"sample-threshold\":100,\"byte-threshold\":31457280},\"cdc\":{\"min-ts-interval\":\"1s\",\"hibernate-regions-compatible\":true,\"incremental-scan-threads\":4,\"incremental-scan-concurrency\":6,\"incremental-scan-speed-limit\":\"128MiB\",\"incremental-scan-ts-filter-ratio\":0.2,\"sink-memory-quota\":\"512MiB\",\"old-value-cache-memory-quota\":\"512MiB\"},\"resolved-ts\":{\"enable\":true,\"advance-ts-interval\":\"1s\",\"scan-lock-pool-size\":2},\"resource-metering\":{\"receiver-address\":\"\",\"report-receiver-interval\":\"1m\",\"max-resource-groups\":100,\"precision\":\"1s\"},\"causal-ts\":{\"renew-interval\":\"100ms\",\"renew-batch-min-size\":100}}"]
[2024/07/29 22:09:32.896 +00:00] [WARN] [server.rs:457] ["failed to remove space holder on starting: No such file or directory (os error 2)"]
[2024/07/29 22:09:42.455 +00:00] [INFO] [mod.rs:124] ["encryption: none of key dictionary and file dictionary are found."]
[2024/07/29 22:09:42.459 +00:00] [INFO] [mod.rs:485] ["encryption is disabled."]
[2024/07/29 22:09:42.574 +00:00] [INFO] [engine.rs:91] ["Recovering raft logs takes 87.714083ms"]
[2024/07/29 22:09:44.131 +00:00] [INFO] [mod.rs:259] ["Storage started."]
[2024/07/29 22:09:44.265 +00:00] [INFO] [node.rs:208] ["trying to bootstrap cluster"] [region="id: 1004 region_epoch { conf_ver: 1 version: 1 } peers { id: 1005 store_id: 1003 }"] [store_id=1003]
[2024/07/29 22:09:44.522 +00:00] [INFO] [node.rs:414] ["bootstrap cluster ok"] [cluster_id=7397183400508190990]
[2024/07/29 22:09:44.530 +00:00] [INFO] [node.rs:217] ["put store to PD"] [store="id: 1003 address: \"tikv2:20160\" version: \"6.1.0\" status_address: \"127.0.0.1:20180\" git_hash: \"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp: 1722290984 deploy_path: \"/\""]
[2024/07/29 22:09:44.724 +00:00] [INFO] [node.rs:345] ["initializing replication mode"] [store_id=1003] [status=Some()]
[2024/07/29 22:09:44.727 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1001]
[2024/07/29 22:09:44.727 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1003]
[2024/07/29 22:09:44.729 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1002]
[2024/07/29 22:09:44.729 +00:00] [INFO] [node.rs:480] ["start raft store thread"] [store_id=1003]
[2024/07/29 22:09:44.730 +00:00] [INFO] [snap.rs:1381] ["Initializing SnapManager, encryption is enabled: false"]
[2024/07/29 22:09:44.746 +00:00] [INFO] [peer.rs:251] ["create peer"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:44.772 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.775 +00:00] [INFO] [raft.rs:1120] ["became follower at term 5"] [term=5] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.780 +00:00] [INFO] [raft.rs:384] [newRaft] [peers="Configuration { incoming: Configuration { voters: {1005} }, outgoing: Configuration { voters: {} } }"] ["last term"=5] ["last index"=5] [applied=5] [commit=5] [term=5] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.781 +00:00] [INFO] [raw_node.rs:315] ["RawNode created with id 1005."] [id=1005] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.783 +00:00] [INFO] [raft.rs:1550] ["starting a new election"] [term=5] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.786 +00:00] [INFO] [raft.rs:1170] ["became pre-candidate at term 5"] [term=5] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.789 +00:00] [INFO] [raft.rs:1144] ["became candidate at term 6"] [term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.789 +00:00] [INFO] [raft.rs:1228] ["became leader at term 6"] [term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:44.791 +00:00] [INFO] [store.rs:1173] ["start store"] [takes=51.199791ms] [merge_count=0] [applying_count=0] [tombstone_count=0] [region_count=1] [store_id=1003]
[2024/07/29 22:09:44.793 +00:00] [INFO] [store.rs:1221] ["cleans up garbage data"] [takes=3.792µs] [garbage_range_count=2] [store_id=1003]
[2024/07/29 22:09:44.816 +00:00] [INFO] [peer.rs:5107] ["require updating max ts"] [initial_status=25769803778] [region_id=1004]
[2024/07/29 22:09:44.818 +00:00] [WARN] [store.rs:1647] ["set thread priority for raftstore failed"] [error="Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }"]
[2024/07/29 22:09:44.819 +00:00] [INFO] [gc_worker.rs:1073] ["initialize compaction filter to perform GC when necessary"]
[2024/07/29 22:09:44.821 +00:00] [INFO] [compaction_filter.rs:171] ["initialize GC context for compaction filter"]
[2024/07/29 22:09:44.839 +00:00] [INFO] [pd.rs:1581] ["succeed to update max timestamp"] [region_id=1004]
[2024/07/29 22:09:44.850 +00:00] [INFO] [endpoint.rs:322] ["register observe region"] [region="id: 1004 region_epoch { conf_ver: 1 version: 1 } peers { id: 1005 store_id: 1003 }"]
[2024/07/29 22:09:44.850 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=waiter-manager]
[2024/07/29 22:09:44.850 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=deadlock-detector]
[2024/07/29 22:09:44.851 +00:00] [INFO] [deadlock.rs:749] ["became the leader of deadlock detector!"] [self_id=1003]
[2024/07/29 22:09:44.867 +00:00] [INFO] [endpoint.rs:241] ["Resolver initialized"] [pending_data_index=0] [snapshot_index=6] [observe_id=ObserveID(0)] [region=1004]
[2024/07/29 22:09:44.872 +00:00] [INFO] [server.rs:264] ["listening on addr"] [addr=0.0.0.0:20160]
[2024/07/29 22:09:44.940 +00:00] [INFO] [server.rs:309] ["TiKV is ready to serve"]
[2024/07/29 22:09:54.831 +00:00] [INFO] [pd.rs:1393] ["try to change peer"] [peer="id: 1010 store_id: 1001 role: Learner"] [change_type=AddLearnerNode] [region_id=1004]
[2024/07/29 22:09:54.831 +00:00] [INFO] [client.rs:763] ["set cluster version to 6.1.0"]
[2024/07/29 22:09:54.832 +00:00] [INFO] [peer.rs:4455] ["propose conf change peer"] [kind=Simple] [changes="[change_type: AddLearnerNode peer { id: 1010 store_id: 1001 role: Learner }]"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.833 +00:00] [INFO] [apply.rs:1395] ["execute admin command"] [command="cmd_type: ChangePeer change_peer { change_type: AddLearnerNode peer { id: 1010 store_id: 1001 role: Learner } }"] [index=12] [term=6] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.833 +00:00] [INFO] [apply.rs:1769] ["exec ConfChange"] [epoch="conf_ver: 1 version: 1"] [type=AddLearner] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.833 +00:00] [INFO] [apply.rs:1909] ["add learner successfully"] [region="id: 1004 region_epoch { conf_ver: 1 version: 1 } peers { id: 1005 store_id: 1003 }"] [peer="id: 1010 store_id: 1001 role: Learner"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.834 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005} }, outgoing: Configuration { voters: {} } }, learners: {1010}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:54.835 +00:00] [INFO] [peer.rs:3468] ["notify pd with change peer region"] [region="id: 1004 region_epoch { conf_ver: 2 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 role: Learner }"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.839 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:09:54.839 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1001] [addr=tikv0:20160]
[2024/07/29 22:09:54.861 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:09:54.862 +00:00] [INFO] [peer_storage.rs:1307] ["requesting snapshot"] [request_peer=1010] [request_index=0] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.865 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=0] [key_count=0] [cf=default] [snapshot=/data/tikv2/snap/gen_1004_6_12_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.866 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=0] [key_count=0] [cf=lock] [snapshot=/data/tikv2/snap/gen_1004_6_12_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.870 +00:00] [INFO] [io.rs:182] ["build_sst_cf_file_list builds 1 files in cf write. Total keys 3, total size 486. raw_size_per_file 18446744073709551615"]
[2024/07/29 22:09:54.870 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=486] [key_count=3] [cf=write] [snapshot=/data/tikv2/snap/gen_1004_6_12_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.871 +00:00] [INFO] [snap.rs:1049] ["scan snapshot"] [takes=6.846625ms] [size=1954] [key_count=3] [snapshot=/data/tikv2/snap/gen_1004_6_12_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.872 +00:00] [INFO] [snap.rs:674] ["set_snapshot_meta total cf files count: 3"]
[2024/07/29 22:09:54.879 +00:00] [INFO] [snap.rs:459] ["sent snapshot"] [duration=7.598042ms] [size=1954] [snap_key=1004_6_12] [region_id=1004]
[2024/07/29 22:09:54.879 +00:00] [INFO] [peer.rs:1752] ["report snapshot status"] [status=Finish] [to="id: 1010 store_id: 1001 role: Learner"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [pd.rs:1393] ["try to change peer"] [peer="id: 1010 store_id: 1001"] [change_type=AddNode] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [peer.rs:4455] ["propose conf change peer"] [kind=Simple] [changes="[peer { id: 1010 store_id: 1001 }]"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [apply.rs:1395] ["execute admin command"] [command="cmd_type: ChangePeer change_peer { peer { id: 1010 store_id: 1001 } }"] [index=13] [term=6] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [apply.rs:1769] ["exec ConfChange"] [epoch="conf_ver: 2 version: 1"] [type=AddNode] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [apply.rs:1824] ["add peer successfully"] [region="id: 1004 region_epoch { conf_ver: 2 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 role: Learner }"] [peer="id: 1010 store_id: 1001"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.895 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:54.896 +00:00] [INFO] [peer.rs:3468] ["notify pd with change peer region"] [region="id: 1004 region_epoch { conf_ver: 3 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 }"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.906 +00:00] [INFO] [pd.rs:1393] ["try to change peer"] [peer="id: 1011 store_id: 1002 role: Learner"] [change_type=AddLearnerNode] [region_id=1004]
[2024/07/29 22:09:54.906 +00:00] [INFO] [peer.rs:4455] ["propose conf change peer"] [kind=Simple] [changes="[change_type: AddLearnerNode peer { id: 1011 store_id: 1002 role: Learner }]"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.907 +00:00] [INFO] [apply.rs:1395] ["execute admin command"] [command="cmd_type: ChangePeer change_peer { change_type: AddLearnerNode peer { id: 1011 store_id: 1002 role: Learner } }"] [index=14] [term=6] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.907 +00:00] [INFO] [apply.rs:1769] ["exec ConfChange"] [epoch="conf_ver: 3 version: 1"] [type=AddLearner] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.907 +00:00] [INFO] [apply.rs:1909] ["add learner successfully"] [region="id: 1004 region_epoch { conf_ver: 3 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 }"] [peer="id: 1011 store_id: 1002 role: Learner"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.907 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010} }, outgoing: Configuration { voters: {} } }, learners: {1011}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:54.907 +00:00] [INFO] [peer.rs:3468] ["notify pd with change peer region"] [region="id: 1004 region_epoch { conf_ver: 4 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 } peers { id: 1011 store_id: 1002 role: Learner }"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.908 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:09:54.908 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:09:54.914 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:09:54.914 +00:00] [INFO] [peer_storage.rs:1307] ["requesting snapshot"] [request_peer=1011] [request_index=0] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.915 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=0] [key_count=0] [cf=default] [snapshot=/data/tikv2/snap/gen_1004_6_14_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.916 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=0] [key_count=0] [cf=lock] [snapshot=/data/tikv2/snap/gen_1004_6_14_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.916 +00:00] [INFO] [io.rs:182] ["build_sst_cf_file_list builds 1 files in cf write. Total keys 3, total size 486. raw_size_per_file 18446744073709551615"]
[2024/07/29 22:09:54.917 +00:00] [INFO] [snap.rs:919] ["scan snapshot of one cf"] [size=486] [key_count=3] [cf=write] [snapshot=/data/tikv2/snap/gen_1004_6_14_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.917 +00:00] [INFO] [snap.rs:1049] ["scan snapshot"] [takes=1.898166ms] [size=1954] [key_count=3] [snapshot=/data/tikv2/snap/gen_1004_6_14_(default|lock|write).sst] [region_id=1004]
[2024/07/29 22:09:54.917 +00:00] [INFO] [snap.rs:674] ["set_snapshot_meta total cf files count: 3"]
[2024/07/29 22:09:54.920 +00:00] [INFO] [snap.rs:459] ["sent snapshot"] [duration=3.197875ms] [size=1954] [snap_key=1004_6_14] [region_id=1004]
[2024/07/29 22:09:54.921 +00:00] [INFO] [peer.rs:1752] ["report snapshot status"] [status=Finish] [to="id: 1011 store_id: 1002 role: Learner"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.929 +00:00] [INFO] [pd.rs:1393] ["try to change peer"] [peer="id: 1011 store_id: 1002"] [change_type=AddNode] [region_id=1004]
[2024/07/29 22:09:54.929 +00:00] [INFO] [peer.rs:4455] ["propose conf change peer"] [kind=Simple] [changes="[peer { id: 1011 store_id: 1002 }]"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.930 +00:00] [INFO] [apply.rs:1395] ["execute admin command"] [command="cmd_type: ChangePeer change_peer { peer { id: 1011 store_id: 1002 } }"] [index=15] [term=6] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.930 +00:00] [INFO] [apply.rs:1769] ["exec ConfChange"] [epoch="conf_ver: 4 version: 1"] [type=AddNode] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.931 +00:00] [INFO] [apply.rs:1824] ["add peer successfully"] [region="id: 1004 region_epoch { conf_ver: 4 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 } peers { id: 1011 store_id: 1002 role: Learner }"] [peer="id: 1011 store_id: 1002"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:09:54.931 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:09:54.931 +00:00] [INFO] [peer.rs:3468] ["notify pd with change peer region"] [region="id: 1004 region_epoch { conf_ver: 5 version: 1 } peers { id: 1005 store_id: 1003 } peers { id: 1010 store_id: 1001 } peers { id: 1011 store_id: 1002 }"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:12:47.613 +00:00] [INFO] [signal_handler.rs:18] ["receive signal 15, stopping server..."]
[2024/07/29 22:12:47.622 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:12:47.623 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1002]
[2024/07/29 22:12:47.625 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:12:47.627 +00:00] [INFO] [store.rs:2659] ["broadcasting unreachable"] [unreachable_store_id=1002] [store_id=1003]
[2024/07/29 22:12:47.628 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv0:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1001]
[2024/07/29 22:12:47.633 +00:00] [INFO] [store.rs:2659] ["broadcasting unreachable"] [unreachable_store_id=1001] [store_id=1003]
[2024/07/29 22:12:47.635 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:12:47.637 +00:00] [INFO] [node.rs:513] ["stop raft store thread"] [store_id=1003]
[2024/07/29 22:12:47.637 +00:00] [INFO] [batch.rs:622] ["shutdown batch system apply"]
[2024/07/29 22:12:47.638 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:12:47.639 +00:00] [INFO] [batch.rs:635] ["batch system apply is stopped."]
[2024/07/29 22:12:47.640 +00:00] [INFO] [batch.rs:622] ["shutdown batch system raftstore-1003"]
[2024/07/29 22:12:47.640 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:12:47.642 +00:00] [INFO] [mod.rs:210] ["Storage stopped."]
[2024/07/29 22:12:47.644 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:12:47.646 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:12:47.647 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:12:47.647 +00:00] [INFO] [batch.rs:635] ["batch system raftstore-1003 is stopped."]
[2024/07/29 22:12:47.648 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:12:47.649 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1001] [addr=tikv0:20160]
[2024/07/29 22:12:47.649 +00:00] [INFO] [<unknown>] ["subchannel 0xfffce0350800 {address=ipv4:172.19.0.6:20160, args=grpc.client_channel_factory=0xffff600705b8, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv1:20160, random id=2}: connect failed: {\"created\":\"@1722291167.641348549\",\"description\":\"Failed to connect to remote host: Connection refused\",\"errno\":111,\"file\":\"/root/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.1+1.44.0/grpc/src/core/lib/iomgr/tcp_client_posix.cc\",\"file_line\":200,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:172.19.0.6:20160\"}"]
[2024/07/29 22:12:47.651 +00:00] [INFO] [<unknown>] ["subchannel 0xfffce0350800 {address=ipv4:172.19.0.6:20160, args=grpc.client_channel_factory=0xffff600705b8, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv1:20160, random id=2}: Retry in 996 milliseconds"]
[2024/07/29 22:12:47.651 +00:00] [INFO] [<unknown>] ["subchannel 0xfffde02e0800 {address=ipv4:172.19.0.5:20160, args=grpc.client_channel_factory=0xffff600705b8, grpc.default_authority=tikv0:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv0:20160, random id=3}: connect failed: {\"created\":\"@1722291167.641547757\",\"description\":\"Failed to connect to remote host: Connection refused\",\"errno\":111,\"file\":\"/root/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.1+1.44.0/grpc/src/core/lib/iomgr/tcp_client_posix.cc\",\"file_line\":200,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:172.19.0.5:20160\"}"]
[2024/07/29 22:12:47.652 +00:00] [INFO] [<unknown>] ["subchannel 0xfffde02e0800 {address=ipv4:172.19.0.5:20160, args=grpc.client_channel_factory=0xffff600705b8, grpc.default_authority=tikv0:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv0:20160, random id=3}: Retry in 996 milliseconds"]
[2024/07/29 22:12:47.652 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv0:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] })))"] [store_id=1001]
[2024/07/29 22:12:47.652 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:12:47.652 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] })))"] [store_id=1002]
[2024/07/29 22:12:47.652 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:12:47.652 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=waiter-manager]
[2024/07/29 22:12:47.653 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=deadlock-detector]
[2024/07/29 22:12:47.771 +00:00] [ERROR] [pd.rs:102] ["Failed to send write flow statistics"] [err="channel has been closed"]
[2024/07/29 22:12:47.771 +00:00] [ERROR] [pd.rs:102] ["Failed to send write flow statistics"] [err="channel has been closed"]
[2024/07/29 22:19:01.194 +00:00] [INFO] [lib.rs:79] ["Welcome to TiKV"]
[2024/07/29 22:19:01.196 +00:00] [INFO] [lib.rs:84] ["Release Version:   6.1.0"]
[2024/07/29 22:19:01.196 +00:00] [INFO] [lib.rs:84] ["Edition:           Community"]
[2024/07/29 22:19:01.196 +00:00] [INFO] [lib.rs:84] ["Git Commit Hash:   080d086832ae5ce2495352dccaf8df5d40f30687"]
[2024/07/29 22:19:01.197 +00:00] [INFO] [lib.rs:84] ["Git Commit Branch: heads/refs/tags/v6.1.0"]
[2024/07/29 22:19:01.197 +00:00] [INFO] [lib.rs:84] ["UTC Build Time:    Unknown (env var does not exist when building)"]
[2024/07/29 22:19:01.197 +00:00] [INFO] [lib.rs:84] ["Rust Version:      rustc 1.60.0-nightly (1e12aef3f 2022-02-13)"]
[2024/07/29 22:19:01.197 +00:00] [INFO] [lib.rs:84] ["Enable Features:   jemalloc mem-profiling portable test-engine-kv-rocksdb test-engine-raft-raft-engine cloud-aws cloud-gcp cloud-azure"]
[2024/07/29 22:19:01.198 +00:00] [INFO] [lib.rs:84] ["Profile:           dist_release"]
[2024/07/29 22:19:01.199 +00:00] [INFO] [mod.rs:74] ["cgroup quota: memory=None, cpu=None, cores={}"]
[2024/07/29 22:19:01.199 +00:00] [INFO] [mod.rs:81] ["memory limit in bytes: 4212162560, cpu cores quota: 8"]
[2024/07/29 22:19:01.200 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.core.somaxconn got 4096, expect 32768"]
[2024/07/29 22:19:01.200 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.ipv4.tcp_syncookies got 1, expect 0"]
[2024/07/29 22:19:01.200 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters vm.swappiness got 60, expect 0"]
[2024/07/29 22:19:01.216 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:19:01.218 +00:00] [INFO] [<unknown>] ["TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter"]
[2024/07/29 22:19:03.220 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 4-DEADLINE_EXCEEDED, message: \"Deadline Exceeded\", details: [] }))"] [endpoints=pd0:2379]
[2024/07/29 22:19:03.234 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:19:03.693 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd1:2379]
[2024/07/29 22:19:03.696 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:19:03.700 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd2:2379]
[2024/07/29 22:19:03.701 +00:00] [WARN] [client.rs:163] ["validate PD endpoints failed"] [err="Other(\"[components/pd_client/src/util.rs:570]: PD cluster failed to respond\")"]
[2024/07/29 22:19:04.002 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:19:04.007 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:19:04.015 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:19:04.016 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd2:2379]
[2024/07/29 22:19:04.017 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd0:2379]
[2024/07/29 22:19:04.018 +00:00] [INFO] [util.rs:701] ["connected to PD member"] [endpoints=http://pd0:2379]
[2024/07/29 22:19:04.018 +00:00] [INFO] [util.rs:567] ["all PD endpoints are consistent"] [endpoints="[\"pd0:2379\", \"pd1:2379\", \"pd2:2379\"]"]
[2024/07/29 22:19:04.022 +00:00] [INFO] [server.rs:369] ["connect to PD cluster"] [cluster_id=7397183400508190990]
[2024/07/29 22:19:04.023 +00:00] [INFO] [config.rs:2041] ["readpool.storage.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:19:04.023 +00:00] [INFO] [config.rs:2064] ["readpool.coprocessor.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:19:04.031 +00:00] [INFO] [config.rs:293] ["no advertise-status-addr is specified, falling back to status-addr"] [status-addr=127.0.0.1:20180]
[2024/07/29 22:19:04.031 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:19:04.044 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:19:04.045 +00:00] [INFO] [server.rs:1541] ["beginning system configuration check"]
[2024/07/29 22:19:04.045 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2]
[2024/07/29 22:19:04.045 +00:00] [WARN] [server.rs:1557] ["check: rocksdb-data-dir"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2]
[2024/07/29 22:19:04.045 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2/raft]
[2024/07/29 22:19:04.050 +00:00] [WARN] [server.rs:1565] ["check: raftdb-path"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2/raft]
[2024/07/29 22:19:04.051 +00:00] [INFO] [server.rs:338] ["using config"] [config="{\"log-level\":\"info\",\"log-file\":\"\",\"log-format\":\"text\",\"log-rotation-timespan\":\"0s\",\"log-rotation-size\":\"300MiB\",\"slow-log-file\":\"\",\"slow-log-threshold\":\"1s\",\"panic-when-unexpected-key-or-data\":false,\"abort-on-panic\":false,\"memory-usage-limit\":\"3530MiB\",\"memory-usage-high-water\":0.9,\"log\":{\"level\":\"info\",\"format\":\"text\",\"enable-timestamp\":true,\"file\":{\"filename\":\"/logs/tikv2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0}},\"quota\":{\"foreground-cpu-time\":0,\"foreground-write-bandwidth\":\"0KiB\",\"foreground-read-bandwidth\":\"0KiB\",\"max-delay-duration\":\"500ms\"},\"readpool\":{\"unified\":{\"min-thread-count\":1,\"max-thread-count\":6,\"stack-size\":\"10MiB\",\"max-tasks-per-worker\":2000},\"storage\":{\"use-unified-pool\":true,\"high-concurrency\":4,\"normal-concurrency\":4,\"low-concurrency\":4,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"},\"coprocessor\":{\"use-unified-pool\":true,\"high-concurrency\":6,\"normal-concurrency\":6,\"low-concurrency\":6,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"}},\"server\":{\"addr\":\"0.0.0.0:20160\",\"advertise-addr\":\"tikv2:20160\",\"status-addr\":\"127.0.0.1:20180\",\"advertise-status-addr\":\"127.0.0.1:20180\",\"status-thread-pool-size\":1,\"max-grpc-send-msg-len\":10485760,\"raft-client-grpc-send-msg-buffer\":524288,\"raft-client-queue-size\":8192,\"raft-msg-max-batch-size\":128,\"grpc-compression-type\":\"none\",\"grpc-concurrency\":5,\"grpc-concurrent-stream\":1024,\"grpc-raft-conn-num\":1,\"grpc-memory-pool-quota\":9223372036854775807,\"grpc-stream-initial-window-size\":\"2MiB\",\"grpc-keepalive-time\":\"10s\",\"grpc-keepalive-timeout\":\"3s\",\"concurrent-send-snap-limit\":32,\"concurrent-recv-snap-limit\":32,\"end-point-recursion-limit\":1000,\"end-point-stream-channel-size\":8,\"end-point-batch-row-limit\":64,\"end-point-stream-batch-row-limit\":128,\"end-point-enable-batch-if-possible\":true,\"end-point-request-max-handle-duration\":\"1m\",\"end-point-max-concurrency\":8,\"end-point-perf-level\":0,\"snap-max-write-bytes-per-sec\":\"100MiB\",\"snap-max-total-size\":\"0KiB\",\"stats-concurrency\":1,\"heavy-load-threshold\":75,\"heavy-load-wait-duration\":null,\"enable-request-batch\":true,\"background-thread-count\":2,\"end-point-slow-log-threshold\":\"1s\",\"forward-max-connections-per-address\":4,\"reject-messages-on-memory-ratio\":0.2,\"labels\":{}},\"storage\":{\"data-dir\":\"/data/tikv2\",\"gc-ratio-threshold\":1.1,\"max-key-size\":8192,\"scheduler-concurrency\":524288,\"scheduler-worker-pool-size\":4,\"scheduler-pending-write-threshold\":\"100MiB\",\"reserve-space\":\"5GiB\",\"enable-async-apply-prewrite\":false,\"api-version\":1,\"enable-ttl\":false,\"background-error-recovery-window\":\"1h\",\"ttl-check-poll-interval\":\"12h\",\"flow-control\":{\"enable\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"memtables-threshold\":5,\"l0-files-threshold\":20},\"block-cache\":{\"shared\":true,\"capacity\":\"2118MiB\",\"num-shard-bits\":6,\"strict-capacity-limit\":false,\"high-pri-pool-ratio\":0.8,\"memory-allocator\":\"nodump\"},\"io-rate-limit\":{\"max-bytes-per-sec\":\"0KiB\",\"mode\":\"write-only\",\"strict\":false,\"foreground-read-priority\":\"high\",\"foreground-write-priority\":\"high\",\"flush-priority\":\"high\",\"level-zero-compaction-priority\":\"medium\",\"compaction-priority\":\"low\",\"replication-priority\":\"high\",\"load-balance-priority\":\"high\",\"gc-priority\":\"high\",\"import-priority\":\"medium\",\"export-priority\":\"medium\",\"other-priority\":\"high\"}},\"pd\":{\"endpoints\":[\"pd0:2379\",\"pd1:2379\",\"pd2:2379\"],\"retry-interval\":\"300ms\",\"retry-max-count\":9223372036854775807,\"retry-log-every\":10,\"update-interval\":\"10m\",\"enable-forwarding\":false},\"metric\":{\"job\":\"tikv\"},\"raftstore\":{\"prevote\":true,\"raftdb-path\":\"/data/tikv2/raft\",\"capacity\":\"0KiB\",\"raft-base-tick-interval\":\"1s\",\"raft-heartbeat-ticks\":2,\"raft-election-timeout-ticks\":10,\"raft-min-election-timeout-ticks\":10,\"raft-max-election-timeout-ticks\":20,\"raft-max-size-per-msg\":\"1MiB\",\"raft-max-inflight-msgs\":256,\"raft-entry-max-size\":\"8MiB\",\"raft-log-compact-sync-interval\":\"2s\",\"raft-log-gc-tick-interval\":\"3s\",\"raft-log-gc-threshold\":50,\"raft-log-gc-count-limit\":73728,\"raft-log-gc-size-limit\":\"72MiB\",\"raft-log-reserve-max-ticks\":6,\"raft-engine-purge-interval\":\"10s\",\"raft-entry-cache-life-time\":\"30s\",\"split-region-check-tick-interval\":\"10s\",\"region-split-check-diff\":\"6MiB\",\"region-compact-check-interval\":\"5m\",\"region-compact-check-step\":100,\"region-compact-min-tombstones\":10000,\"region-compact-tombstones-percent\":30,\"pd-heartbeat-tick-interval\":\"1m\",\"pd-store-heartbeat-tick-interval\":\"10s\",\"snap-mgr-gc-tick-interval\":\"1m\",\"snap-gc-timeout\":\"4h\",\"lock-cf-compact-interval\":\"10m\",\"lock-cf-compact-bytes-threshold\":\"256MiB\",\"notify-capacity\":40960,\"messages-per-tick\":4096,\"max-peer-down-duration\":\"10m\",\"max-leader-missing-duration\":\"2h\",\"abnormal-leader-missing-duration\":\"10m\",\"peer-stale-state-check-interval\":\"5m\",\"leader-transfer-max-log-lag\":128,\"snap-apply-batch-size\":\"10MiB\",\"consistency-check-interval\":\"0s\",\"report-region-flow-interval\":\"1m\",\"raft-store-max-leader-lease\":\"9s\",\"check-leader-lease-interval\":\"2s250ms\",\"renew-leader-lease-advance-duration\":\"2s250ms\",\"right-derive-when-split\":true,\"merge-max-log-gap\":10,\"merge-check-tick-interval\":\"2s\",\"use-delete-range\":false,\"snap-generator-pool-size\":2,\"cleanup-import-sst-interval\":\"10m\",\"local-read-batch-size\":1024,\"apply-max-batch-size\":256,\"apply-pool-size\":2,\"apply-reschedule-duration\":\"5s\",\"apply-low-priority-pool-size\":1,\"store-max-batch-size\":256,\"store-pool-size\":2,\"store-reschedule-duration\":\"5s\",\"store-low-priority-pool-size\":0,\"store-io-pool-size\":0,\"store-io-notify-capacity\":40960,\"future-poll-size\":1,\"hibernate-regions\":true,\"dev-assert\":false,\"apply-yield-duration\":\"500ms\",\"perf-level\":0,\"evict-cache-on-memory-ratio\":0.0,\"cmd-batch\":true,\"cmd-batch-concurrent-ready-max-count\":1,\"raft-write-size-limit\":\"1MiB\",\"waterfall-metrics\":true,\"io-reschedule-concurrent-max-count\":4,\"io-reschedule-hotpot-duration\":\"5s\",\"inspect-interval\":\"500ms\",\"report-min-resolved-ts-interval\":\"0s\",\"reactive-memory-lock-tick-interval\":\"2s\",\"reactive-memory-lock-timeout-tick\":5,\"report-region-buckets-tick-interval\":\"10s\",\"max-snapshot-file-raw-size\":\"100MiB\"},\"coprocessor\":{\"split-region-on-table\":false,\"batch-split-limit\":10,\"region-max-size\":\"144MiB\",\"region-split-size\":\"96MiB\",\"region-max-keys\":1440000,\"region-split-keys\":960000,\"consistency-check-method\":\"mvcc\",\"enable-region-bucket\":false,\"region-bucket-size\":\"96MiB\",\"region-size-threshold-for-approximate\":\"1440MiB\",\"prefer-approximate-bucket\":true,\"region-bucket-merge-size-ratio\":0.33},\"coprocessor-v2\":{\"coprocessor-plugin-directory\":null},\"rocksdb\":{\"info-log-level\":\"info\",\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":7,\"max-background-flushes\":2,\"max-manifest-file-size\":\"128MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"rate-bytes-per-sec\":\"10GiB\",\"rate-limiter-refill-period\":\"100ms\",\"rate-limiter-mode\":2,\"rate-limiter-auto-tuned\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"max-sub-compactions\":3,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":false,\"enable-multi-batch-write\":true,\"enable-unordered-write\":false,\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"1004MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"writecf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"602MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":false,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"lockcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"32MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"raftcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"128MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raftdb\":{\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":4,\"max-background-flushes\":1,\"max-manifest-file-size\":\"20MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"info-log-level\":\"info\",\"max-sub-compactions\":2,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":true,\"enable-unordered-write\":false,\"allow-concurrent-memtable-write\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":false,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":10000,\"level0-stop-writes-trigger\":10000,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":false,\"soft-pending-compaction-bytes-limit\":\"0KiB\",\"hard-pending-compaction-bytes-limit\":\"0KiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raft-engine\":{\"enable\":true,\"dir\":\"/data/tikv2/raft-engine\",\"recovery-mode\":\"tolerate-corrupted-tail-records\",\"recovery-read-block-size\":\"16KiB\",\"recovery-threads\":4,\"batch-compression-threshold\":\"8KiB\",\"bytes-per-sync\":\"4MiB\",\"target-file-size\":\"128MiB\",\"purge-threshold\":\"10GiB\",\"purge-rewrite-threshold\":\"1GiB\",\"purge-rewrite-garbage-ratio\":0.6,\"memory-limit\":\"617016KiB\"},\"security\":{\"ca-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":[],\"redact-info-log\":null,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"7d\",\"enable-file-dictionary-log\":true,\"file-dictionary-rewrite-threshold\":1000000,\"master-key\":{\"type\":\"plaintext\"},\"previous-master-key\":{\"type\":\"plaintext\"}}},\"import\":{\"num-threads\":8,\"stream-channel-window\":128,\"import-mode-timeout\":\"10m\"},\"backup\":{\"num-threads\":4,\"batch-size\":8,\"sst-max-size\":\"144MiB\",\"enable-auto-tune\":true,\"auto-tune-remain-threads\":2,\"auto-tune-refresh-interval\":\"1m\",\"io-thread-size\":2,\"s3-multi-part-size\":\"5MiB\",\"hadoop\":{\"home\":\"\",\"linux-user\":\"\"}},\"log-backup\":{\"max-flush-interval\":\"5m\",\"num-threads\":4,\"io-threads\":2,\"enable\":false,\"temp-path\":\"/data/tikv2/log-backup-tmp\",\"temp-file-size-limit-per-task\":\"128MiB\",\"initial-scan-pending-memory-quota\":\"411344KiB\"},\"pessimistic-txn\":{\"wait-for-lock-timeout\":\"1s\",\"wake-up-delay-duration\":\"20ms\",\"pipelined\":true,\"in-memory\":true},\"gc\":{\"ratio-threshold\":1.1,\"batch-keys\":512,\"max-write-bytes-per-sec\":\"0KiB\",\"enable-compaction-filter\":true,\"compaction-filter-skip-version-check\":false},\"split\":{\"qps-threshold\":3000,\"split-balance-score\":0.25,\"split-contained-score\":0.5,\"detect-times\":10,\"sample-num\":20,\"sample-threshold\":100,\"byte-threshold\":31457280},\"cdc\":{\"min-ts-interval\":\"1s\",\"hibernate-regions-compatible\":true,\"incremental-scan-threads\":4,\"incremental-scan-concurrency\":6,\"incremental-scan-speed-limit\":\"128MiB\",\"incremental-scan-ts-filter-ratio\":0.2,\"sink-memory-quota\":\"512MiB\",\"old-value-cache-memory-quota\":\"512MiB\"},\"resolved-ts\":{\"enable\":true,\"advance-ts-interval\":\"1s\",\"scan-lock-pool-size\":2},\"resource-metering\":{\"receiver-address\":\"\",\"report-receiver-interval\":\"1m\",\"max-resource-groups\":100,\"precision\":\"1s\"},\"causal-ts\":{\"renew-interval\":\"100ms\",\"renew-batch-min-size\":100}}"]
[2024/07/29 22:19:13.236 +00:00] [INFO] [mod.rs:124] ["encryption: none of key dictionary and file dictionary are found."]
[2024/07/29 22:19:13.241 +00:00] [INFO] [mod.rs:485] ["encryption is disabled."]
[2024/07/29 22:19:13.317 +00:00] [WARN] [pipe_builder.rs:273] ["The last log file is corrupted but ignored: Append:1, Corruption: Log item offset is smaller than log batch header length"]
[2024/07/29 22:19:13.320 +00:00] [INFO] [engine.rs:91] ["Recovering raft logs takes 16.014291ms"]
[2024/07/29 22:19:13.833 +00:00] [INFO] [mod.rs:259] ["Storage started."]
[2024/07/29 22:19:13.924 +00:00] [INFO] [node.rs:217] ["put store to PD"] [store="id: 1003 address: \"tikv2:20160\" version: \"6.1.0\" status_address: \"127.0.0.1:20180\" git_hash: \"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp: 1722291553 deploy_path: \"/\""]
[2024/07/29 22:19:13.996 +00:00] [INFO] [node.rs:345] ["initializing replication mode"] [store_id=1003] [status=Some()]
[2024/07/29 22:19:13.999 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1001]
[2024/07/29 22:19:14.000 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1002]
[2024/07/29 22:19:14.000 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1003]
[2024/07/29 22:19:14.002 +00:00] [INFO] [node.rs:480] ["start raft store thread"] [store_id=1003]
[2024/07/29 22:19:14.003 +00:00] [INFO] [snap.rs:1381] ["Initializing SnapManager, encryption is enabled: false"]
[2024/07/29 22:19:14.012 +00:00] [INFO] [peer.rs:251] ["create peer"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:19:14.020 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:14.021 +00:00] [INFO] [raft.rs:1120] ["became follower at term 6"] [term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:14.084 +00:00] [INFO] [raft.rs:384] [newRaft] [peers="Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }"] ["last term"=6] ["last index"=16] [applied=16] [commit=16] [term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:14.084 +00:00] [INFO] [raw_node.rs:315] ["RawNode created with id 1005."] [id=1005] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:14.088 +00:00] [INFO] [store.rs:1173] ["start store"] [takes=81.458625ms] [merge_count=0] [applying_count=0] [tombstone_count=0] [region_count=1] [store_id=1003]
[2024/07/29 22:19:14.089 +00:00] [INFO] [store.rs:1221] ["cleans up garbage data"] [takes=1.625µs] [garbage_range_count=2] [store_id=1003]
[2024/07/29 22:19:14.104 +00:00] [WARN] [store.rs:1647] ["set thread priority for raftstore failed"] [error="Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }"]
[2024/07/29 22:19:14.105 +00:00] [INFO] [gc_worker.rs:1073] ["initialize compaction filter to perform GC when necessary"]
[2024/07/29 22:19:14.106 +00:00] [INFO] [compaction_filter.rs:171] ["initialize GC context for compaction filter"]
[2024/07/29 22:19:14.131 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=waiter-manager]
[2024/07/29 22:19:14.133 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=deadlock-detector]
[2024/07/29 22:19:14.142 +00:00] [INFO] [server.rs:264] ["listening on addr"] [addr=0.0.0.0:20160]
[2024/07/29 22:19:14.164 +00:00] [INFO] [server.rs:309] ["TiKV is ready to serve"]
[2024/07/29 22:19:24.125 +00:00] [INFO] [client.rs:763] ["set cluster version to 6.1.0"]
[2024/07/29 22:19:24.135 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:19:24.139 +00:00] [INFO] [raft.rs:1565] ["[logterm: 6, index: 16, vote: 1005] cast vote for 1011 [logterm: 6, index: 16] at term 6"] ["msg type"=MsgRequestPreVote] [term=6] [msg_index=16] [msg_term=6] [from=1011] [vote=1005] [log_index=16] [log_term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:24.141 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:19:24.141 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:19:24.147 +00:00] [INFO] [raft.rs:1364] ["received a message with higher term from 1011"] ["msg type"=MsgRequestVote] [message_term=7] [term=6] [from=1011] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:24.148 +00:00] [INFO] [raft.rs:1120] ["became follower at term 7"] [term=7] [raft_id=1005] [region_id=1004]
[2024/07/29 22:19:24.150 +00:00] [INFO] [raft.rs:1565] ["[logterm: 6, index: 16, vote: 0] cast vote for 1011 [logterm: 6, index: 16] at term 7"] ["msg type"=MsgRequestVote] [term=7] [msg_index=16] [msg_term=6] [from=1011] [vote=0] [log_index=16] [log_term=6] [raft_id=1005] [region_id=1004]
[2024/07/29 22:20:48.371 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.18.0.6:49792] [err=Grpc(RemoteStopped)]
[2024/07/29 22:20:51.374 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.18.0.6:49792] [err=Grpc(RemoteStopped)]
[2024/07/29 22:20:56.381 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.18.0.6:49792] [err=Grpc(RemoteStopped)]
[2024/07/29 22:21:26.421 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.18.0.6:49792] [err=Grpc(RemoteStopped)]
[2024/07/29 22:22:18.483 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.18.0.6:49792] [err=Grpc(RemoteStopped)]
[2024/07/29 22:22:34.114 +00:00] [INFO] [signal_handler.rs:18] ["receive signal 15, stopping server..."]
[2024/07/29 22:22:34.123 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:22:34.138 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1002]
[2024/07/29 22:22:34.139 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:22:34.139 +00:00] [INFO] [store.rs:2659] ["broadcasting unreachable"] [unreachable_store_id=1002] [store_id=1003]
[2024/07/29 22:22:34.140 +00:00] [INFO] [node.rs:513] ["stop raft store thread"] [store_id=1003]
[2024/07/29 22:22:34.140 +00:00] [INFO] [batch.rs:622] ["shutdown batch system apply"]
[2024/07/29 22:22:34.141 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:22:34.142 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:22:34.142 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:22:34.143 +00:00] [INFO] [mod.rs:210] ["Storage stopped."]
[2024/07/29 22:22:34.143 +00:00] [INFO] [batch.rs:635] ["batch system apply is stopped."]
[2024/07/29 22:22:34.143 +00:00] [INFO] [batch.rs:622] ["shutdown batch system raftstore-1003"]
[2024/07/29 22:22:34.144 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:22:34.144 +00:00] [INFO] [<unknown>] ["subchannel 0xffff403b4800 {address=ipv4:172.18.0.6:20160, args=grpc.client_channel_factory=0xffff40070598, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff402a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff401a1420, grpc.server_uri=dns:///tikv1:20160, random id=1}: connect failed: {\"created\":\"@1722291754.142225045\",\"description\":\"Failed to connect to remote host: Connection refused\",\"errno\":111,\"file\":\"/root/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.1+1.44.0/grpc/src/core/lib/iomgr/tcp_client_posix.cc\",\"file_line\":200,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:172.18.0.6:20160\"}"]
[2024/07/29 22:22:34.145 +00:00] [INFO] [<unknown>] ["subchannel 0xffff403b4800 {address=ipv4:172.18.0.6:20160, args=grpc.client_channel_factory=0xffff40070598, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff402a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff401a1420, grpc.server_uri=dns:///tikv1:20160, random id=1}: Retry in 999 milliseconds"]
[2024/07/29 22:22:34.146 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] })))"] [store_id=1002]
[2024/07/29 22:22:34.146 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:22:34.146 +00:00] [INFO] [batch.rs:635] ["batch system raftstore-1003 is stopped."]
[2024/07/29 22:22:34.147 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=waiter-manager]
[2024/07/29 22:22:34.148 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=deadlock-detector]
[2024/07/29 22:22:49.920 +00:00] [INFO] [lib.rs:79] ["Welcome to TiKV"]
[2024/07/29 22:22:49.923 +00:00] [INFO] [lib.rs:84] ["Release Version:   6.1.0"]
[2024/07/29 22:22:49.923 +00:00] [INFO] [lib.rs:84] ["Edition:           Community"]
[2024/07/29 22:22:49.924 +00:00] [INFO] [lib.rs:84] ["Git Commit Hash:   080d086832ae5ce2495352dccaf8df5d40f30687"]
[2024/07/29 22:22:49.925 +00:00] [INFO] [lib.rs:84] ["Git Commit Branch: heads/refs/tags/v6.1.0"]
[2024/07/29 22:22:49.925 +00:00] [INFO] [lib.rs:84] ["UTC Build Time:    Unknown (env var does not exist when building)"]
[2024/07/29 22:22:49.927 +00:00] [INFO] [lib.rs:84] ["Rust Version:      rustc 1.60.0-nightly (1e12aef3f 2022-02-13)"]
[2024/07/29 22:22:49.928 +00:00] [INFO] [lib.rs:84] ["Enable Features:   jemalloc mem-profiling portable test-engine-kv-rocksdb test-engine-raft-raft-engine cloud-aws cloud-gcp cloud-azure"]
[2024/07/29 22:22:49.929 +00:00] [INFO] [lib.rs:84] ["Profile:           dist_release"]
[2024/07/29 22:22:49.929 +00:00] [INFO] [mod.rs:74] ["cgroup quota: memory=None, cpu=None, cores={}"]
[2024/07/29 22:22:49.930 +00:00] [INFO] [mod.rs:81] ["memory limit in bytes: 4212162560, cpu cores quota: 8"]
[2024/07/29 22:22:49.930 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.core.somaxconn got 4096, expect 32768"]
[2024/07/29 22:22:49.930 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.ipv4.tcp_syncookies got 1, expect 0"]
[2024/07/29 22:22:49.931 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters vm.swappiness got 60, expect 0"]
[2024/07/29 22:22:49.997 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:22:50.002 +00:00] [INFO] [<unknown>] ["TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter"]
[2024/07/29 22:22:51.394 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd0:2379]
[2024/07/29 22:22:51.394 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:22:51.395 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd1:2379]
[2024/07/29 22:22:51.396 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:22:51.397 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd2:2379]
[2024/07/29 22:22:51.397 +00:00] [WARN] [client.rs:163] ["validate PD endpoints failed"] [err="Other(\"[components/pd_client/src/util.rs:570]: PD cluster failed to respond\")"]
[2024/07/29 22:22:51.700 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:22:51.702 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:22:51.703 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:22:51.704 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd2:2379]
[2024/07/29 22:22:51.705 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd1:2379]
[2024/07/29 22:22:51.706 +00:00] [INFO] [util.rs:701] ["connected to PD member"] [endpoints=http://pd1:2379]
[2024/07/29 22:22:51.706 +00:00] [INFO] [util.rs:567] ["all PD endpoints are consistent"] [endpoints="[\"pd0:2379\", \"pd1:2379\", \"pd2:2379\"]"]
[2024/07/29 22:22:51.706 +00:00] [INFO] [server.rs:369] ["connect to PD cluster"] [cluster_id=7397183400508190990]
[2024/07/29 22:22:51.706 +00:00] [INFO] [config.rs:2041] ["readpool.storage.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:22:51.707 +00:00] [INFO] [config.rs:2064] ["readpool.coprocessor.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:22:51.710 +00:00] [INFO] [config.rs:293] ["no advertise-status-addr is specified, falling back to status-addr"] [status-addr=127.0.0.1:20180]
[2024/07/29 22:22:51.710 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:22:51.719 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:22:51.720 +00:00] [INFO] [server.rs:1541] ["beginning system configuration check"]
[2024/07/29 22:22:51.720 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2]
[2024/07/29 22:22:51.720 +00:00] [WARN] [server.rs:1557] ["check: rocksdb-data-dir"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2]
[2024/07/29 22:22:51.721 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2/raft]
[2024/07/29 22:22:51.721 +00:00] [WARN] [server.rs:1565] ["check: raftdb-path"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2/raft]
[2024/07/29 22:22:51.723 +00:00] [INFO] [server.rs:338] ["using config"] [config="{\"log-level\":\"info\",\"log-file\":\"\",\"log-format\":\"text\",\"log-rotation-timespan\":\"0s\",\"log-rotation-size\":\"300MiB\",\"slow-log-file\":\"\",\"slow-log-threshold\":\"1s\",\"panic-when-unexpected-key-or-data\":false,\"abort-on-panic\":false,\"memory-usage-limit\":\"3530MiB\",\"memory-usage-high-water\":0.9,\"log\":{\"level\":\"info\",\"format\":\"text\",\"enable-timestamp\":true,\"file\":{\"filename\":\"/logs/tikv2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0}},\"quota\":{\"foreground-cpu-time\":0,\"foreground-write-bandwidth\":\"0KiB\",\"foreground-read-bandwidth\":\"0KiB\",\"max-delay-duration\":\"500ms\"},\"readpool\":{\"unified\":{\"min-thread-count\":1,\"max-thread-count\":6,\"stack-size\":\"10MiB\",\"max-tasks-per-worker\":2000},\"storage\":{\"use-unified-pool\":true,\"high-concurrency\":4,\"normal-concurrency\":4,\"low-concurrency\":4,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"},\"coprocessor\":{\"use-unified-pool\":true,\"high-concurrency\":6,\"normal-concurrency\":6,\"low-concurrency\":6,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"}},\"server\":{\"addr\":\"0.0.0.0:20160\",\"advertise-addr\":\"tikv2:20160\",\"status-addr\":\"127.0.0.1:20180\",\"advertise-status-addr\":\"127.0.0.1:20180\",\"status-thread-pool-size\":1,\"max-grpc-send-msg-len\":10485760,\"raft-client-grpc-send-msg-buffer\":524288,\"raft-client-queue-size\":8192,\"raft-msg-max-batch-size\":128,\"grpc-compression-type\":\"none\",\"grpc-concurrency\":5,\"grpc-concurrent-stream\":1024,\"grpc-raft-conn-num\":1,\"grpc-memory-pool-quota\":9223372036854775807,\"grpc-stream-initial-window-size\":\"2MiB\",\"grpc-keepalive-time\":\"10s\",\"grpc-keepalive-timeout\":\"3s\",\"concurrent-send-snap-limit\":32,\"concurrent-recv-snap-limit\":32,\"end-point-recursion-limit\":1000,\"end-point-stream-channel-size\":8,\"end-point-batch-row-limit\":64,\"end-point-stream-batch-row-limit\":128,\"end-point-enable-batch-if-possible\":true,\"end-point-request-max-handle-duration\":\"1m\",\"end-point-max-concurrency\":8,\"end-point-perf-level\":0,\"snap-max-write-bytes-per-sec\":\"100MiB\",\"snap-max-total-size\":\"0KiB\",\"stats-concurrency\":1,\"heavy-load-threshold\":75,\"heavy-load-wait-duration\":null,\"enable-request-batch\":true,\"background-thread-count\":2,\"end-point-slow-log-threshold\":\"1s\",\"forward-max-connections-per-address\":4,\"reject-messages-on-memory-ratio\":0.2,\"labels\":{}},\"storage\":{\"data-dir\":\"/data/tikv2\",\"gc-ratio-threshold\":1.1,\"max-key-size\":8192,\"scheduler-concurrency\":524288,\"scheduler-worker-pool-size\":4,\"scheduler-pending-write-threshold\":\"100MiB\",\"reserve-space\":\"5GiB\",\"enable-async-apply-prewrite\":false,\"api-version\":1,\"enable-ttl\":false,\"background-error-recovery-window\":\"1h\",\"ttl-check-poll-interval\":\"12h\",\"flow-control\":{\"enable\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"memtables-threshold\":5,\"l0-files-threshold\":20},\"block-cache\":{\"shared\":true,\"capacity\":\"2118MiB\",\"num-shard-bits\":6,\"strict-capacity-limit\":false,\"high-pri-pool-ratio\":0.8,\"memory-allocator\":\"nodump\"},\"io-rate-limit\":{\"max-bytes-per-sec\":\"0KiB\",\"mode\":\"write-only\",\"strict\":false,\"foreground-read-priority\":\"high\",\"foreground-write-priority\":\"high\",\"flush-priority\":\"high\",\"level-zero-compaction-priority\":\"medium\",\"compaction-priority\":\"low\",\"replication-priority\":\"high\",\"load-balance-priority\":\"high\",\"gc-priority\":\"high\",\"import-priority\":\"medium\",\"export-priority\":\"medium\",\"other-priority\":\"high\"}},\"pd\":{\"endpoints\":[\"pd0:2379\",\"pd1:2379\",\"pd2:2379\"],\"retry-interval\":\"300ms\",\"retry-max-count\":9223372036854775807,\"retry-log-every\":10,\"update-interval\":\"10m\",\"enable-forwarding\":false},\"metric\":{\"job\":\"tikv\"},\"raftstore\":{\"prevote\":true,\"raftdb-path\":\"/data/tikv2/raft\",\"capacity\":\"0KiB\",\"raft-base-tick-interval\":\"1s\",\"raft-heartbeat-ticks\":2,\"raft-election-timeout-ticks\":10,\"raft-min-election-timeout-ticks\":10,\"raft-max-election-timeout-ticks\":20,\"raft-max-size-per-msg\":\"1MiB\",\"raft-max-inflight-msgs\":256,\"raft-entry-max-size\":\"8MiB\",\"raft-log-compact-sync-interval\":\"2s\",\"raft-log-gc-tick-interval\":\"3s\",\"raft-log-gc-threshold\":50,\"raft-log-gc-count-limit\":73728,\"raft-log-gc-size-limit\":\"72MiB\",\"raft-log-reserve-max-ticks\":6,\"raft-engine-purge-interval\":\"10s\",\"raft-entry-cache-life-time\":\"30s\",\"split-region-check-tick-interval\":\"10s\",\"region-split-check-diff\":\"6MiB\",\"region-compact-check-interval\":\"5m\",\"region-compact-check-step\":100,\"region-compact-min-tombstones\":10000,\"region-compact-tombstones-percent\":30,\"pd-heartbeat-tick-interval\":\"1m\",\"pd-store-heartbeat-tick-interval\":\"10s\",\"snap-mgr-gc-tick-interval\":\"1m\",\"snap-gc-timeout\":\"4h\",\"lock-cf-compact-interval\":\"10m\",\"lock-cf-compact-bytes-threshold\":\"256MiB\",\"notify-capacity\":40960,\"messages-per-tick\":4096,\"max-peer-down-duration\":\"10m\",\"max-leader-missing-duration\":\"2h\",\"abnormal-leader-missing-duration\":\"10m\",\"peer-stale-state-check-interval\":\"5m\",\"leader-transfer-max-log-lag\":128,\"snap-apply-batch-size\":\"10MiB\",\"consistency-check-interval\":\"0s\",\"report-region-flow-interval\":\"1m\",\"raft-store-max-leader-lease\":\"9s\",\"check-leader-lease-interval\":\"2s250ms\",\"renew-leader-lease-advance-duration\":\"2s250ms\",\"right-derive-when-split\":true,\"merge-max-log-gap\":10,\"merge-check-tick-interval\":\"2s\",\"use-delete-range\":false,\"snap-generator-pool-size\":2,\"cleanup-import-sst-interval\":\"10m\",\"local-read-batch-size\":1024,\"apply-max-batch-size\":256,\"apply-pool-size\":2,\"apply-reschedule-duration\":\"5s\",\"apply-low-priority-pool-size\":1,\"store-max-batch-size\":256,\"store-pool-size\":2,\"store-reschedule-duration\":\"5s\",\"store-low-priority-pool-size\":0,\"store-io-pool-size\":0,\"store-io-notify-capacity\":40960,\"future-poll-size\":1,\"hibernate-regions\":true,\"dev-assert\":false,\"apply-yield-duration\":\"500ms\",\"perf-level\":0,\"evict-cache-on-memory-ratio\":0.0,\"cmd-batch\":true,\"cmd-batch-concurrent-ready-max-count\":1,\"raft-write-size-limit\":\"1MiB\",\"waterfall-metrics\":true,\"io-reschedule-concurrent-max-count\":4,\"io-reschedule-hotpot-duration\":\"5s\",\"inspect-interval\":\"500ms\",\"report-min-resolved-ts-interval\":\"0s\",\"reactive-memory-lock-tick-interval\":\"2s\",\"reactive-memory-lock-timeout-tick\":5,\"report-region-buckets-tick-interval\":\"10s\",\"max-snapshot-file-raw-size\":\"100MiB\"},\"coprocessor\":{\"split-region-on-table\":false,\"batch-split-limit\":10,\"region-max-size\":\"144MiB\",\"region-split-size\":\"96MiB\",\"region-max-keys\":1440000,\"region-split-keys\":960000,\"consistency-check-method\":\"mvcc\",\"enable-region-bucket\":false,\"region-bucket-size\":\"96MiB\",\"region-size-threshold-for-approximate\":\"1440MiB\",\"prefer-approximate-bucket\":true,\"region-bucket-merge-size-ratio\":0.33},\"coprocessor-v2\":{\"coprocessor-plugin-directory\":null},\"rocksdb\":{\"info-log-level\":\"info\",\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":7,\"max-background-flushes\":2,\"max-manifest-file-size\":\"128MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"rate-bytes-per-sec\":\"10GiB\",\"rate-limiter-refill-period\":\"100ms\",\"rate-limiter-mode\":2,\"rate-limiter-auto-tuned\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"max-sub-compactions\":3,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":false,\"enable-multi-batch-write\":true,\"enable-unordered-write\":false,\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"1004MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"writecf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"602MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":false,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"lockcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"32MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"raftcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"128MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raftdb\":{\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":4,\"max-background-flushes\":1,\"max-manifest-file-size\":\"20MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"info-log-level\":\"info\",\"max-sub-compactions\":2,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":true,\"enable-unordered-write\":false,\"allow-concurrent-memtable-write\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":false,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":10000,\"level0-stop-writes-trigger\":10000,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":false,\"soft-pending-compaction-bytes-limit\":\"0KiB\",\"hard-pending-compaction-bytes-limit\":\"0KiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raft-engine\":{\"enable\":true,\"dir\":\"/data/tikv2/raft-engine\",\"recovery-mode\":\"tolerate-corrupted-tail-records\",\"recovery-read-block-size\":\"16KiB\",\"recovery-threads\":4,\"batch-compression-threshold\":\"8KiB\",\"bytes-per-sync\":\"4MiB\",\"target-file-size\":\"128MiB\",\"purge-threshold\":\"10GiB\",\"purge-rewrite-threshold\":\"1GiB\",\"purge-rewrite-garbage-ratio\":0.6,\"memory-limit\":\"617016KiB\"},\"security\":{\"ca-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":[],\"redact-info-log\":null,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"7d\",\"enable-file-dictionary-log\":true,\"file-dictionary-rewrite-threshold\":1000000,\"master-key\":{\"type\":\"plaintext\"},\"previous-master-key\":{\"type\":\"plaintext\"}}},\"import\":{\"num-threads\":8,\"stream-channel-window\":128,\"import-mode-timeout\":\"10m\"},\"backup\":{\"num-threads\":4,\"batch-size\":8,\"sst-max-size\":\"144MiB\",\"enable-auto-tune\":true,\"auto-tune-remain-threads\":2,\"auto-tune-refresh-interval\":\"1m\",\"io-thread-size\":2,\"s3-multi-part-size\":\"5MiB\",\"hadoop\":{\"home\":\"\",\"linux-user\":\"\"}},\"log-backup\":{\"max-flush-interval\":\"5m\",\"num-threads\":4,\"io-threads\":2,\"enable\":false,\"temp-path\":\"/data/tikv2/log-backup-tmp\",\"temp-file-size-limit-per-task\":\"128MiB\",\"initial-scan-pending-memory-quota\":\"411344KiB\"},\"pessimistic-txn\":{\"wait-for-lock-timeout\":\"1s\",\"wake-up-delay-duration\":\"20ms\",\"pipelined\":true,\"in-memory\":true},\"gc\":{\"ratio-threshold\":1.1,\"batch-keys\":512,\"max-write-bytes-per-sec\":\"0KiB\",\"enable-compaction-filter\":true,\"compaction-filter-skip-version-check\":false},\"split\":{\"qps-threshold\":3000,\"split-balance-score\":0.25,\"split-contained-score\":0.5,\"detect-times\":10,\"sample-num\":20,\"sample-threshold\":100,\"byte-threshold\":31457280},\"cdc\":{\"min-ts-interval\":\"1s\",\"hibernate-regions-compatible\":true,\"incremental-scan-threads\":4,\"incremental-scan-concurrency\":6,\"incremental-scan-speed-limit\":\"128MiB\",\"incremental-scan-ts-filter-ratio\":0.2,\"sink-memory-quota\":\"512MiB\",\"old-value-cache-memory-quota\":\"512MiB\"},\"resolved-ts\":{\"enable\":true,\"advance-ts-interval\":\"1s\",\"scan-lock-pool-size\":2},\"resource-metering\":{\"receiver-address\":\"\",\"report-receiver-interval\":\"1m\",\"max-resource-groups\":100,\"precision\":\"1s\"},\"causal-ts\":{\"renew-interval\":\"100ms\",\"renew-batch-min-size\":100}}"]
[2024/07/29 22:22:54.646 +00:00] [INFO] [mod.rs:124] ["encryption: none of key dictionary and file dictionary are found."]
[2024/07/29 22:22:54.961 +00:00] [INFO] [mod.rs:485] ["encryption is disabled."]
[2024/07/29 22:22:57.431 +00:00] [WARN] [pipe_builder.rs:273] ["The last log file is corrupted but ignored: Append:1, Corruption: Log item offset is smaller than log batch header length"]
[2024/07/29 22:22:57.434 +00:00] [INFO] [engine.rs:91] ["Recovering raft logs takes 25.052833ms"]
[2024/07/29 22:22:57.784 +00:00] [INFO] [mod.rs:259] ["Storage started."]
[2024/07/29 22:22:57.785 +00:00] [INFO] [node.rs:217] ["put store to PD"] [store="id: 1003 address: \"tikv2:20160\" version: \"6.1.0\" status_address: \"127.0.0.1:20180\" git_hash: \"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp: 1722291777 deploy_path: \"/\""]
[2024/07/29 22:22:57.785 +00:00] [INFO] [node.rs:345] ["initializing replication mode"] [store_id=1003] [status=Some()]
[2024/07/29 22:22:57.785 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1001]
[2024/07/29 22:22:57.785 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1002]
[2024/07/29 22:22:57.785 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1003]
[2024/07/29 22:22:57.785 +00:00] [INFO] [node.rs:480] ["start raft store thread"] [store_id=1003]
[2024/07/29 22:22:57.786 +00:00] [INFO] [snap.rs:1381] ["Initializing SnapManager, encryption is enabled: false"]
[2024/07/29 22:22:57.786 +00:00] [INFO] [peer.rs:251] ["create peer"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:22:57.786 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:22:57.786 +00:00] [INFO] [raft.rs:1120] ["became follower at term 7"] [term=7] [raft_id=1005] [region_id=1004]
[2024/07/29 22:22:57.786 +00:00] [INFO] [raft.rs:384] [newRaft] [peers="Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }"] ["last term"=7] ["last index"=21] [applied=21] [commit=21] [term=7] [raft_id=1005] [region_id=1004]
[2024/07/29 22:22:57.786 +00:00] [INFO] [raw_node.rs:315] ["RawNode created with id 1005."] [id=1005] [raft_id=1005] [region_id=1004]
[2024/07/29 22:22:57.787 +00:00] [INFO] [store.rs:1173] ["start store"] [takes=670.916µs] [merge_count=0] [applying_count=0] [tombstone_count=0] [region_count=1] [store_id=1003]
[2024/07/29 22:22:57.787 +00:00] [INFO] [store.rs:1221] ["cleans up garbage data"] [takes=8.208µs] [garbage_range_count=2] [store_id=1003]
[2024/07/29 22:22:57.787 +00:00] [WARN] [store.rs:1647] ["set thread priority for raftstore failed"] [error="Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }"]
[2024/07/29 22:22:57.787 +00:00] [INFO] [gc_worker.rs:1073] ["initialize compaction filter to perform GC when necessary"]
[2024/07/29 22:22:57.787 +00:00] [INFO] [compaction_filter.rs:171] ["initialize GC context for compaction filter"]
[2024/07/29 22:22:57.787 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=waiter-manager]
[2024/07/29 22:22:57.787 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=deadlock-detector]
[2024/07/29 22:22:57.788 +00:00] [INFO] [server.rs:264] ["listening on addr"] [addr=0.0.0.0:20160]
[2024/07/29 22:22:57.788 +00:00] [INFO] [server.rs:309] ["TiKV is ready to serve"]
[2024/07/29 22:23:07.772 +00:00] [INFO] [client.rs:763] ["set cluster version to 6.1.0"]
[2024/07/29 22:23:07.804 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:23:07.812 +00:00] [INFO] [raft.rs:1565] ["[logterm: 7, index: 21, vote: 1011] cast vote for 1010 [logterm: 7, index: 21] at term 7"] ["msg type"=MsgRequestPreVote] [term=7] [msg_index=21] [msg_term=7] [from=1010] [vote=1011] [log_index=21] [log_term=7] [raft_id=1005] [region_id=1004]
[2024/07/29 22:23:07.815 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:23:07.815 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1001] [addr=tikv0:20160]
[2024/07/29 22:23:07.822 +00:00] [INFO] [raft.rs:1364] ["received a message with higher term from 1010"] ["msg type"=MsgRequestVote] [message_term=8] [term=7] [from=1010] [raft_id=1005] [region_id=1004]
[2024/07/29 22:23:07.822 +00:00] [INFO] [raft.rs:1120] ["became follower at term 8"] [term=8] [raft_id=1005] [region_id=1004]
[2024/07/29 22:23:07.822 +00:00] [INFO] [raft.rs:1565] ["[logterm: 7, index: 21, vote: 0] cast vote for 1010 [logterm: 7, index: 21] at term 8"] ["msg type"=MsgRequestVote] [term=8] [msg_index=21] [msg_term=7] [from=1010] [vote=0] [log_index=21] [log_term=7] [raft_id=1005] [region_id=1004]
[2024/07/29 22:23:08.788 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.19.0.6:33658] [err=Grpc(RemoteStopped)]
[2024/07/29 22:23:15.787 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.19.0.6:33658] [err=Grpc(RemoteStopped)]
[2024/07/29 22:23:50.014 +00:00] [INFO] [signal_handler.rs:18] ["receive signal 15, stopping server..."]
[2024/07/29 22:23:50.040 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:23:50.045 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv0:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1001]
[2024/07/29 22:23:50.045 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:23:50.046 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:23:50.047 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1001] [addr=tikv0:20160]
[2024/07/29 22:23:50.048 +00:00] [INFO] [store.rs:2659] ["broadcasting unreachable"] [unreachable_store_id=1001] [store_id=1003]
[2024/07/29 22:23:50.049 +00:00] [INFO] [<unknown>] ["subchannel 0xfffce0350400 {address=ipv4:172.19.0.6:20160, args=grpc.client_channel_factory=0xffff600705b0, grpc.default_authority=tikv0:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv0:20160, random id=1}: connect failed: {\"created\":\"@1722291830.047931719\",\"description\":\"Failed to connect to remote host: Connection refused\",\"errno\":111,\"file\":\"/root/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.1+1.44.0/grpc/src/core/lib/iomgr/tcp_client_posix.cc\",\"file_line\":200,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:172.19.0.6:20160\"}"]
[2024/07/29 22:23:50.049 +00:00] [INFO] [<unknown>] ["subchannel 0xfffce0350400 {address=ipv4:172.19.0.6:20160, args=grpc.client_channel_factory=0xffff600705b0, grpc.default_authority=tikv0:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv0:20160, random id=1}: Retry in 997 milliseconds"]
[2024/07/29 22:23:50.049 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv0:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] })))"] [store_id=1001]
[2024/07/29 22:23:50.051 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv0:20160] [store_id=1001]
[2024/07/29 22:23:50.053 +00:00] [INFO] [mod.rs:210] ["Storage stopped."]
[2024/07/29 22:23:50.059 +00:00] [INFO] [node.rs:513] ["stop raft store thread"] [store_id=1003]
[2024/07/29 22:23:50.059 +00:00] [INFO] [batch.rs:622] ["shutdown batch system apply"]
[2024/07/29 22:23:50.059 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:23:50.061 +00:00] [INFO] [batch.rs:635] ["batch system apply is stopped."]
[2024/07/29 22:23:50.062 +00:00] [INFO] [batch.rs:622] ["shutdown batch system raftstore-1003"]
[2024/07/29 22:23:50.062 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:23:50.064 +00:00] [INFO] [batch.rs:635] ["batch system raftstore-1003 is stopped."]
[2024/07/29 22:23:50.073 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=waiter-manager]
[2024/07/29 22:23:50.074 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=deadlock-detector]
[2024/07/29 22:24:41.411 +00:00] [INFO] [lib.rs:79] ["Welcome to TiKV"]
[2024/07/29 22:24:41.412 +00:00] [INFO] [lib.rs:84] ["Release Version:   6.1.0"]
[2024/07/29 22:24:41.412 +00:00] [INFO] [lib.rs:84] ["Edition:           Community"]
[2024/07/29 22:24:41.413 +00:00] [INFO] [lib.rs:84] ["Git Commit Hash:   080d086832ae5ce2495352dccaf8df5d40f30687"]
[2024/07/29 22:24:41.413 +00:00] [INFO] [lib.rs:84] ["Git Commit Branch: heads/refs/tags/v6.1.0"]
[2024/07/29 22:24:41.413 +00:00] [INFO] [lib.rs:84] ["UTC Build Time:    Unknown (env var does not exist when building)"]
[2024/07/29 22:24:41.418 +00:00] [INFO] [lib.rs:84] ["Rust Version:      rustc 1.60.0-nightly (1e12aef3f 2022-02-13)"]
[2024/07/29 22:24:41.419 +00:00] [INFO] [lib.rs:84] ["Enable Features:   jemalloc mem-profiling portable test-engine-kv-rocksdb test-engine-raft-raft-engine cloud-aws cloud-gcp cloud-azure"]
[2024/07/29 22:24:41.421 +00:00] [INFO] [lib.rs:84] ["Profile:           dist_release"]
[2024/07/29 22:24:41.422 +00:00] [INFO] [mod.rs:74] ["cgroup quota: memory=None, cpu=None, cores={}"]
[2024/07/29 22:24:41.422 +00:00] [INFO] [mod.rs:81] ["memory limit in bytes: 4212162560, cpu cores quota: 8"]
[2024/07/29 22:24:41.425 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.core.somaxconn got 4096, expect 32768"]
[2024/07/29 22:24:41.429 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.ipv4.tcp_syncookies got 1, expect 0"]
[2024/07/29 22:24:41.432 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters vm.swappiness got 60, expect 0"]
[2024/07/29 22:24:41.442 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:24:41.445 +00:00] [INFO] [<unknown>] ["TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter"]
[2024/07/29 22:24:43.404 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd0:2379]
[2024/07/29 22:24:43.405 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:24:43.408 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd1:2379]
[2024/07/29 22:24:43.409 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:24:43.411 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd2:2379]
[2024/07/29 22:24:43.411 +00:00] [WARN] [client.rs:163] ["validate PD endpoints failed"] [err="Other(\"[components/pd_client/src/util.rs:570]: PD cluster failed to respond\")"]
[2024/07/29 22:24:43.715 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:24:43.727 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:24:43.732 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:24:43.733 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd0:2379]
[2024/07/29 22:24:43.736 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd2:2379]
[2024/07/29 22:24:43.738 +00:00] [INFO] [util.rs:701] ["connected to PD member"] [endpoints=http://pd2:2379]
[2024/07/29 22:24:43.738 +00:00] [INFO] [util.rs:567] ["all PD endpoints are consistent"] [endpoints="[\"pd0:2379\", \"pd1:2379\", \"pd2:2379\"]"]
[2024/07/29 22:24:43.739 +00:00] [INFO] [server.rs:369] ["connect to PD cluster"] [cluster_id=7397183400508190990]
[2024/07/29 22:24:43.740 +00:00] [INFO] [config.rs:2041] ["readpool.storage.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:24:43.740 +00:00] [INFO] [config.rs:2064] ["readpool.coprocessor.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:24:43.743 +00:00] [INFO] [config.rs:293] ["no advertise-status-addr is specified, falling back to status-addr"] [status-addr=127.0.0.1:20180]
[2024/07/29 22:24:43.746 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:24:43.754 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:24:43.755 +00:00] [INFO] [server.rs:1541] ["beginning system configuration check"]
[2024/07/29 22:24:43.755 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2]
[2024/07/29 22:24:43.756 +00:00] [WARN] [server.rs:1557] ["check: rocksdb-data-dir"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2]
[2024/07/29 22:24:43.756 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2/raft]
[2024/07/29 22:24:43.756 +00:00] [WARN] [server.rs:1565] ["check: raftdb-path"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2/raft]
[2024/07/29 22:24:43.757 +00:00] [INFO] [server.rs:338] ["using config"] [config="{\"log-level\":\"info\",\"log-file\":\"\",\"log-format\":\"text\",\"log-rotation-timespan\":\"0s\",\"log-rotation-size\":\"300MiB\",\"slow-log-file\":\"\",\"slow-log-threshold\":\"1s\",\"panic-when-unexpected-key-or-data\":false,\"abort-on-panic\":false,\"memory-usage-limit\":\"3530MiB\",\"memory-usage-high-water\":0.9,\"log\":{\"level\":\"info\",\"format\":\"text\",\"enable-timestamp\":true,\"file\":{\"filename\":\"/logs/tikv2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0}},\"quota\":{\"foreground-cpu-time\":0,\"foreground-write-bandwidth\":\"0KiB\",\"foreground-read-bandwidth\":\"0KiB\",\"max-delay-duration\":\"500ms\"},\"readpool\":{\"unified\":{\"min-thread-count\":1,\"max-thread-count\":6,\"stack-size\":\"10MiB\",\"max-tasks-per-worker\":2000},\"storage\":{\"use-unified-pool\":true,\"high-concurrency\":4,\"normal-concurrency\":4,\"low-concurrency\":4,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"},\"coprocessor\":{\"use-unified-pool\":true,\"high-concurrency\":6,\"normal-concurrency\":6,\"low-concurrency\":6,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"}},\"server\":{\"addr\":\"0.0.0.0:20160\",\"advertise-addr\":\"tikv2:20160\",\"status-addr\":\"127.0.0.1:20180\",\"advertise-status-addr\":\"127.0.0.1:20180\",\"status-thread-pool-size\":1,\"max-grpc-send-msg-len\":10485760,\"raft-client-grpc-send-msg-buffer\":524288,\"raft-client-queue-size\":8192,\"raft-msg-max-batch-size\":128,\"grpc-compression-type\":\"none\",\"grpc-concurrency\":5,\"grpc-concurrent-stream\":1024,\"grpc-raft-conn-num\":1,\"grpc-memory-pool-quota\":9223372036854775807,\"grpc-stream-initial-window-size\":\"2MiB\",\"grpc-keepalive-time\":\"10s\",\"grpc-keepalive-timeout\":\"3s\",\"concurrent-send-snap-limit\":32,\"concurrent-recv-snap-limit\":32,\"end-point-recursion-limit\":1000,\"end-point-stream-channel-size\":8,\"end-point-batch-row-limit\":64,\"end-point-stream-batch-row-limit\":128,\"end-point-enable-batch-if-possible\":true,\"end-point-request-max-handle-duration\":\"1m\",\"end-point-max-concurrency\":8,\"end-point-perf-level\":0,\"snap-max-write-bytes-per-sec\":\"100MiB\",\"snap-max-total-size\":\"0KiB\",\"stats-concurrency\":1,\"heavy-load-threshold\":75,\"heavy-load-wait-duration\":null,\"enable-request-batch\":true,\"background-thread-count\":2,\"end-point-slow-log-threshold\":\"1s\",\"forward-max-connections-per-address\":4,\"reject-messages-on-memory-ratio\":0.2,\"labels\":{}},\"storage\":{\"data-dir\":\"/data/tikv2\",\"gc-ratio-threshold\":1.1,\"max-key-size\":8192,\"scheduler-concurrency\":524288,\"scheduler-worker-pool-size\":4,\"scheduler-pending-write-threshold\":\"100MiB\",\"reserve-space\":\"5GiB\",\"enable-async-apply-prewrite\":false,\"api-version\":1,\"enable-ttl\":false,\"background-error-recovery-window\":\"1h\",\"ttl-check-poll-interval\":\"12h\",\"flow-control\":{\"enable\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"memtables-threshold\":5,\"l0-files-threshold\":20},\"block-cache\":{\"shared\":true,\"capacity\":\"2118MiB\",\"num-shard-bits\":6,\"strict-capacity-limit\":false,\"high-pri-pool-ratio\":0.8,\"memory-allocator\":\"nodump\"},\"io-rate-limit\":{\"max-bytes-per-sec\":\"0KiB\",\"mode\":\"write-only\",\"strict\":false,\"foreground-read-priority\":\"high\",\"foreground-write-priority\":\"high\",\"flush-priority\":\"high\",\"level-zero-compaction-priority\":\"medium\",\"compaction-priority\":\"low\",\"replication-priority\":\"high\",\"load-balance-priority\":\"high\",\"gc-priority\":\"high\",\"import-priority\":\"medium\",\"export-priority\":\"medium\",\"other-priority\":\"high\"}},\"pd\":{\"endpoints\":[\"pd0:2379\",\"pd1:2379\",\"pd2:2379\"],\"retry-interval\":\"300ms\",\"retry-max-count\":9223372036854775807,\"retry-log-every\":10,\"update-interval\":\"10m\",\"enable-forwarding\":false},\"metric\":{\"job\":\"tikv\"},\"raftstore\":{\"prevote\":true,\"raftdb-path\":\"/data/tikv2/raft\",\"capacity\":\"0KiB\",\"raft-base-tick-interval\":\"1s\",\"raft-heartbeat-ticks\":2,\"raft-election-timeout-ticks\":10,\"raft-min-election-timeout-ticks\":10,\"raft-max-election-timeout-ticks\":20,\"raft-max-size-per-msg\":\"1MiB\",\"raft-max-inflight-msgs\":256,\"raft-entry-max-size\":\"8MiB\",\"raft-log-compact-sync-interval\":\"2s\",\"raft-log-gc-tick-interval\":\"3s\",\"raft-log-gc-threshold\":50,\"raft-log-gc-count-limit\":73728,\"raft-log-gc-size-limit\":\"72MiB\",\"raft-log-reserve-max-ticks\":6,\"raft-engine-purge-interval\":\"10s\",\"raft-entry-cache-life-time\":\"30s\",\"split-region-check-tick-interval\":\"10s\",\"region-split-check-diff\":\"6MiB\",\"region-compact-check-interval\":\"5m\",\"region-compact-check-step\":100,\"region-compact-min-tombstones\":10000,\"region-compact-tombstones-percent\":30,\"pd-heartbeat-tick-interval\":\"1m\",\"pd-store-heartbeat-tick-interval\":\"10s\",\"snap-mgr-gc-tick-interval\":\"1m\",\"snap-gc-timeout\":\"4h\",\"lock-cf-compact-interval\":\"10m\",\"lock-cf-compact-bytes-threshold\":\"256MiB\",\"notify-capacity\":40960,\"messages-per-tick\":4096,\"max-peer-down-duration\":\"10m\",\"max-leader-missing-duration\":\"2h\",\"abnormal-leader-missing-duration\":\"10m\",\"peer-stale-state-check-interval\":\"5m\",\"leader-transfer-max-log-lag\":128,\"snap-apply-batch-size\":\"10MiB\",\"consistency-check-interval\":\"0s\",\"report-region-flow-interval\":\"1m\",\"raft-store-max-leader-lease\":\"9s\",\"check-leader-lease-interval\":\"2s250ms\",\"renew-leader-lease-advance-duration\":\"2s250ms\",\"right-derive-when-split\":true,\"merge-max-log-gap\":10,\"merge-check-tick-interval\":\"2s\",\"use-delete-range\":false,\"snap-generator-pool-size\":2,\"cleanup-import-sst-interval\":\"10m\",\"local-read-batch-size\":1024,\"apply-max-batch-size\":256,\"apply-pool-size\":2,\"apply-reschedule-duration\":\"5s\",\"apply-low-priority-pool-size\":1,\"store-max-batch-size\":256,\"store-pool-size\":2,\"store-reschedule-duration\":\"5s\",\"store-low-priority-pool-size\":0,\"store-io-pool-size\":0,\"store-io-notify-capacity\":40960,\"future-poll-size\":1,\"hibernate-regions\":true,\"dev-assert\":false,\"apply-yield-duration\":\"500ms\",\"perf-level\":0,\"evict-cache-on-memory-ratio\":0.0,\"cmd-batch\":true,\"cmd-batch-concurrent-ready-max-count\":1,\"raft-write-size-limit\":\"1MiB\",\"waterfall-metrics\":true,\"io-reschedule-concurrent-max-count\":4,\"io-reschedule-hotpot-duration\":\"5s\",\"inspect-interval\":\"500ms\",\"report-min-resolved-ts-interval\":\"0s\",\"reactive-memory-lock-tick-interval\":\"2s\",\"reactive-memory-lock-timeout-tick\":5,\"report-region-buckets-tick-interval\":\"10s\",\"max-snapshot-file-raw-size\":\"100MiB\"},\"coprocessor\":{\"split-region-on-table\":false,\"batch-split-limit\":10,\"region-max-size\":\"144MiB\",\"region-split-size\":\"96MiB\",\"region-max-keys\":1440000,\"region-split-keys\":960000,\"consistency-check-method\":\"mvcc\",\"enable-region-bucket\":false,\"region-bucket-size\":\"96MiB\",\"region-size-threshold-for-approximate\":\"1440MiB\",\"prefer-approximate-bucket\":true,\"region-bucket-merge-size-ratio\":0.33},\"coprocessor-v2\":{\"coprocessor-plugin-directory\":null},\"rocksdb\":{\"info-log-level\":\"info\",\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":7,\"max-background-flushes\":2,\"max-manifest-file-size\":\"128MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"rate-bytes-per-sec\":\"10GiB\",\"rate-limiter-refill-period\":\"100ms\",\"rate-limiter-mode\":2,\"rate-limiter-auto-tuned\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"max-sub-compactions\":3,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":false,\"enable-multi-batch-write\":true,\"enable-unordered-write\":false,\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"1004MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"writecf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"602MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":false,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"lockcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"32MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"raftcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"128MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raftdb\":{\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":4,\"max-background-flushes\":1,\"max-manifest-file-size\":\"20MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"info-log-level\":\"info\",\"max-sub-compactions\":2,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":true,\"enable-unordered-write\":false,\"allow-concurrent-memtable-write\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":false,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":10000,\"level0-stop-writes-trigger\":10000,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":false,\"soft-pending-compaction-bytes-limit\":\"0KiB\",\"hard-pending-compaction-bytes-limit\":\"0KiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raft-engine\":{\"enable\":true,\"dir\":\"/data/tikv2/raft-engine\",\"recovery-mode\":\"tolerate-corrupted-tail-records\",\"recovery-read-block-size\":\"16KiB\",\"recovery-threads\":4,\"batch-compression-threshold\":\"8KiB\",\"bytes-per-sync\":\"4MiB\",\"target-file-size\":\"128MiB\",\"purge-threshold\":\"10GiB\",\"purge-rewrite-threshold\":\"1GiB\",\"purge-rewrite-garbage-ratio\":0.6,\"memory-limit\":\"617016KiB\"},\"security\":{\"ca-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":[],\"redact-info-log\":null,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"7d\",\"enable-file-dictionary-log\":true,\"file-dictionary-rewrite-threshold\":1000000,\"master-key\":{\"type\":\"plaintext\"},\"previous-master-key\":{\"type\":\"plaintext\"}}},\"import\":{\"num-threads\":8,\"stream-channel-window\":128,\"import-mode-timeout\":\"10m\"},\"backup\":{\"num-threads\":4,\"batch-size\":8,\"sst-max-size\":\"144MiB\",\"enable-auto-tune\":true,\"auto-tune-remain-threads\":2,\"auto-tune-refresh-interval\":\"1m\",\"io-thread-size\":2,\"s3-multi-part-size\":\"5MiB\",\"hadoop\":{\"home\":\"\",\"linux-user\":\"\"}},\"log-backup\":{\"max-flush-interval\":\"5m\",\"num-threads\":4,\"io-threads\":2,\"enable\":false,\"temp-path\":\"/data/tikv2/log-backup-tmp\",\"temp-file-size-limit-per-task\":\"128MiB\",\"initial-scan-pending-memory-quota\":\"411344KiB\"},\"pessimistic-txn\":{\"wait-for-lock-timeout\":\"1s\",\"wake-up-delay-duration\":\"20ms\",\"pipelined\":true,\"in-memory\":true},\"gc\":{\"ratio-threshold\":1.1,\"batch-keys\":512,\"max-write-bytes-per-sec\":\"0KiB\",\"enable-compaction-filter\":true,\"compaction-filter-skip-version-check\":false},\"split\":{\"qps-threshold\":3000,\"split-balance-score\":0.25,\"split-contained-score\":0.5,\"detect-times\":10,\"sample-num\":20,\"sample-threshold\":100,\"byte-threshold\":31457280},\"cdc\":{\"min-ts-interval\":\"1s\",\"hibernate-regions-compatible\":true,\"incremental-scan-threads\":4,\"incremental-scan-concurrency\":6,\"incremental-scan-speed-limit\":\"128MiB\",\"incremental-scan-ts-filter-ratio\":0.2,\"sink-memory-quota\":\"512MiB\",\"old-value-cache-memory-quota\":\"512MiB\"},\"resolved-ts\":{\"enable\":true,\"advance-ts-interval\":\"1s\",\"scan-lock-pool-size\":2},\"resource-metering\":{\"receiver-address\":\"\",\"report-receiver-interval\":\"1m\",\"max-resource-groups\":100,\"precision\":\"1s\"},\"causal-ts\":{\"renew-interval\":\"100ms\",\"renew-batch-min-size\":100}}"]
[2024/07/29 22:24:46.633 +00:00] [INFO] [mod.rs:124] ["encryption: none of key dictionary and file dictionary are found."]
[2024/07/29 22:24:46.881 +00:00] [INFO] [mod.rs:485] ["encryption is disabled."]
[2024/07/29 22:24:48.448 +00:00] [WARN] [pipe_builder.rs:273] ["The last log file is corrupted but ignored: Append:1, Corruption: Log item offset is smaller than log batch header length"]
[2024/07/29 22:24:48.451 +00:00] [INFO] [engine.rs:91] ["Recovering raft logs takes 1.544835543s"]
[2024/07/29 22:24:49.176 +00:00] [INFO] [mod.rs:259] ["Storage started."]
[2024/07/29 22:24:49.176 +00:00] [INFO] [node.rs:217] ["put store to PD"] [store="id: 1003 address: \"tikv2:20160\" version: \"6.1.0\" status_address: \"127.0.0.1:20180\" git_hash: \"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp: 1722291889 deploy_path: \"/\""]
[2024/07/29 22:24:49.176 +00:00] [INFO] [node.rs:345] ["initializing replication mode"] [store_id=1003] [status=Some()]
[2024/07/29 22:24:49.177 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1001]
[2024/07/29 22:24:49.177 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1002]
[2024/07/29 22:24:49.177 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1003]
[2024/07/29 22:24:49.177 +00:00] [INFO] [node.rs:480] ["start raft store thread"] [store_id=1003]
[2024/07/29 22:24:49.178 +00:00] [INFO] [snap.rs:1381] ["Initializing SnapManager, encryption is enabled: false"]
[2024/07/29 22:24:49.178 +00:00] [INFO] [peer.rs:251] ["create peer"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:24:49.178 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:49.178 +00:00] [INFO] [raft.rs:1120] ["became follower at term 8"] [term=8] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:49.179 +00:00] [INFO] [raft.rs:384] [newRaft] [peers="Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }"] ["last term"=8] ["last index"=26] [applied=26] [commit=26] [term=8] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:49.179 +00:00] [INFO] [raw_node.rs:315] ["RawNode created with id 1005."] [id=1005] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:49.179 +00:00] [INFO] [store.rs:1173] ["start store"] [takes=2.471375ms] [merge_count=0] [applying_count=0] [tombstone_count=0] [region_count=1] [store_id=1003]
[2024/07/29 22:24:49.179 +00:00] [INFO] [store.rs:1221] ["cleans up garbage data"] [takes=2.125µs] [garbage_range_count=2] [store_id=1003]
[2024/07/29 22:24:49.180 +00:00] [WARN] [store.rs:1647] ["set thread priority for raftstore failed"] [error="Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }"]
[2024/07/29 22:24:49.180 +00:00] [INFO] [gc_worker.rs:1073] ["initialize compaction filter to perform GC when necessary"]
[2024/07/29 22:24:49.180 +00:00] [INFO] [compaction_filter.rs:171] ["initialize GC context for compaction filter"]
[2024/07/29 22:24:49.180 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=waiter-manager]
[2024/07/29 22:24:49.182 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=deadlock-detector]
[2024/07/29 22:24:49.182 +00:00] [INFO] [server.rs:264] ["listening on addr"] [addr=0.0.0.0:20160]
[2024/07/29 22:24:49.183 +00:00] [INFO] [server.rs:309] ["TiKV is ready to serve"]
[2024/07/29 22:24:59.168 +00:00] [INFO] [client.rs:763] ["set cluster version to 6.1.0"]
[2024/07/29 22:24:59.274 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:24:59.286 +00:00] [INFO] [raft.rs:1565] ["[logterm: 8, index: 26, vote: 1010] cast vote for 1011 [logterm: 8, index: 26] at term 8"] ["msg type"=MsgRequestPreVote] [term=8] [msg_index=26] [msg_term=8] [from=1011] [vote=1010] [log_index=26] [log_term=8] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:59.297 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:24:59.298 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:24:59.321 +00:00] [INFO] [raft.rs:1364] ["received a message with higher term from 1011"] ["msg type"=MsgRequestVote] [message_term=9] [term=8] [from=1011] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:59.321 +00:00] [INFO] [raft.rs:1120] ["became follower at term 9"] [term=9] [raft_id=1005] [region_id=1004]
[2024/07/29 22:24:59.321 +00:00] [INFO] [raft.rs:1565] ["[logterm: 8, index: 26, vote: 0] cast vote for 1011 [logterm: 8, index: 26] at term 9"] ["msg type"=MsgRequestVote] [term=9] [msg_index=26] [msg_term=8] [from=1011] [vote=0] [log_index=26] [log_term=8] [raft_id=1005] [region_id=1004]
[2024/07/29 22:25:00.284 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:25:09.270 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:25:30.313 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:26:22.421 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:26:54.485 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:27:17.547 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:27:18.547 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:27:23.563 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:27:26.564 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:27:58.645 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:28:05.658 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:28:21.697 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:28:30.714 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:29:19.829 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:29:25.842 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:29:46.886 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:30:07.930 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:30:39.010 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:31:34.152 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:31:45.155 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:31:49.163 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:32:15.210 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:32:22.225 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:32:47.270 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:32:59.295 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:33:20.341 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:33:51.408 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:34:13.455 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:34:24.475 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:34:43.752 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd0:2379]
[2024/07/29 22:34:55.550 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:34:56.553 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:07.573 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:11.582 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:27.646 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:28.646 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:50.697 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:35:59.714 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:36:11.739 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:36:21.767 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:36:32.795 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:36:44.819 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:37:03.859 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:37:15.883 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:37:35.962 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:37:58.992 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:38:41.060 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:39:04.112 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:39:44.202 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:39:45.203 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:40:07.254 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:40:14.267 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:40:28.298 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:41:20.404 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:41:33.428 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:41:43.445 +00:00] [INFO] [kv.rs:1117] ["call CheckLeader failed"] [address=ipv4:172.20.0.6:36596] [err=Grpc(RemoteStopped)]
[2024/07/29 22:43:45.913 +00:00] [INFO] [signal_handler.rs:18] ["receive signal 15, stopping server..."]
[2024/07/29 22:43:45.964 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:43:45.973 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1002]
[2024/07/29 22:43:45.973 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:43:45.974 +00:00] [INFO] [store.rs:2659] ["broadcasting unreachable"] [unreachable_store_id=1002] [store_id=1003]
[2024/07/29 22:43:45.974 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:43:45.975 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:43:45.975 +00:00] [INFO] [node.rs:513] ["stop raft store thread"] [store_id=1003]
[2024/07/29 22:43:45.975 +00:00] [INFO] [batch.rs:622] ["shutdown batch system apply"]
[2024/07/29 22:43:45.976 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:43:45.978 +00:00] [INFO] [<unknown>] ["subchannel 0xfffdc02e0400 {address=ipv4:172.20.0.6:20160, args=grpc.client_channel_factory=0xffff600705a0, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv1:20160, random id=1}: connect failed: {\"created\":\"@1722293025.976627967\",\"description\":\"Failed to connect to remote host: Connection refused\",\"errno\":111,\"file\":\"/root/.cargo/registry/src/github.com-1ecc6299db9ec823/grpcio-sys-0.10.1+1.44.0/grpc/src/core/lib/iomgr/tcp_client_posix.cc\",\"file_line\":200,\"os_error\":\"Connection refused\",\"syscall\":\"connect\",\"target_address\":\"ipv4:172.20.0.6:20160\"}"]
[2024/07/29 22:43:45.979 +00:00] [INFO] [<unknown>] ["subchannel 0xfffdc02e0400 {address=ipv4:172.20.0.6:20160, args=grpc.client_channel_factory=0xffff600705a0, grpc.default_authority=tikv1:20160, grpc.default_compression_algorithm=0, grpc.http2.lookahead_bytes=2097152, grpc.internal.subchannel_pool=0xffff602a1e00, grpc.keepalive_time_ms=10000, grpc.keepalive_timeout_ms=3000, grpc.primary_user_agent=grpc-rust/0.10.2, grpc.resource_quota=0xffff601a1420, grpc.server_uri=dns:///tikv1:20160, random id=1}: Retry in 997 milliseconds"]
[2024/07/29 22:43:45.979 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"failed to connect to all addresses\", details: [] })))"] [store_id=1002]
[2024/07/29 22:43:45.979 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:43:45.979 +00:00] [INFO] [batch.rs:635] ["batch system apply is stopped."]
[2024/07/29 22:43:45.979 +00:00] [INFO] [batch.rs:622] ["shutdown batch system raftstore-1003"]
[2024/07/29 22:43:45.979 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:43:45.981 +00:00] [INFO] [mod.rs:210] ["Storage stopped."]
[2024/07/29 22:43:45.983 +00:00] [INFO] [batch.rs:635] ["batch system raftstore-1003 is stopped."]
[2024/07/29 22:43:45.990 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=waiter-manager]
[2024/07/29 22:43:45.993 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=deadlock-detector]
[2024/07/29 22:56:29.441 +00:00] [INFO] [lib.rs:79] ["Welcome to TiKV"]
[2024/07/29 22:56:29.453 +00:00] [INFO] [lib.rs:84] ["Release Version:   6.1.0"]
[2024/07/29 22:56:29.456 +00:00] [INFO] [lib.rs:84] ["Edition:           Community"]
[2024/07/29 22:56:29.460 +00:00] [INFO] [lib.rs:84] ["Git Commit Hash:   080d086832ae5ce2495352dccaf8df5d40f30687"]
[2024/07/29 22:56:29.460 +00:00] [INFO] [lib.rs:84] ["Git Commit Branch: heads/refs/tags/v6.1.0"]
[2024/07/29 22:56:29.460 +00:00] [INFO] [lib.rs:84] ["UTC Build Time:    Unknown (env var does not exist when building)"]
[2024/07/29 22:56:29.460 +00:00] [INFO] [lib.rs:84] ["Rust Version:      rustc 1.60.0-nightly (1e12aef3f 2022-02-13)"]
[2024/07/29 22:56:29.461 +00:00] [INFO] [lib.rs:84] ["Enable Features:   jemalloc mem-profiling portable test-engine-kv-rocksdb test-engine-raft-raft-engine cloud-aws cloud-gcp cloud-azure"]
[2024/07/29 22:56:29.461 +00:00] [INFO] [lib.rs:84] ["Profile:           dist_release"]
[2024/07/29 22:56:29.461 +00:00] [INFO] [mod.rs:74] ["cgroup quota: memory=None, cpu=None, cores={}"]
[2024/07/29 22:56:29.461 +00:00] [INFO] [mod.rs:81] ["memory limit in bytes: 4212162560, cpu cores quota: 8"]
[2024/07/29 22:56:29.461 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.core.somaxconn got 4096, expect 32768"]
[2024/07/29 22:56:29.461 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters net.ipv4.tcp_syncookies got 1, expect 0"]
[2024/07/29 22:56:29.461 +00:00] [WARN] [server.rs:1533] ["check: kernel"] [err="kernel parameters vm.swappiness got 60, expect 0"]
[2024/07/29 22:56:29.470 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:56:29.472 +00:00] [INFO] [<unknown>] ["TCP_USER_TIMEOUT is available. TCP_USER_TIMEOUT will be used thereafter"]
[2024/07/29 22:56:30.316 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd0:2379]
[2024/07/29 22:56:30.317 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:56:30.321 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd1:2379]
[2024/07/29 22:56:30.322 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:56:30.324 +00:00] [INFO] [util.rs:537] ["PD failed to respond"] [err="Grpc(RpcFailure(RpcStatus { code: 2-UNKNOWN, message: \"[PD:server:ErrServerNotStarted]server not started\", details: [] }))"] [endpoints=pd2:2379]
[2024/07/29 22:56:30.325 +00:00] [WARN] [client.rs:163] ["validate PD endpoints failed"] [err="Other(\"[components/pd_client/src/util.rs:570]: PD cluster failed to respond\")"]
[2024/07/29 22:56:30.627 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd0:2379]
[2024/07/29 22:56:30.632 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd1:2379]
[2024/07/29 22:56:30.636 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=pd2:2379]
[2024/07/29 22:56:30.638 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd2:2379]
[2024/07/29 22:56:30.640 +00:00] [INFO] [util.rs:575] ["connecting to PD endpoint"] [endpoints=http://pd0:2379]
[2024/07/29 22:56:30.643 +00:00] [INFO] [util.rs:701] ["connected to PD member"] [endpoints=http://pd0:2379]
[2024/07/29 22:56:30.644 +00:00] [INFO] [util.rs:567] ["all PD endpoints are consistent"] [endpoints="[\"pd0:2379\", \"pd1:2379\", \"pd2:2379\"]"]
[2024/07/29 22:56:30.645 +00:00] [INFO] [server.rs:369] ["connect to PD cluster"] [cluster_id=7397183400508190990]
[2024/07/29 22:56:30.645 +00:00] [INFO] [config.rs:2041] ["readpool.storage.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:56:30.646 +00:00] [INFO] [config.rs:2064] ["readpool.coprocessor.use-unified-pool is not set, set to true by default"]
[2024/07/29 22:56:30.657 +00:00] [INFO] [config.rs:293] ["no advertise-status-addr is specified, falling back to status-addr"] [status-addr=127.0.0.1:20180]
[2024/07/29 22:56:30.657 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:56:30.679 +00:00] [WARN] [config.rs:2977] ["memory_usage_limit:ReadableSize(3701473280) > recommanded:ReadableSize(3159121920), maybe page cache isn't enough"]
[2024/07/29 22:56:30.681 +00:00] [INFO] [server.rs:1541] ["beginning system configuration check"]
[2024/07/29 22:56:30.682 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2]
[2024/07/29 22:56:30.682 +00:00] [WARN] [server.rs:1557] ["check: rocksdb-data-dir"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2]
[2024/07/29 22:56:30.683 +00:00] [INFO] [config.rs:891] ["data dir"] [mount_fs="FsInfo { tp: \"fakeowner\", opts: \"rw,nosuid,nodev,relatime,fakeowner\", mnt_dir: \"/data\", fsname: \"/run/host_mark/Users\" }"] [data_path=/data/tikv2/raft]
[2024/07/29 22:56:30.683 +00:00] [WARN] [server.rs:1565] ["check: raftdb-path"] [err="config fs: data-dir.rotation.get: \"/run/host_mark/Users\" no device find in block"] [path=/data/tikv2/raft]
[2024/07/29 22:56:30.686 +00:00] [INFO] [server.rs:338] ["using config"] [config="{\"log-level\":\"info\",\"log-file\":\"\",\"log-format\":\"text\",\"log-rotation-timespan\":\"0s\",\"log-rotation-size\":\"300MiB\",\"slow-log-file\":\"\",\"slow-log-threshold\":\"1s\",\"panic-when-unexpected-key-or-data\":false,\"abort-on-panic\":false,\"memory-usage-limit\":\"3530MiB\",\"memory-usage-high-water\":0.9,\"log\":{\"level\":\"info\",\"format\":\"text\",\"enable-timestamp\":true,\"file\":{\"filename\":\"/logs/tikv2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0}},\"quota\":{\"foreground-cpu-time\":0,\"foreground-write-bandwidth\":\"0KiB\",\"foreground-read-bandwidth\":\"0KiB\",\"max-delay-duration\":\"500ms\"},\"readpool\":{\"unified\":{\"min-thread-count\":1,\"max-thread-count\":6,\"stack-size\":\"10MiB\",\"max-tasks-per-worker\":2000},\"storage\":{\"use-unified-pool\":true,\"high-concurrency\":4,\"normal-concurrency\":4,\"low-concurrency\":4,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"},\"coprocessor\":{\"use-unified-pool\":true,\"high-concurrency\":6,\"normal-concurrency\":6,\"low-concurrency\":6,\"max-tasks-per-worker-high\":2000,\"max-tasks-per-worker-normal\":2000,\"max-tasks-per-worker-low\":2000,\"stack-size\":\"10MiB\"}},\"server\":{\"addr\":\"0.0.0.0:20160\",\"advertise-addr\":\"tikv2:20160\",\"status-addr\":\"127.0.0.1:20180\",\"advertise-status-addr\":\"127.0.0.1:20180\",\"status-thread-pool-size\":1,\"max-grpc-send-msg-len\":10485760,\"raft-client-grpc-send-msg-buffer\":524288,\"raft-client-queue-size\":8192,\"raft-msg-max-batch-size\":128,\"grpc-compression-type\":\"none\",\"grpc-concurrency\":5,\"grpc-concurrent-stream\":1024,\"grpc-raft-conn-num\":1,\"grpc-memory-pool-quota\":9223372036854775807,\"grpc-stream-initial-window-size\":\"2MiB\",\"grpc-keepalive-time\":\"10s\",\"grpc-keepalive-timeout\":\"3s\",\"concurrent-send-snap-limit\":32,\"concurrent-recv-snap-limit\":32,\"end-point-recursion-limit\":1000,\"end-point-stream-channel-size\":8,\"end-point-batch-row-limit\":64,\"end-point-stream-batch-row-limit\":128,\"end-point-enable-batch-if-possible\":true,\"end-point-request-max-handle-duration\":\"1m\",\"end-point-max-concurrency\":8,\"end-point-perf-level\":0,\"snap-max-write-bytes-per-sec\":\"100MiB\",\"snap-max-total-size\":\"0KiB\",\"stats-concurrency\":1,\"heavy-load-threshold\":75,\"heavy-load-wait-duration\":null,\"enable-request-batch\":true,\"background-thread-count\":2,\"end-point-slow-log-threshold\":\"1s\",\"forward-max-connections-per-address\":4,\"reject-messages-on-memory-ratio\":0.2,\"labels\":{}},\"storage\":{\"data-dir\":\"/data/tikv2\",\"gc-ratio-threshold\":1.1,\"max-key-size\":8192,\"scheduler-concurrency\":524288,\"scheduler-worker-pool-size\":4,\"scheduler-pending-write-threshold\":\"100MiB\",\"reserve-space\":\"5GiB\",\"enable-async-apply-prewrite\":false,\"api-version\":1,\"enable-ttl\":false,\"background-error-recovery-window\":\"1h\",\"ttl-check-poll-interval\":\"12h\",\"flow-control\":{\"enable\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"memtables-threshold\":5,\"l0-files-threshold\":20},\"block-cache\":{\"shared\":true,\"capacity\":\"2118MiB\",\"num-shard-bits\":6,\"strict-capacity-limit\":false,\"high-pri-pool-ratio\":0.8,\"memory-allocator\":\"nodump\"},\"io-rate-limit\":{\"max-bytes-per-sec\":\"0KiB\",\"mode\":\"write-only\",\"strict\":false,\"foreground-read-priority\":\"high\",\"foreground-write-priority\":\"high\",\"flush-priority\":\"high\",\"level-zero-compaction-priority\":\"medium\",\"compaction-priority\":\"low\",\"replication-priority\":\"high\",\"load-balance-priority\":\"high\",\"gc-priority\":\"high\",\"import-priority\":\"medium\",\"export-priority\":\"medium\",\"other-priority\":\"high\"}},\"pd\":{\"endpoints\":[\"pd0:2379\",\"pd1:2379\",\"pd2:2379\"],\"retry-interval\":\"300ms\",\"retry-max-count\":9223372036854775807,\"retry-log-every\":10,\"update-interval\":\"10m\",\"enable-forwarding\":false},\"metric\":{\"job\":\"tikv\"},\"raftstore\":{\"prevote\":true,\"raftdb-path\":\"/data/tikv2/raft\",\"capacity\":\"0KiB\",\"raft-base-tick-interval\":\"1s\",\"raft-heartbeat-ticks\":2,\"raft-election-timeout-ticks\":10,\"raft-min-election-timeout-ticks\":10,\"raft-max-election-timeout-ticks\":20,\"raft-max-size-per-msg\":\"1MiB\",\"raft-max-inflight-msgs\":256,\"raft-entry-max-size\":\"8MiB\",\"raft-log-compact-sync-interval\":\"2s\",\"raft-log-gc-tick-interval\":\"3s\",\"raft-log-gc-threshold\":50,\"raft-log-gc-count-limit\":73728,\"raft-log-gc-size-limit\":\"72MiB\",\"raft-log-reserve-max-ticks\":6,\"raft-engine-purge-interval\":\"10s\",\"raft-entry-cache-life-time\":\"30s\",\"split-region-check-tick-interval\":\"10s\",\"region-split-check-diff\":\"6MiB\",\"region-compact-check-interval\":\"5m\",\"region-compact-check-step\":100,\"region-compact-min-tombstones\":10000,\"region-compact-tombstones-percent\":30,\"pd-heartbeat-tick-interval\":\"1m\",\"pd-store-heartbeat-tick-interval\":\"10s\",\"snap-mgr-gc-tick-interval\":\"1m\",\"snap-gc-timeout\":\"4h\",\"lock-cf-compact-interval\":\"10m\",\"lock-cf-compact-bytes-threshold\":\"256MiB\",\"notify-capacity\":40960,\"messages-per-tick\":4096,\"max-peer-down-duration\":\"10m\",\"max-leader-missing-duration\":\"2h\",\"abnormal-leader-missing-duration\":\"10m\",\"peer-stale-state-check-interval\":\"5m\",\"leader-transfer-max-log-lag\":128,\"snap-apply-batch-size\":\"10MiB\",\"consistency-check-interval\":\"0s\",\"report-region-flow-interval\":\"1m\",\"raft-store-max-leader-lease\":\"9s\",\"check-leader-lease-interval\":\"2s250ms\",\"renew-leader-lease-advance-duration\":\"2s250ms\",\"right-derive-when-split\":true,\"merge-max-log-gap\":10,\"merge-check-tick-interval\":\"2s\",\"use-delete-range\":false,\"snap-generator-pool-size\":2,\"cleanup-import-sst-interval\":\"10m\",\"local-read-batch-size\":1024,\"apply-max-batch-size\":256,\"apply-pool-size\":2,\"apply-reschedule-duration\":\"5s\",\"apply-low-priority-pool-size\":1,\"store-max-batch-size\":256,\"store-pool-size\":2,\"store-reschedule-duration\":\"5s\",\"store-low-priority-pool-size\":0,\"store-io-pool-size\":0,\"store-io-notify-capacity\":40960,\"future-poll-size\":1,\"hibernate-regions\":true,\"dev-assert\":false,\"apply-yield-duration\":\"500ms\",\"perf-level\":0,\"evict-cache-on-memory-ratio\":0.0,\"cmd-batch\":true,\"cmd-batch-concurrent-ready-max-count\":1,\"raft-write-size-limit\":\"1MiB\",\"waterfall-metrics\":true,\"io-reschedule-concurrent-max-count\":4,\"io-reschedule-hotpot-duration\":\"5s\",\"inspect-interval\":\"500ms\",\"report-min-resolved-ts-interval\":\"0s\",\"reactive-memory-lock-tick-interval\":\"2s\",\"reactive-memory-lock-timeout-tick\":5,\"report-region-buckets-tick-interval\":\"10s\",\"max-snapshot-file-raw-size\":\"100MiB\"},\"coprocessor\":{\"split-region-on-table\":false,\"batch-split-limit\":10,\"region-max-size\":\"144MiB\",\"region-split-size\":\"96MiB\",\"region-max-keys\":1440000,\"region-split-keys\":960000,\"consistency-check-method\":\"mvcc\",\"enable-region-bucket\":false,\"region-bucket-size\":\"96MiB\",\"region-size-threshold-for-approximate\":\"1440MiB\",\"prefer-approximate-bucket\":true,\"region-bucket-merge-size-ratio\":0.33},\"coprocessor-v2\":{\"coprocessor-plugin-directory\":null},\"rocksdb\":{\"info-log-level\":\"info\",\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":7,\"max-background-flushes\":2,\"max-manifest-file-size\":\"128MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"rate-bytes-per-sec\":\"10GiB\",\"rate-limiter-refill-period\":\"100ms\",\"rate-limiter-mode\":2,\"rate-limiter-auto-tuned\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"max-sub-compactions\":3,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":false,\"enable-multi-batch-write\":true,\"enable-unordered-write\":false,\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"1004MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"writecf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"602MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":false,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":3,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":true,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"zstd\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"lockcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":false,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"32MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"raftcf\":{\"block-size\":\"16KiB\",\"block-cache-size\":\"128MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":true,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"no\",\"no\",\"no\",\"no\",\"no\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"128MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":1,\"level0-slowdown-writes-trigger\":20,\"level0-stop-writes-trigger\":36,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":true,\"soft-pending-compaction-bytes-limit\":\"192GiB\",\"hard-pending-compaction-bytes-limit\":\"1TiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"read-only\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raftdb\":{\"wal-recovery-mode\":2,\"wal-dir\":\"\",\"wal-ttl-seconds\":0,\"wal-size-limit\":\"0KiB\",\"max-total-wal-size\":\"4GiB\",\"max-background-jobs\":4,\"max-background-flushes\":1,\"max-manifest-file-size\":\"20MiB\",\"create-if-missing\":true,\"max-open-files\":40960,\"enable-statistics\":true,\"stats-dump-period\":\"10m\",\"compaction-readahead-size\":\"0KiB\",\"info-log-max-size\":\"1GiB\",\"info-log-roll-time\":\"0s\",\"info-log-keep-log-file-num\":10,\"info-log-dir\":\"\",\"info-log-level\":\"info\",\"max-sub-compactions\":2,\"writable-file-max-buffer-size\":\"1MiB\",\"use-direct-io-for-flush-and-compaction\":false,\"enable-pipelined-write\":true,\"enable-unordered-write\":false,\"allow-concurrent-memtable-write\":true,\"bytes-per-sync\":\"1MiB\",\"wal-bytes-per-sync\":\"512KiB\",\"defaultcf\":{\"block-size\":\"64KiB\",\"block-cache-size\":\"256MiB\",\"disable-block-cache\":false,\"cache-index-and-filter-blocks\":true,\"pin-l0-filter-and-index-blocks\":true,\"use-bloom-filter\":false,\"optimize-filters-for-hits\":true,\"whole-key-filtering\":true,\"bloom-filter-bits-per-key\":10,\"block-based-bloom-filter\":false,\"read-amp-bytes-per-bit\":0,\"compression-per-level\":[\"no\",\"no\",\"lz4\",\"lz4\",\"lz4\",\"zstd\",\"zstd\"],\"write-buffer-size\":\"128MiB\",\"max-write-buffer-number\":5,\"min-write-buffer-number-to-merge\":1,\"max-bytes-for-level-base\":\"512MiB\",\"target-file-size-base\":\"8MiB\",\"level0-file-num-compaction-trigger\":4,\"level0-slowdown-writes-trigger\":10000,\"level0-stop-writes-trigger\":10000,\"max-compaction-bytes\":\"2GiB\",\"compaction-pri\":0,\"dynamic-level-bytes\":true,\"num-levels\":7,\"max-bytes-for-level-multiplier\":10,\"compaction-style\":0,\"disable-auto-compactions\":false,\"disable-write-stall\":false,\"soft-pending-compaction-bytes-limit\":\"0KiB\",\"hard-pending-compaction-bytes-limit\":\"0KiB\",\"force-consistency-checks\":false,\"prop-size-index-distance\":4194304,\"prop-keys-index-distance\":40960,\"enable-doubly-skiplist\":true,\"enable-compaction-guard\":false,\"compaction-guard-min-output-file-size\":\"8MiB\",\"compaction-guard-max-output-file-size\":\"128MiB\",\"bottommost-level-compression\":\"disable\",\"bottommost-zstd-compression-dict-size\":0,\"bottommost-zstd-compression-sample-size\":0,\"titan\":{\"min-blob-size\":\"1KiB\",\"blob-file-compression\":\"lz4\",\"blob-cache-size\":\"0KiB\",\"min-gc-batch-size\":\"16MiB\",\"max-gc-batch-size\":\"64MiB\",\"discardable-ratio\":0.5,\"sample-ratio\":0.1,\"merge-small-file-threshold\":\"8MiB\",\"blob-run-mode\":\"normal\",\"level-merge\":false,\"range-merge\":true,\"max-sorted-runs\":20,\"gc-merge-rewrite\":false}},\"titan\":{\"enabled\":false,\"dirname\":\"\",\"disable-gc\":false,\"max-background-gc\":4,\"purge-obsolete-files-period\":\"10s\"}},\"raft-engine\":{\"enable\":true,\"dir\":\"/data/tikv2/raft-engine\",\"recovery-mode\":\"tolerate-corrupted-tail-records\",\"recovery-read-block-size\":\"16KiB\",\"recovery-threads\":4,\"batch-compression-threshold\":\"8KiB\",\"bytes-per-sync\":\"4MiB\",\"target-file-size\":\"128MiB\",\"purge-threshold\":\"10GiB\",\"purge-rewrite-threshold\":\"1GiB\",\"purge-rewrite-garbage-ratio\":0.6,\"memory-limit\":\"617016KiB\"},\"security\":{\"ca-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":[],\"redact-info-log\":null,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"7d\",\"enable-file-dictionary-log\":true,\"file-dictionary-rewrite-threshold\":1000000,\"master-key\":{\"type\":\"plaintext\"},\"previous-master-key\":{\"type\":\"plaintext\"}}},\"import\":{\"num-threads\":8,\"stream-channel-window\":128,\"import-mode-timeout\":\"10m\"},\"backup\":{\"num-threads\":4,\"batch-size\":8,\"sst-max-size\":\"144MiB\",\"enable-auto-tune\":true,\"auto-tune-remain-threads\":2,\"auto-tune-refresh-interval\":\"1m\",\"io-thread-size\":2,\"s3-multi-part-size\":\"5MiB\",\"hadoop\":{\"home\":\"\",\"linux-user\":\"\"}},\"log-backup\":{\"max-flush-interval\":\"5m\",\"num-threads\":4,\"io-threads\":2,\"enable\":false,\"temp-path\":\"/data/tikv2/log-backup-tmp\",\"temp-file-size-limit-per-task\":\"128MiB\",\"initial-scan-pending-memory-quota\":\"411344KiB\"},\"pessimistic-txn\":{\"wait-for-lock-timeout\":\"1s\",\"wake-up-delay-duration\":\"20ms\",\"pipelined\":true,\"in-memory\":true},\"gc\":{\"ratio-threshold\":1.1,\"batch-keys\":512,\"max-write-bytes-per-sec\":\"0KiB\",\"enable-compaction-filter\":true,\"compaction-filter-skip-version-check\":false},\"split\":{\"qps-threshold\":3000,\"split-balance-score\":0.25,\"split-contained-score\":0.5,\"detect-times\":10,\"sample-num\":20,\"sample-threshold\":100,\"byte-threshold\":31457280},\"cdc\":{\"min-ts-interval\":\"1s\",\"hibernate-regions-compatible\":true,\"incremental-scan-threads\":4,\"incremental-scan-concurrency\":6,\"incremental-scan-speed-limit\":\"128MiB\",\"incremental-scan-ts-filter-ratio\":0.2,\"sink-memory-quota\":\"512MiB\",\"old-value-cache-memory-quota\":\"512MiB\"},\"resolved-ts\":{\"enable\":true,\"advance-ts-interval\":\"1s\",\"scan-lock-pool-size\":2},\"resource-metering\":{\"receiver-address\":\"\",\"report-receiver-interval\":\"1m\",\"max-resource-groups\":100,\"precision\":\"1s\"},\"causal-ts\":{\"renew-interval\":\"100ms\",\"renew-batch-min-size\":100}}"]
[2024/07/29 22:56:46.377 +00:00] [INFO] [mod.rs:124] ["encryption: none of key dictionary and file dictionary are found."]
[2024/07/29 22:56:46.379 +00:00] [INFO] [mod.rs:485] ["encryption is disabled."]
[2024/07/29 22:56:46.428 +00:00] [WARN] [pipe_builder.rs:273] ["The last log file is corrupted but ignored: Append:1, Corruption: Log item offset is smaller than log batch header length"]
[2024/07/29 22:56:46.430 +00:00] [INFO] [engine.rs:91] ["Recovering raft logs takes 15.931584ms"]
[2024/07/29 22:56:46.649 +00:00] [INFO] [mod.rs:259] ["Storage started."]
[2024/07/29 22:56:46.767 +00:00] [INFO] [node.rs:217] ["put store to PD"] [store="id: 1003 address: \"tikv2:20160\" version: \"6.1.0\" status_address: \"127.0.0.1:20180\" git_hash: \"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp: 1722293806 deploy_path: \"/\""]
[2024/07/29 22:56:46.971 +00:00] [INFO] [node.rs:345] ["initializing replication mode"] [store_id=1003] [status=Some()]
[2024/07/29 22:56:46.975 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1001]
[2024/07/29 22:56:46.976 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1002]
[2024/07/29 22:56:46.976 +00:00] [INFO] [replication_mode.rs:55] ["associated store labels"] [labels="[]"] [store_id=1003]
[2024/07/29 22:56:46.976 +00:00] [INFO] [node.rs:480] ["start raft store thread"] [store_id=1003]
[2024/07/29 22:56:46.977 +00:00] [INFO] [snap.rs:1381] ["Initializing SnapManager, encryption is enabled: false"]
[2024/07/29 22:56:46.987 +00:00] [INFO] [peer.rs:251] ["create peer"] [peer_id=1005] [region_id=1004]
[2024/07/29 22:56:46.994 +00:00] [INFO] [raft.rs:2646] ["switched to configuration"] [config="Configuration { voters: Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }, learners: {}, learners_next: {}, auto_leave: false }"] [raft_id=1005] [region_id=1004]
[2024/07/29 22:56:46.995 +00:00] [INFO] [raft.rs:1120] ["became follower at term 9"] [term=9] [raft_id=1005] [region_id=1004]
[2024/07/29 22:56:46.996 +00:00] [INFO] [raft.rs:384] [newRaft] [peers="Configuration { incoming: Configuration { voters: {1005, 1010, 1011} }, outgoing: Configuration { voters: {} } }"] ["last term"=9] ["last index"=31] [applied=31] [commit=31] [term=9] [raft_id=1005] [region_id=1004]
[2024/07/29 22:56:46.997 +00:00] [INFO] [raw_node.rs:315] ["RawNode created with id 1005."] [id=1005] [raft_id=1005] [region_id=1004]
[2024/07/29 22:56:46.997 +00:00] [INFO] [store.rs:1173] ["start store"] [takes=16.240083ms] [merge_count=0] [applying_count=0] [tombstone_count=0] [region_count=1] [store_id=1003]
[2024/07/29 22:56:46.999 +00:00] [INFO] [store.rs:1221] ["cleans up garbage data"] [takes=646.75µs] [garbage_range_count=2] [store_id=1003]
[2024/07/29 22:56:47.015 +00:00] [WARN] [store.rs:1647] ["set thread priority for raftstore failed"] [error="Os { code: 13, kind: PermissionDenied, message: \"Permission denied\" }"]
[2024/07/29 22:56:47.017 +00:00] [INFO] [gc_worker.rs:1073] ["initialize compaction filter to perform GC when necessary"]
[2024/07/29 22:56:47.018 +00:00] [INFO] [compaction_filter.rs:171] ["initialize GC context for compaction filter"]
[2024/07/29 22:56:47.036 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=waiter-manager]
[2024/07/29 22:56:47.038 +00:00] [INFO] [future.rs:149] ["starting working thread"] [worker=deadlock-detector]
[2024/07/29 22:56:47.054 +00:00] [INFO] [server.rs:264] ["listening on addr"] [addr=0.0.0.0:20160]
[2024/07/29 22:56:47.085 +00:00] [INFO] [server.rs:309] ["TiKV is ready to serve"]
[2024/07/29 22:56:57.069 +00:00] [INFO] [client.rs:763] ["set cluster version to 6.1.0"]
[2024/07/29 22:57:04.102 +00:00] [INFO] [kv.rs:716] ["batch_raft RPC is called, new gRPC stream established"]
[2024/07/29 22:57:04.113 +00:00] [INFO] [raft.rs:1565] ["[logterm: 9, index: 31, vote: 1011] cast vote for 1011 [logterm: 9, index: 31] at term 9"] ["msg type"=MsgRequestPreVote] [term=9] [msg_index=31] [msg_term=9] [from=1011] [vote=1011] [log_index=31] [log_term=9] [raft_id=1005] [region_id=1004]
[2024/07/29 22:57:04.123 +00:00] [INFO] [raft_client.rs:790] ["resolve store address ok"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:57:04.123 +00:00] [INFO] [raft_client.rs:676] ["server: new connection with tikv endpoint"] [store_id=1002] [addr=tikv1:20160]
[2024/07/29 22:57:04.175 +00:00] [INFO] [raft.rs:1364] ["received a message with higher term from 1011"] ["msg type"=MsgRequestVote] [message_term=10] [term=9] [from=1011] [raft_id=1005] [region_id=1004]
[2024/07/29 22:57:04.176 +00:00] [INFO] [raft.rs:1120] ["became follower at term 10"] [term=10] [raft_id=1005] [region_id=1004]
[2024/07/29 22:57:04.181 +00:00] [INFO] [raft.rs:1565] ["[logterm: 9, index: 31, vote: 0] cast vote for 1011 [logterm: 9, index: 31] at term 10"] ["msg type"=MsgRequestVote] [term=10] [msg_index=31] [msg_term=9] [from=1011] [vote=0] [log_index=31] [log_term=9] [raft_id=1005] [region_id=1004]
[2024/07/29 22:58:55.295 +00:00] [INFO] [signal_handler.rs:18] ["receive signal 15, stopping server..."]
[2024/07/29 22:58:55.307 +00:00] [ERROR] [kv.rs:753] ["KvService::batch_raft send response fail"] [err=RemoteStopped]
[2024/07/29 22:58:55.308 +00:00] [INFO] [node.rs:513] ["stop raft store thread"] [store_id=1003]
[2024/07/29 22:58:55.309 +00:00] [INFO] [batch.rs:622] ["shutdown batch system apply"]
[2024/07/29 22:58:55.316 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:58:55.318 +00:00] [INFO] [batch.rs:635] ["batch system apply is stopped."]
[2024/07/29 22:58:55.319 +00:00] [INFO] [batch.rs:622] ["shutdown batch system raftstore-1003"]
[2024/07/29 22:58:55.321 +00:00] [INFO] [router.rs:297] ["broadcasting shutdown"]
[2024/07/29 22:58:55.322 +00:00] [INFO] [mod.rs:210] ["Storage stopped."]
[2024/07/29 22:58:55.328 +00:00] [INFO] [batch.rs:635] ["batch system raftstore-1003 is stopped."]
[2024/07/29 22:58:55.329 +00:00] [ERROR] [raft_client.rs:553] ["connection aborted"] [addr=tikv1:20160] [receiver_err="Some(RpcFailure(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] }))"] [sink_error="Some(RpcFinished(Some(RpcStatus { code: 14-UNAVAILABLE, message: \"Socket closed\", details: [] })))"] [store_id=1002]
[2024/07/29 22:58:55.330 +00:00] [ERROR] [raft_client.rs:824] ["connection abort"] [addr=tikv1:20160] [store_id=1002]
[2024/07/29 22:58:55.335 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=waiter-manager]
[2024/07/29 22:58:55.336 +00:00] [INFO] [future.rs:192] ["stoping worker"] [worker=deadlock-detector]
