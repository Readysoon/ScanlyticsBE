[2024/07/29 22:09:29.388 +00:00] [INFO] [util.go:41] ["Welcome to Placement Driver (PD)"]
[2024/07/29 22:09:29.390 +00:00] [INFO] [util.go:42] [PD] [release-version=v6.1.0]
[2024/07/29 22:09:29.391 +00:00] [INFO] [util.go:43] [PD] [edition=Community]
[2024/07/29 22:09:29.391 +00:00] [INFO] [util.go:44] [PD] [git-hash=d82f4fab6cf37cd1eca9c3574984e12a7ae27c42]
[2024/07/29 22:09:29.391 +00:00] [INFO] [util.go:45] [PD] [git-branch=heads/refs/tags/v6.1.0]
[2024/07/29 22:09:29.392 +00:00] [INFO] [util.go:46] [PD] [utc-build-time="2022-06-01 01:47:53"]
[2024/07/29 22:09:29.392 +00:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2024/07/29 22:09:29.392 +00:00] [INFO] [server.go:240] ["PD Config"] [config="{\"client-urls\":\"http://0.0.0.0:2379\",\"peer-urls\":\"http://0.0.0.0:2380\",\"advertise-client-urls\":\"http://pd2:2379\",\"advertise-peer-urls\":\"http://pd2:2380\",\"name\":\"pd2\",\"data-dir\":\"/data/pd2\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"/logs/pd2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd2\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":200000,\"split-merge-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"0s\"},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":true,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"wait-sync-timeout\":\"1m0s\",\"wait-async-timeout\":\"2m0s\",\"pause-region-split\":\"false\"}}}"]
[2024/07/29 22:09:29.396 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v1]
[2024/07/29 22:09:29.397 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v2/]
[2024/07/29 22:09:29.397 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/swagger/]
[2024/07/29 22:09:29.397 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/autoscaling]
[2024/07/29 22:09:29.397 +00:00] [INFO] [distro.go:51] ["Using distribution strings"] [strings={}]
[2024/07/29 22:09:29.408 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/api/]
[2024/07/29 22:09:29.411 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/]
[2024/07/29 22:09:29.414 +00:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://0.0.0.0:2380]"]
[2024/07/29 22:09:29.414 +00:00] [INFO] [systimemon.go:28] ["start system time monitor"]
[2024/07/29 22:09:29.414 +00:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://0.0.0.0:2379]"]
[2024/07/29 22:09:29.415 +00:00] [INFO] [etcd.go:602] ["pprof is enabled"] [path=/debug/pprof]
[2024/07/29 22:09:29.416 +00:00] [INFO] [etcd.go:299] ["starting an etcd server"] [etcd-version=3.4.3] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.18.2] [go-os=linux] [go-arch=arm64] [max-cpu-set=8] [max-cpu-available=8] [member-initialized=false] [name=pd2] [data-dir=/data/pd2] [wal-dir=] [wal-dir-dedicated=] [member-dir=/data/pd2/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster="pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380"] [initial-cluster-state=new] [initial-cluster-token=pd-cluster] [quota-size-bytes=8589934592] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2024/07/29 22:09:29.416 +00:00] [WARN] [server.go:298] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2024/07/29 22:09:29.436 +00:00] [INFO] [backend.go:79] ["opened backend db"] [path=/data/pd2/member/snap/db] [took=12.282167ms]
[2024/07/29 22:09:29.448 +00:00] [INFO] [netutil.go:112] ["resolved URL Host"] [url=http://pd2:2380] [host=pd2:2380] [resolved-addr=172.19.0.4:2380]
[2024/07/29 22:09:29.455 +00:00] [INFO] [netutil.go:112] ["resolved URL Host"] [url=http://pd2:2380] [host=pd2:2380] [resolved-addr=172.19.0.4:2380]
[2024/07/29 22:09:31.517 +00:00] [INFO] [raft.go:456] ["starting local member"] [local-member-id=30610c698d7a69f3] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:09:31.517 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=()"]
[2024/07/29 22:09:31.517 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 0"]
[2024/07/29 22:09:31.518 +00:00] [INFO] [raft.go:383] ["newRaft 30610c698d7a69f3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]"]
[2024/07/29 22:09:31.519 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 1"]
[2024/07/29 22:09:31.520 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923)"]
[2024/07/29 22:09:31.520 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638)"]
[2024/07/29 22:09:31.520 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:09:31.537 +00:00] [WARN] [store.go:1317] ["simple token is not cryptographically signed"]
[2024/07/29 22:09:31.540 +00:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2024/07/29 22:09:31.542 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.542 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.543 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.543 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:09:31.544 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.544 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.543 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.543 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.543 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.543 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.545 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.561 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.575 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.576 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:09:31.576 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.576 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.580 +00:00] [INFO] [server.go:792] ["starting etcd server"] [local-member-id=30610c698d7a69f3] [local-server-version=3.4.3] [cluster-version=to_be_decided]
[2024/07/29 22:09:31.590 +00:00] [INFO] [etcd.go:241] ["now serving peer/client/metrics"] [local-member-id=30610c698d7a69f3] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"]
[2024/07/29 22:09:31.594 +00:00] [INFO] [server.go:680] ["starting initial election tick advance"] [election-ticks=6]
[2024/07/29 22:09:31.594 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:09:31.594 +00:00] [INFO] [etcd.go:576] ["serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:09:31.602 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=30610c698d7a69f3] [added-peer-peer-urls="[http://pd2:2380]"]
[2024/07/29 22:09:31.603 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:09:31.603 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=e3589da502d44cf6] [added-peer-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:09:31.604 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:09:31.604 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=ed69672f88924e60] [added-peer-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:09:31.603 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.604 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.605 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:09:31.607 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.607 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:09:31.609 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.606 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:31.608 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:09:31.609 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:09:31.610 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.611 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.611 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.611 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.611 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:31.652 +00:00] [INFO] [server.go:705] ["initialized peer connections; fast-forwarding election ticks"] [local-member-id=30610c698d7a69f3] [forward-ticks=4] [forward-duration=2s] [election-ticks=6] [election-timeout=3s] [active-remote-members=2]
[2024/07/29 22:09:32.526 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 1, index: 3, vote: 0] cast MsgPreVote for ed69672f88924e60 [logterm: 1, index: 3] at term 1"]
[2024/07/29 22:09:32.529 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 1] received a MsgVote message with higher term from ed69672f88924e60 [term: 2]"]
[2024/07/29 22:09:32.529 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 2"]
[2024/07/29 22:09:32.529 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 1, index: 3, vote: 0] cast MsgVote for ed69672f88924e60 [logterm: 1, index: 3] at term 2"]
[2024/07/29 22:09:32.531 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader ed69672f88924e60 at term 2"]
[2024/07/29 22:09:32.540 +00:00] [INFO] [server.go:2016] ["published local member to cluster through raft"] [local-member-id=30610c698d7a69f3] [local-member-attributes="{Name:pd2 ClientURLs:[http://pd2:2379]}"] [request-path=/0/members/30610c698d7a69f3/attributes] [cluster-id=4586ab14de6050dd] [publish-timeout=11s]
[2024/07/29 22:09:32.541 +00:00] [INFO] [server.go:326] ["create etcd v3 client"] [endpoints="[http://pd2:2379]"] [cert="{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}}"]
[2024/07/29 22:09:32.543 +00:00] [INFO] [serve.go:139] ["serving client traffic insecurely; this is strongly discouraged!"] [address="[::]:2379"]
[2024/07/29 22:09:32.547 +00:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [cluster-version=3.4]
[2024/07/29 22:09:32.551 +00:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2024/07/29 22:09:32.559 +00:00] [INFO] [server.go:381] ["init cluster id"] [cluster-id=7397183400508190990]
[2024/07/29 22:09:32.606 +00:00] [INFO] [history_buffer.go:147] ["start from history index"] [start-index=0]
[2024/07/29 22:09:32.651 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:09:32.652 +00:00] [INFO] [server.go:1304] ["start to watch pd leader"] [pd-leader="name:\"pd1\" member_id:17107318113395953248 peer_urls:\"http://pd1:2380\" client_urls:\"http://pd1:2379\" "]
[2024/07/29 22:09:32.653 +00:00] [INFO] [client.go:123] ["region syncer start load region"]
[2024/07/29 22:09:32.653 +00:00] [INFO] [client.go:126] ["region syncer finished load region"] [time-cost=47.5µs]
[2024/07/29 22:09:32.655 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd1] [request-index=0]
[2024/07/29 22:09:32.655 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Unavailable desc = server not started: rpc error: code = Unavailable desc = server not started"]
[2024/07/29 22:09:33.658 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd1] [request-index=0]
[2024/07/29 22:09:37.611 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Unavailable desc = server not started: rpc error: code = Unavailable desc = server not started"]
[2024/07/29 22:09:42.117 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="read tcp 172.19.0.4:49624->172.19.0.2:2380: i/o timeout"]
[2024/07/29 22:09:42.446 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to read e3589da502d44cf6 on stream Message (read tcp 172.19.0.4:49624->172.19.0.2:2380: i/o timeout)"]
[2024/07/29 22:09:42.444 +00:00] [WARN] [wal.go:712] ["slow fdatasync"] [took=4.832525044s] [expected-duration=1s]
[2024/07/29 22:09:42.449 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:09:42.453 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.451 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:09:42.453 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:09:42.454 +00:00] [WARN] [stream.go:266] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.456 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.455 +00:00] [WARN] [stream.go:266] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:42.455 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.455 +00:00] [WARN] [stream.go:266] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.459 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:42.472 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:09:42.472 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:09:42.477 +00:00] [WARN] [stream.go:266] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:42.478 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:09:42.480 +00:00] [WARN] [util.go:144] ["apply request took too long"] [took=8.829971088s] [expected-duration=100ms] [prefix="read-only range "] [request="key:\"/pd/7397183400508190990/config\" "] [response="range_response_count:0 size:4"] []
[2024/07/29 22:09:42.482 +00:00] [INFO] [trace.go:145] ["trace[610939351] range"] [detail="{range_begin:/pd/7397183400508190990/config; range_end:; response_count:0; response_revision:14; }"] [duration=8.831952546s] [start=2024/07/29 22:09:33.650 +00:00] [end=2024/07/29 22:09:42.482 +00:00] [steps="[\"trace[610939351] 'agreement among raft nodes before linearized reading'  (duration: 8.829882921s)\"]"]
[2024/07/29 22:09:42.483 +00:00] [WARN] [etcdutil.go:121] ["kv gets too slow"] [request-key=/pd/7397183400508190990/config] [cost=8.837864546s] []
[2024/07/29 22:09:42.575 +00:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/data/pd2/dashboard.sqlite.db]
[2024/07/29 22:09:42.676 +00:00] [INFO] [leadership.go:211] ["current leadership is deleted"] [leader-key=/pd/7397183400508190990/leader] [purpose="pd leader election"]
[2024/07/29 22:09:43.444 +00:00] [INFO] [server.go:1308] ["pd leader has changed, try to re-campaign a pd leader"]
[2024/07/29 22:09:43.792 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=17107318113395953248] [member-id=3486081234046183923]
[2024/07/29 22:09:43.844 +00:00] [WARN] [migrator.go:49] [trace] [elapsed=590.178876ms] [rows=0] [sql="CREATE INDEX `idx_log_search_task_groups_state` ON `log_search_task_groups`(`state`)"]
[2024/07/29 22:09:43.994 +00:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=2022.05.19.1] [standalone=No] [pd-version=v6.1.0] [build-time="2022-06-01 01:47:53"] [build-git-hash=4d621864a9a0]
[2024/07/29 22:09:43.999 +00:00] [INFO] [manager.go:197] ["Dashboard server is started"]
[2024/07/29 22:09:44.000 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:34197] [remotes="[]"]
[2024/07/29 22:09:44.000 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:38431] [remotes="[]"]
[2024/07/29 22:09:44.025 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:09:44.021 +00:00] [WARN] [dynamic_config_manager.go:164] ["Dynamic config does not exist in etcd"]
[2024/07/29 22:09:44.026 +00:00] [INFO] [client.go:123] ["region syncer start load region"]
[2024/07/29 22:09:44.028 +00:00] [INFO] [client.go:126] ["region syncer finished load region"] [time-cost=1.25µs]
[2024/07/29 22:09:44.026 +00:00] [INFO] [server.go:1304] ["start to watch pd leader"] [pd-leader="name:\"pd1\" member_id:17107318113395953248 peer_urls:\"http://pd1:2380\" client_urls:\"http://pd1:2379\" "]
[2024/07/29 22:09:44.121 +00:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:09:44.123 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd1] [request-index=0]
[2024/07/29 22:09:44.133 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Unavailable desc = server not started: rpc error: code = Unavailable desc = server not started"]
[2024/07/29 22:09:44.201 +00:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2024/07/29 22:09:44.792 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.19.0.4:2379->172.19.0.5:48282: read: connection reset by peer"]
[2024/07/29 22:09:44.792 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.19.0.4:2379->172.19.0.6:38488: read: connection reset by peer"]
[2024/07/29 22:09:45.134 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd1] [request-index=0]
[2024/07/29 22:09:50.218 +00:00] [WARN] [util.go:144] ["apply request took too long"] [took=574.709501ms] [expected-duration=100ms] [prefix="read-only range "] [request="key:\"/pd/7397183400508190990/config\" "] [response="range_response_count:1 size:3658"] []
[2024/07/29 22:09:50.226 +00:00] [INFO] [trace.go:145] ["trace[818361545] range"] [detail="{range_begin:/pd/7397183400508190990/config; range_end:; response_count:1; response_revision:37; }"] [duration=582.085876ms] [start=2024/07/29 22:09:49.643 +00:00] [end=2024/07/29 22:09:50.226 +00:00] [steps="[\"trace[818361545] 'range keys from in-memory index tree'  (duration: 574.033708ms)\"]"]
[2024/07/29 22:12:48.479 +00:00] [INFO] [server.go:566] ["server is closed, exit metrics loop"]
[2024/07/29 22:12:48.480 +00:00] [INFO] [main.go:121] ["Got signal to exit"] [signal=terminated]
[2024/07/29 22:12:48.485 +00:00] [INFO] [server.go:460] ["closing server"]
[2024/07/29 22:12:48.480 +00:00] [INFO] [server.go:580] ["server is closed, exit allocator loop"]
[2024/07/29 22:12:48.481 +00:00] [INFO] [server.go:1446] ["server is closed, exit etcd leader loop"]
[2024/07/29 22:12:48.481 +00:00] [INFO] [server.go:591] ["server is closed, exist encryption key manager loop"]
[2024/07/29 22:12:48.482 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Canceled desc = context canceled: rpc error: code = Canceled desc = context canceled"]
[2024/07/29 22:12:48.483 +00:00] [INFO] [manager.go:85] ["Key visual service is stopped"]
[2024/07/29 22:12:48.496 +00:00] [INFO] [manager.go:208] ["Dashboard server is stopped"]
[2024/07/29 22:12:48.501 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {pd1:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.19.0.3:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:12:48.503 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 2] received a MsgVote message with higher term from e3589da502d44cf6 [term: 3]"]
[2024/07/29 22:12:48.503 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 3"]
[2024/07/29 22:12:48.503 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 2, index: 116, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 2, index: 116] at term 3"]
[2024/07/29 22:12:48.503 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader ed69672f88924e60 at term 3"]
[2024/07/29 22:12:48.505 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 3"]
[2024/07/29 22:12:49.005 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:12:49.007 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:12:49.031 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=ed69672f88924e60] [error="failed to dial ed69672f88924e60 on stream Message (peer ed69672f88924e60 failed to find local node 30610c698d7a69f3)"]
[2024/07/29 22:12:49.490 +00:00] [INFO] [server.go:1308] ["pd leader has changed, try to re-campaign a pd leader"]
[2024/07/29 22:12:49.490 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=16382016976602811638] [member-id=3486081234046183923]
[2024/07/29 22:12:49.541 +00:00] [INFO] [raft.go:1355] ["30610c698d7a69f3 [term 3] received MsgTimeoutNow from e3589da502d44cf6 and starts an election to get leadership."]
[2024/07/29 22:12:49.541 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 4"]
[2024/07/29 22:12:49.541 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 4"]
[2024/07/29 22:12:49.541 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 3, index: 122] sent MsgVote request to e3589da502d44cf6 at term 4"]
[2024/07/29 22:12:49.541 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 3, index: 122] sent MsgVote request to ed69672f88924e60 at term 4"]
[2024/07/29 22:12:49.541 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader e3589da502d44cf6 at term 4"]
[2024/07/29 22:12:49.542 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from e3589da502d44cf6 at term 4"]
[2024/07/29 22:12:49.542 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:12:49.542 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 4"]
[2024/07/29 22:12:49.542 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 4"]
[2024/07/29 22:12:49.547 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd1:2380/version] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:12:49.547 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:12:49.691 +00:00] [INFO] [server.go:1284] ["server is closed, return pd leader loop"]
[2024/07/29 22:12:49.691 +00:00] [INFO] [etcd.go:360] ["closing etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:12:49.692 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:2379->127.0.0.1:37052: use of closed network connection"]
[2024/07/29 22:12:49.692 +00:00] [INFO] [server.go:1413] ["leadership transfer starting"] [local-member-id=30610c698d7a69f3] [current-leader-member-id=30610c698d7a69f3] [transferee-member-id=e3589da502d44cf6]
[2024/07/29 22:12:49.692 +00:00] [INFO] [raft.go:1261] ["30610c698d7a69f3 [term 4] starts to transfer leadership to e3589da502d44cf6"]
[2024/07/29 22:12:49.692 +00:00] [INFO] [raft.go:1267] ["30610c698d7a69f3 sends MsgTimeoutNow to e3589da502d44cf6 immediately as e3589da502d44cf6 already has up-to-date log"]
[2024/07/29 22:12:49.692 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {0.0.0.0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 0.0.0.0:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:12:49.693 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 4] received a MsgVote message with higher term from e3589da502d44cf6 [term: 5]"]
[2024/07/29 22:12:49.694 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 5"]
[2024/07/29 22:12:49.694 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 4, index: 123, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 4, index: 123] at term 5"]
[2024/07/29 22:12:49.694 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 5"]
[2024/07/29 22:12:49.694 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 5"]
[2024/07/29 22:12:50.193 +00:00] [INFO] [server.go:1434] ["leadership transfer finished"] [local-member-id=30610c698d7a69f3] [old-leader-member-id=30610c698d7a69f3] [new-leader-member-id=e3589da502d44cf6] [took=500.673959ms]
[2024/07/29 22:12:50.201 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.212 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.212 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.213 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.213 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.213 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.214 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:12:50.215 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to read e3589da502d44cf6 on stream MsgApp v2 (context canceled)"]
[2024/07/29 22:12:50.215 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.215 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:12:50.215 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.215 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:12:50.216 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.216 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.216 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.216 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.216 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.217 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.217 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.217 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.217 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:12:50.217 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:12:50.218 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:12:50.220 +00:00] [INFO] [etcd.go:555] ["stopping serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:12:50.220 +00:00] [INFO] [etcd.go:562] ["stopped serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:12:50.220 +00:00] [INFO] [etcd.go:364] ["closed etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:12:50.224 +00:00] [INFO] [manager.go:73] ["exit dashboard loop"]
[2024/07/29 22:12:50.224 +00:00] [INFO] [server.go:494] ["close server"]
[2024/07/29 22:19:01.021 +00:00] [INFO] [util.go:41] ["Welcome to Placement Driver (PD)"]
[2024/07/29 22:19:01.023 +00:00] [INFO] [util.go:42] [PD] [release-version=v6.1.0]
[2024/07/29 22:19:01.023 +00:00] [INFO] [util.go:43] [PD] [edition=Community]
[2024/07/29 22:19:01.023 +00:00] [INFO] [util.go:44] [PD] [git-hash=d82f4fab6cf37cd1eca9c3574984e12a7ae27c42]
[2024/07/29 22:19:01.024 +00:00] [INFO] [util.go:45] [PD] [git-branch=heads/refs/tags/v6.1.0]
[2024/07/29 22:19:01.024 +00:00] [INFO] [util.go:46] [PD] [utc-build-time="2022-06-01 01:47:53"]
[2024/07/29 22:19:01.024 +00:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2024/07/29 22:19:01.025 +00:00] [INFO] [server.go:240] ["PD Config"] [config="{\"client-urls\":\"http://0.0.0.0:2379\",\"peer-urls\":\"http://0.0.0.0:2380\",\"advertise-client-urls\":\"http://pd2:2379\",\"advertise-peer-urls\":\"http://pd2:2380\",\"name\":\"pd2\",\"data-dir\":\"/data/pd2\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"/logs/pd2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd2\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":200000,\"split-merge-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"0s\"},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":true,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"wait-sync-timeout\":\"1m0s\",\"wait-async-timeout\":\"2m0s\",\"pause-region-split\":\"false\"}}}"]
[2024/07/29 22:19:01.027 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v1]
[2024/07/29 22:19:01.028 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v2/]
[2024/07/29 22:19:01.029 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/swagger/]
[2024/07/29 22:19:01.030 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/autoscaling]
[2024/07/29 22:19:01.030 +00:00] [INFO] [distro.go:51] ["Using distribution strings"] [strings={}]
[2024/07/29 22:19:01.033 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/api/]
[2024/07/29 22:19:01.033 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/]
[2024/07/29 22:19:01.034 +00:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://0.0.0.0:2380]"]
[2024/07/29 22:19:01.035 +00:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://0.0.0.0:2379]"]
[2024/07/29 22:19:01.035 +00:00] [INFO] [etcd.go:602] ["pprof is enabled"] [path=/debug/pprof]
[2024/07/29 22:19:01.035 +00:00] [INFO] [systimemon.go:28] ["start system time monitor"]
[2024/07/29 22:19:01.038 +00:00] [INFO] [etcd.go:299] ["starting an etcd server"] [etcd-version=3.4.3] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.18.2] [go-os=linux] [go-arch=arm64] [max-cpu-set=8] [max-cpu-available=8] [member-initialized=true] [name=pd2] [data-dir=/data/pd2] [wal-dir=] [wal-dir-dedicated=] [member-dir=/data/pd2/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster=] [initial-cluster-state=new] [initial-cluster-token=] [quota-size-bytes=8589934592] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2024/07/29 22:19:01.039 +00:00] [WARN] [server.go:298] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2024/07/29 22:19:01.050 +00:00] [INFO] [backend.go:79] ["opened backend db"] [path=/data/pd2/member/snap/db] [took=3.603667ms]
[2024/07/29 22:19:01.062 +00:00] [INFO] [raft.go:506] ["restarting local member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [commit-index=124]
[2024/07/29 22:19:01.063 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=()"]
[2024/07/29 22:19:01.064 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 5"]
[2024/07/29 22:19:01.067 +00:00] [INFO] [raft.go:383] ["newRaft 30610c698d7a69f3 [peers: [], term: 5, commit: 124, applied: 0, lastindex: 124, lastterm: 5]"]
[2024/07/29 22:19:01.084 +00:00] [WARN] [store.go:1317] ["simple token is not cryptographically signed"]
[2024/07/29 22:19:01.085 +00:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2024/07/29 22:19:01.086 +00:00] [INFO] [server.go:792] ["starting etcd server"] [local-member-id=30610c698d7a69f3] [local-server-version=3.4.3] [cluster-version=to_be_decided]
[2024/07/29 22:19:01.087 +00:00] [INFO] [server.go:680] ["starting initial election tick advance"] [election-ticks=6]
[2024/07/29 22:19:01.088 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923)"]
[2024/07/29 22:19:01.092 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=30610c698d7a69f3] [added-peer-peer-urls="[http://pd2:2380]"]
[2024/07/29 22:19:01.090 +00:00] [INFO] [etcd.go:241] ["now serving peer/client/metrics"] [local-member-id=30610c698d7a69f3] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"]
[2024/07/29 22:19:01.091 +00:00] [INFO] [etcd.go:576] ["serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:19:01.094 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638)"]
[2024/07/29 22:19:01.100 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=e3589da502d44cf6] [added-peer-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:19:01.100 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.100 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.101 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.102 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:19:01.103 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:19:01.103 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=ed69672f88924e60] [added-peer-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:19:01.103 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.103 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.103 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.104 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:19:01.102 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.104 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.102 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.102 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.102 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.104 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.104 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.104 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.104 +00:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [cluster-version=3.4]
[2024/07/29 22:19:01.109 +00:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2024/07/29 22:19:01.109 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.110 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.110 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.109 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:19:01.112 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.113 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.113 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.110 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:19:01.114 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.110 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:19:01.110 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:19:01.114 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:19:01.115 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.115 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:19:01.141 +00:00] [INFO] [server.go:705] ["initialized peer connections; fast-forwarding election ticks"] [local-member-id=30610c698d7a69f3] [forward-ticks=4] [forward-duration=2s] [election-ticks=6] [election-timeout=3s] [active-remote-members=2]
[2024/07/29 22:19:02.089 +00:00] [INFO] [raft.go:896] ["30610c698d7a69f3 [logterm: 5, index: 124, vote: e3589da502d44cf6] rejected MsgPreVote from ed69672f88924e60 [logterm: 3, index: 117] at term 5"]
[2024/07/29 22:19:03.574 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 5, index: 124, vote: e3589da502d44cf6] cast MsgPreVote for e3589da502d44cf6 [logterm: 5, index: 124] at term 5"]
[2024/07/29 22:19:03.595 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 5] received a MsgVote message with higher term from e3589da502d44cf6 [term: 6]"]
[2024/07/29 22:19:03.596 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 6"]
[2024/07/29 22:19:03.596 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 5, index: 124, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 5, index: 124] at term 6"]
[2024/07/29 22:19:03.660 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 6"]
[2024/07/29 22:19:03.674 +00:00] [INFO] [server.go:2016] ["published local member to cluster through raft"] [local-member-id=30610c698d7a69f3] [local-member-attributes="{Name:pd2 ClientURLs:[http://pd2:2379]}"] [request-path=/0/members/30610c698d7a69f3/attributes] [cluster-id=4586ab14de6050dd] [publish-timeout=11s]
[2024/07/29 22:19:03.674 +00:00] [INFO] [server.go:326] ["create etcd v3 client"] [endpoints="[http://pd2:2379]"] [cert="{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}}"]
[2024/07/29 22:19:03.685 +00:00] [INFO] [serve.go:139] ["serving client traffic insecurely; this is strongly discouraged!"] [address="[::]:2379"]
[2024/07/29 22:19:03.701 +00:00] [INFO] [server.go:381] ["init cluster id"] [cluster-id=7397183400508190990]
[2024/07/29 22:19:03.753 +00:00] [INFO] [history_buffer.go:147] ["start from history index"] [start-index=0]
[2024/07/29 22:19:03.787 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=16382016976602811638] [member-id=3486081234046183923]
[2024/07/29 22:19:03.989 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:19:03.990 +00:00] [INFO] [server.go:1304] ["start to watch pd leader"] [pd-leader="name:\"pd0\" member_id:16382016976602811638 peer_urls:\"http://pd0:2380\" client_urls:\"http://pd0:2379\" "]
[2024/07/29 22:19:03.990 +00:00] [INFO] [client.go:123] ["region syncer start load region"]
[2024/07/29 22:19:03.991 +00:00] [INFO] [client.go:126] ["region syncer finished load region"] [time-cost=463.75µs]
[2024/07/29 22:19:03.994 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd0] [request-index=0]
[2024/07/29 22:19:06.026 +00:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/data/pd2/dashboard.sqlite.db]
[2024/07/29 22:19:13.243 +00:00] [INFO] [raft.go:844] ["30610c698d7a69f3 [logterm: 6, index: 142, vote: e3589da502d44cf6] ignored MsgPreVote from ed69672f88924e60 [logterm: 6, index: 142] at term 6: lease is not expired (remaining ticks: 6)"]
[2024/07/29 22:19:13.360 +00:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=2022.05.19.1] [standalone=No] [pd-version=v6.1.0] [build-time="2022-06-01 01:47:53"] [build-git-hash=4d621864a9a0]
[2024/07/29 22:19:13.361 +00:00] [INFO] [manager.go:197] ["Dashboard server is started"]
[2024/07/29 22:19:13.360 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:37213] [remotes="[]"]
[2024/07/29 22:19:13.360 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:37631] [remotes="[]"]
[2024/07/29 22:19:13.363 +00:00] [INFO] [dynamic_config_manager.go:167] ["Load dynamic config from etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:19:13.372 +00:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:19:13.377 +00:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2024/07/29 22:22:35.153 +00:00] [INFO] [server.go:1446] ["server is closed, exit etcd leader loop"]
[2024/07/29 22:22:35.153 +00:00] [INFO] [server.go:566] ["server is closed, exit metrics loop"]
[2024/07/29 22:22:35.152 +00:00] [INFO] [main.go:121] ["Got signal to exit"] [signal=terminated]
[2024/07/29 22:22:35.166 +00:00] [INFO] [server.go:460] ["closing server"]
[2024/07/29 22:22:35.154 +00:00] [INFO] [server.go:591] ["server is closed, exist encryption key manager loop"]
[2024/07/29 22:22:35.154 +00:00] [INFO] [server.go:580] ["server is closed, exit allocator loop"]
[2024/07/29 22:22:35.154 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Canceled desc = context canceled: rpc error: code = Canceled desc = context canceled"]
[2024/07/29 22:22:35.164 +00:00] [INFO] [manager.go:85] ["Key visual service is stopped"]
[2024/07/29 22:22:35.177 +00:00] [INFO] [manager.go:208] ["Dashboard server is stopped"]
[2024/07/29 22:22:35.182 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {pd0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.18.0.4:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:22:35.182 +00:00] [INFO] [raft.go:1355] ["30610c698d7a69f3 [term 6] received MsgTimeoutNow from e3589da502d44cf6 and starts an election to get leadership."]
[2024/07/29 22:22:35.183 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 7"]
[2024/07/29 22:22:35.183 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 7"]
[2024/07/29 22:22:35.183 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 6, index: 227] sent MsgVote request to e3589da502d44cf6 at term 7"]
[2024/07/29 22:22:35.183 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 6, index: 227] sent MsgVote request to ed69672f88924e60 at term 7"]
[2024/07/29 22:22:35.183 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader e3589da502d44cf6 at term 7"]
[2024/07/29 22:22:35.184 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from e3589da502d44cf6 at term 7"]
[2024/07/29 22:22:35.184 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:22:35.184 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 7"]
[2024/07/29 22:22:35.184 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 7"]
[2024/07/29 22:22:35.690 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error=EOF]
[2024/07/29 22:22:35.696 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error=EOF]
[2024/07/29 22:22:35.703 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to dial e3589da502d44cf6 on stream MsgApp v2 (peer e3589da502d44cf6 failed to find local node 30610c698d7a69f3)"]
[2024/07/29 22:22:36.173 +00:00] [INFO] [server.go:1308] ["pd leader has changed, try to re-campaign a pd leader"]
[2024/07/29 22:22:36.174 +00:00] [INFO] [server.go:1326] ["start to campaign pd leader"] [campaign-pd-leader-name=pd2]
[2024/07/29 22:22:36.177 +00:00] [INFO] [lease.go:65] ["lease granted"] [lease-id=7634605224980927223] [lease-timeout=3] [purpose="pd leader election"]
[2024/07/29 22:22:36.179 +00:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5009879741614805213,\"member_id\":3486081234046183923,\"revision\":206,\"raft_term\":7},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":206}}}}]}"]
[2024/07/29 22:22:36.180 +00:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/pd/7397183400508190990/leader] [purpose="pd leader election"]
[2024/07/29 22:22:36.180 +00:00] [INFO] [server.go:1352] ["campaign pd leader ok"] [campaign-pd-leader-name=pd2]
[2024/07/29 22:22:36.181 +00:00] [INFO] [server.go:1359] ["initializing the global TSO allocator"]
[2024/07/29 22:22:36.180 +00:00] [INFO] [lease.go:135] ["start lease keep alive worker"] [interval=1s] [purpose="pd leader election"]
[2024/07/29 22:22:36.181 +00:00] [INFO] [lease.go:159] ["stop lease keep alive worker"] [purpose="pd leader election"]
[2024/07/29 22:22:36.181 +00:00] [WARN] [lease.go:145] ["lease keep alive failed"] [purpose="pd leader election"] [error="context canceled"]
[2024/07/29 22:22:36.185 +00:00] [ERROR] [tso.go:210] ["system time may be incorrect"] [last=2024/07/29 22:22:37.939 +00:00] [next=2024/07/29 22:22:36.185 +00:00] [error="[PD:common:ErrIncorrectSystemTime]incorrect system time"]
[2024/07/29 22:22:36.187 +00:00] [INFO] [tso.go:221] ["sync and save timestamp"] [last=2024/07/29 22:22:37.939 +00:00] [save=2024/07/29 22:22:40.940 +00:00] [next=2024/07/29 22:22:37.940 +00:00]
[2024/07/29 22:22:36.189 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:22:36.206 +00:00] [INFO] [cluster.go:352] ["load stores"] [count=3] [cost=10.289541ms]
[2024/07/29 22:22:36.207 +00:00] [INFO] [cluster.go:363] ["load regions"] [count=1] [cost=1.333µs]
[2024/07/29 22:22:36.209 +00:00] [INFO] [labeler.go:67] ["RegionLabeler GC stopped"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [coordinator.go:318] ["coordinator starts to collect cluster information"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [coordinator.go:327] ["coordinator stops running"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [coordinator.go:307] ["coordinator is stopping"]
[2024/07/29 22:22:36.212 +00:00] [INFO] [coordinator.go:309] ["coordinator has been stopped"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [server.go:130] ["region syncer has been stopped"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [cluster.go:388] ["metrics are reset"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [cluster.go:411] ["node state check job has been stopped"]
[2024/07/29 22:22:36.211 +00:00] [INFO] [cluster.go:429] ["statistics background jobs has been stopped"]
[2024/07/29 22:22:36.213 +00:00] [INFO] [cluster.go:2132] ["min resolved ts background jobs has been stopped"]
[2024/07/29 22:22:36.213 +00:00] [INFO] [cluster.go:390] ["metrics collection job has been stopped"]
[2024/07/29 22:22:36.213 +00:00] [INFO] [id.go:122] ["idAllocator allocates a new id"] [alloc-id=5000]
[2024/07/29 22:22:36.214 +00:00] [INFO] [util.go:77] ["load cluster version"] [cluster-version=6.1.0]
[2024/07/29 22:22:36.214 +00:00] [INFO] [server.go:1410] ["PD cluster leader is ready to serve"] [pd-leader-name=pd2]
[2024/07/29 22:22:36.214 +00:00] [INFO] [server.go:1429] ["server is closed"]
[2024/07/29 22:22:36.245 +00:00] [INFO] [cluster.go:300] ["sync store config job is stopped"]
[2024/07/29 22:22:36.245 +00:00] [INFO] [cluster.go:469] ["raftcluster is stopped"]
[2024/07/29 22:22:36.246 +00:00] [INFO] [tso.go:405] ["reset the timestamp in memory"]
[2024/07/29 22:22:36.246 +00:00] [INFO] [server.go:1284] ["server is closed, return pd leader loop"]
[2024/07/29 22:22:36.246 +00:00] [INFO] [etcd.go:360] ["closing etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:22:36.246 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:2379->127.0.0.1:47706: use of closed network connection"]
[2024/07/29 22:22:36.246 +00:00] [INFO] [server.go:1413] ["leadership transfer starting"] [local-member-id=30610c698d7a69f3] [current-leader-member-id=30610c698d7a69f3] [transferee-member-id=ed69672f88924e60]
[2024/07/29 22:22:36.247 +00:00] [INFO] [raft.go:1261] ["30610c698d7a69f3 [term 7] starts to transfer leadership to ed69672f88924e60"]
[2024/07/29 22:22:36.247 +00:00] [INFO] [raft.go:1267] ["30610c698d7a69f3 sends MsgTimeoutNow to ed69672f88924e60 immediately as ed69672f88924e60 already has up-to-date log"]
[2024/07/29 22:22:36.246 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {0.0.0.0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 0.0.0.0:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:22:36.248 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 7] received a MsgVote message with higher term from ed69672f88924e60 [term: 8]"]
[2024/07/29 22:22:36.248 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 8"]
[2024/07/29 22:22:36.248 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 7, index: 233, vote: 0] cast MsgVote for ed69672f88924e60 [logterm: 7, index: 233] at term 8"]
[2024/07/29 22:22:36.248 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 8"]
[2024/07/29 22:22:36.249 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader ed69672f88924e60 at term 8"]
[2024/07/29 22:22:36.377 +00:00] [INFO] [raft.go:1355] ["30610c698d7a69f3 [term 8] received MsgTimeoutNow from ed69672f88924e60 and starts an election to get leadership."]
[2024/07/29 22:22:36.377 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 9"]
[2024/07/29 22:22:36.377 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 9"]
[2024/07/29 22:22:36.377 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 8, index: 234] sent MsgVote request to e3589da502d44cf6 at term 9"]
[2024/07/29 22:22:36.378 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 8, index: 234] sent MsgVote request to ed69672f88924e60 at term 9"]
[2024/07/29 22:22:36.378 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader ed69672f88924e60 at term 9"]
[2024/07/29 22:22:36.380 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from ed69672f88924e60 at term 9"]
[2024/07/29 22:22:36.380 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:22:36.380 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 9"]
[2024/07/29 22:22:36.380 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 9"]
[2024/07/29 22:22:36.385 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd0:2380/version] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:36.385 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:36.880 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:22:36.883 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:22:36.890 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=ed69672f88924e60] [error="failed to dial ed69672f88924e60 on stream MsgApp v2 (peer ed69672f88924e60 failed to find local node 30610c698d7a69f3)"]
[2024/07/29 22:22:40.394 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd0:2380/version] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:40.395 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:40.400 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd1:2380/version] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:40.401 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:22:42.078 +00:00] [WARN] [raft.go:1011] ["30610c698d7a69f3 stepped down to follower since quorum is not active"]
[2024/07/29 22:22:42.080 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 9"]
[2024/07/29 22:22:42.081 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 9"]
[2024/07/29 22:22:49.788 +00:00] [INFO] [util.go:41] ["Welcome to Placement Driver (PD)"]
[2024/07/29 22:22:49.790 +00:00] [INFO] [util.go:42] [PD] [release-version=v6.1.0]
[2024/07/29 22:22:49.791 +00:00] [INFO] [util.go:43] [PD] [edition=Community]
[2024/07/29 22:22:49.791 +00:00] [INFO] [util.go:44] [PD] [git-hash=d82f4fab6cf37cd1eca9c3574984e12a7ae27c42]
[2024/07/29 22:22:49.791 +00:00] [INFO] [util.go:45] [PD] [git-branch=heads/refs/tags/v6.1.0]
[2024/07/29 22:22:49.791 +00:00] [INFO] [util.go:46] [PD] [utc-build-time="2022-06-01 01:47:53"]
[2024/07/29 22:22:49.791 +00:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2024/07/29 22:22:49.791 +00:00] [INFO] [server.go:240] ["PD Config"] [config="{\"client-urls\":\"http://0.0.0.0:2379\",\"peer-urls\":\"http://0.0.0.0:2380\",\"advertise-client-urls\":\"http://pd2:2379\",\"advertise-peer-urls\":\"http://pd2:2380\",\"name\":\"pd2\",\"data-dir\":\"/data/pd2\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"/logs/pd2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd2\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":200000,\"split-merge-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"0s\"},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":true,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"wait-sync-timeout\":\"1m0s\",\"wait-async-timeout\":\"2m0s\",\"pause-region-split\":\"false\"}}}"]
[2024/07/29 22:22:49.803 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v1]
[2024/07/29 22:22:49.804 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v2/]
[2024/07/29 22:22:49.804 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/swagger/]
[2024/07/29 22:22:49.806 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/autoscaling]
[2024/07/29 22:22:49.810 +00:00] [INFO] [distro.go:51] ["Using distribution strings"] [strings={}]
[2024/07/29 22:22:49.812 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/api/]
[2024/07/29 22:22:49.812 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/]
[2024/07/29 22:22:49.812 +00:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://0.0.0.0:2380]"]
[2024/07/29 22:22:49.812 +00:00] [INFO] [systimemon.go:28] ["start system time monitor"]
[2024/07/29 22:22:49.813 +00:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://0.0.0.0:2379]"]
[2024/07/29 22:22:49.813 +00:00] [INFO] [etcd.go:602] ["pprof is enabled"] [path=/debug/pprof]
[2024/07/29 22:22:49.814 +00:00] [INFO] [etcd.go:299] ["starting an etcd server"] [etcd-version=3.4.3] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.18.2] [go-os=linux] [go-arch=arm64] [max-cpu-set=8] [max-cpu-available=8] [member-initialized=true] [name=pd2] [data-dir=/data/pd2] [wal-dir=] [wal-dir-dedicated=] [member-dir=/data/pd2/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster=] [initial-cluster-state=new] [initial-cluster-token=] [quota-size-bytes=8589934592] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2024/07/29 22:22:49.815 +00:00] [WARN] [server.go:298] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2024/07/29 22:22:49.819 +00:00] [INFO] [backend.go:79] ["opened backend db"] [path=/data/pd2/member/snap/db] [took=1.540625ms]
[2024/07/29 22:22:49.826 +00:00] [INFO] [raft.go:506] ["restarting local member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [commit-index=234]
[2024/07/29 22:22:49.827 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=()"]
[2024/07/29 22:22:49.827 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 9"]
[2024/07/29 22:22:49.827 +00:00] [INFO] [raft.go:383] ["newRaft 30610c698d7a69f3 [peers: [], term: 9, commit: 234, applied: 0, lastindex: 235, lastterm: 9]"]
[2024/07/29 22:22:49.830 +00:00] [WARN] [store.go:1317] ["simple token is not cryptographically signed"]
[2024/07/29 22:22:49.830 +00:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2024/07/29 22:22:49.832 +00:00] [INFO] [server.go:792] ["starting etcd server"] [local-member-id=30610c698d7a69f3] [local-server-version=3.4.3] [cluster-version=to_be_decided]
[2024/07/29 22:22:49.835 +00:00] [INFO] [etcd.go:241] ["now serving peer/client/metrics"] [local-member-id=30610c698d7a69f3] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"]
[2024/07/29 22:22:49.836 +00:00] [INFO] [server.go:680] ["starting initial election tick advance"] [election-ticks=6]
[2024/07/29 22:22:49.837 +00:00] [INFO] [etcd.go:576] ["serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:22:49.837 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.837 +00:00] [INFO] [transport.go:294] ["added new remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:22:49.837 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.837 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923)"]
[2024/07/29 22:22:49.838 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.838 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=30610c698d7a69f3] [added-peer-peer-urls="[http://pd2:2380]"]
[2024/07/29 22:22:49.842 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638)"]
[2024/07/29 22:22:49.843 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=e3589da502d44cf6] [added-peer-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:22:49.843 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.842 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.843 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.843 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.850 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.850 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.850 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.850 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:22:49.850 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:22:49.850 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=ed69672f88924e60] [added-peer-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:22:49.850 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.851 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.850 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.851 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.851 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.851 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:22:49.852 +00:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [cluster-version=3.4]
[2024/07/29 22:22:49.852 +00:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.852 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.852 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.852 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.853 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.852 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.852 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:22:49.853 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.853 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:22:49.853 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.853 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:22:49.853 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:22:49.889 +00:00] [INFO] [server.go:705] ["initialized peer connections; fast-forwarding election ticks"] [local-member-id=30610c698d7a69f3] [forward-ticks=4] [forward-duration=2s] [election-ticks=6] [election-timeout=3s] [active-remote-members=2]
[2024/07/29 22:22:49.939 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:22:49.940 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:49.943 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:22:49.944 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:22:51.334 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 9, index: 235, vote: 30610c698d7a69f3] cast MsgPreVote for ed69672f88924e60 [logterm: 9, index: 235] at term 9"]
[2024/07/29 22:22:51.354 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 9] received a MsgVote message with higher term from ed69672f88924e60 [term: 10]"]
[2024/07/29 22:22:51.354 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 10"]
[2024/07/29 22:22:51.354 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 9, index: 235, vote: 0] cast MsgVote for ed69672f88924e60 [logterm: 9, index: 235] at term 10"]
[2024/07/29 22:22:51.387 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader ed69672f88924e60 at term 10"]
[2024/07/29 22:22:51.391 +00:00] [INFO] [server.go:2016] ["published local member to cluster through raft"] [local-member-id=30610c698d7a69f3] [local-member-attributes="{Name:pd2 ClientURLs:[http://pd2:2379]}"] [request-path=/0/members/30610c698d7a69f3/attributes] [cluster-id=4586ab14de6050dd] [publish-timeout=11s]
[2024/07/29 22:22:51.391 +00:00] [INFO] [server.go:326] ["create etcd v3 client"] [endpoints="[http://pd2:2379]"] [cert="{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}}"]
[2024/07/29 22:22:51.391 +00:00] [INFO] [serve.go:139] ["serving client traffic insecurely; this is strongly discouraged!"] [address="[::]:2379"]
[2024/07/29 22:22:51.397 +00:00] [INFO] [server.go:381] ["init cluster id"] [cluster-id=7397183400508190990]
[2024/07/29 22:22:51.421 +00:00] [INFO] [history_buffer.go:147] ["start from history index"] [start-index=0]
[2024/07/29 22:22:51.434 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=17107318113395953248] [member-id=3486081234046183923]
[2024/07/29 22:22:51.638 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:22:51.638 +00:00] [INFO] [server.go:1304] ["start to watch pd leader"] [pd-leader="name:\"pd1\" member_id:17107318113395953248 peer_urls:\"http://pd1:2380\" client_urls:\"http://pd1:2379\" "]
[2024/07/29 22:22:51.638 +00:00] [INFO] [client.go:123] ["region syncer start load region"]
[2024/07/29 22:22:51.639 +00:00] [INFO] [client.go:126] ["region syncer finished load region"] [time-cost=992.125µs]
[2024/07/29 22:22:51.640 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd1] [request-index=0]
[2024/07/29 22:22:54.644 +00:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/data/pd2/dashboard.sqlite.db]
[2024/07/29 22:22:57.469 +00:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=2022.05.19.1] [standalone=No] [pd-version=v6.1.0] [build-time="2022-06-01 01:47:53"] [build-git-hash=4d621864a9a0]
[2024/07/29 22:22:57.475 +00:00] [INFO] [manager.go:197] ["Dashboard server is started"]
[2024/07/29 22:22:57.470 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:41429] [remotes="[]"]
[2024/07/29 22:22:57.471 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:37475] [remotes="[]"]
[2024/07/29 22:22:57.475 +00:00] [INFO] [dynamic_config_manager.go:167] ["Load dynamic config from etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:22:57.501 +00:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:22:57.510 +00:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2024/07/29 22:23:51.044 +00:00] [INFO] [server.go:1446] ["server is closed, exit etcd leader loop"]
[2024/07/29 22:23:51.044 +00:00] [INFO] [main.go:121] ["Got signal to exit"] [signal=terminated]
[2024/07/29 22:23:51.045 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Canceled desc = context canceled: rpc error: code = Canceled desc = context canceled"]
[2024/07/29 22:23:51.045 +00:00] [INFO] [server.go:460] ["closing server"]
[2024/07/29 22:23:51.045 +00:00] [INFO] [server.go:591] ["server is closed, exist encryption key manager loop"]
[2024/07/29 22:23:51.044 +00:00] [INFO] [server.go:580] ["server is closed, exit allocator loop"]
[2024/07/29 22:23:51.044 +00:00] [INFO] [server.go:566] ["server is closed, exit metrics loop"]
[2024/07/29 22:23:51.046 +00:00] [INFO] [manager.go:85] ["Key visual service is stopped"]
[2024/07/29 22:23:51.056 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {http://pd1:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.19.0.2:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:23:51.056 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {pd1:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.19.0.2:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:23:51.056 +00:00] [INFO] [manager.go:208] ["Dashboard server is stopped"]
[2024/07/29 22:23:51.073 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 10] received a MsgVote message with higher term from e3589da502d44cf6 [term: 11]"]
[2024/07/29 22:23:51.075 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 11"]
[2024/07/29 22:23:51.075 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 10, index: 288, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 10, index: 288] at term 11"]
[2024/07/29 22:23:51.076 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader ed69672f88924e60 at term 11"]
[2024/07/29 22:23:51.079 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 11"]
[2024/07/29 22:23:51.560 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:23:51.560 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error=EOF]
[2024/07/29 22:23:51.565 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=ed69672f88924e60] [error="failed to dial ed69672f88924e60 on stream Message (peer ed69672f88924e60 failed to find local node 30610c698d7a69f3)"]
[2024/07/29 22:23:52.047 +00:00] [INFO] [server.go:1308] ["pd leader has changed, try to re-campaign a pd leader"]
[2024/07/29 22:23:52.049 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=16382016976602811638] [member-id=3486081234046183923]
[2024/07/29 22:23:52.107 +00:00] [INFO] [raft.go:1355] ["30610c698d7a69f3 [term 11] received MsgTimeoutNow from e3589da502d44cf6 and starts an election to get leadership."]
[2024/07/29 22:23:52.107 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 12"]
[2024/07/29 22:23:52.107 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 12"]
[2024/07/29 22:23:52.108 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 11, index: 294] sent MsgVote request to e3589da502d44cf6 at term 12"]
[2024/07/29 22:23:52.108 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 11, index: 294] sent MsgVote request to ed69672f88924e60 at term 12"]
[2024/07/29 22:23:52.108 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader e3589da502d44cf6 at term 12"]
[2024/07/29 22:23:52.109 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from e3589da502d44cf6 at term 12"]
[2024/07/29 22:23:52.109 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:23:52.109 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 12"]
[2024/07/29 22:23:52.109 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 12"]
[2024/07/29 22:23:52.112 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd1:2380/version] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:23:52.112 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=ed69672f88924e60] [error="Get \"http://pd1:2380/version\": dial tcp: lookup pd1 on 127.0.0.11:53: no such host"]
[2024/07/29 22:23:52.251 +00:00] [INFO] [server.go:1284] ["server is closed, return pd leader loop"]
[2024/07/29 22:23:52.251 +00:00] [INFO] [etcd.go:360] ["closing etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:23:52.252 +00:00] [INFO] [server.go:1413] ["leadership transfer starting"] [local-member-id=30610c698d7a69f3] [current-leader-member-id=30610c698d7a69f3] [transferee-member-id=e3589da502d44cf6]
[2024/07/29 22:23:52.252 +00:00] [INFO] [raft.go:1261] ["30610c698d7a69f3 [term 12] starts to transfer leadership to e3589da502d44cf6"]
[2024/07/29 22:23:52.252 +00:00] [INFO] [raft.go:1267] ["30610c698d7a69f3 sends MsgTimeoutNow to e3589da502d44cf6 immediately as e3589da502d44cf6 already has up-to-date log"]
[2024/07/29 22:23:52.252 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:2379->127.0.0.1:47574: use of closed network connection"]
[2024/07/29 22:23:52.255 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 12] received a MsgVote message with higher term from e3589da502d44cf6 [term: 13]"]
[2024/07/29 22:23:52.256 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 13"]
[2024/07/29 22:23:52.256 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 12, index: 295, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 12, index: 295] at term 13"]
[2024/07/29 22:23:52.256 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 13"]
[2024/07/29 22:23:52.258 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 13"]
[2024/07/29 22:23:52.755 +00:00] [INFO] [server.go:1434] ["leadership transfer finished"] [local-member-id=30610c698d7a69f3] [old-leader-member-id=30610c698d7a69f3] [new-leader-member-id=e3589da502d44cf6] [took=502.761458ms]
[2024/07/29 22:23:52.757 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.757 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.758 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.759 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.759 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.759 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.760 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.760 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:23:52.760 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to read e3589da502d44cf6 on stream MsgApp v2 (context canceled)"]
[2024/07/29 22:23:52.763 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.764 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:23:52.766 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.767 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:23:52.767 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.791 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.792 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.818 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.819 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.819 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.819 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.819 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.819 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:23:52.820 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:23:52.820 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:23:52.821 +00:00] [INFO] [etcd.go:555] ["stopping serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:23:52.821 +00:00] [INFO] [etcd.go:562] ["stopped serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:23:52.821 +00:00] [INFO] [etcd.go:364] ["closed etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:23:52.822 +00:00] [INFO] [manager.go:73] ["exit dashboard loop"]
[2024/07/29 22:23:52.822 +00:00] [INFO] [server.go:494] ["close server"]
[2024/07/29 22:24:41.276 +00:00] [INFO] [util.go:41] ["Welcome to Placement Driver (PD)"]
[2024/07/29 22:24:41.280 +00:00] [INFO] [util.go:42] [PD] [release-version=v6.1.0]
[2024/07/29 22:24:41.281 +00:00] [INFO] [util.go:43] [PD] [edition=Community]
[2024/07/29 22:24:41.281 +00:00] [INFO] [util.go:44] [PD] [git-hash=d82f4fab6cf37cd1eca9c3574984e12a7ae27c42]
[2024/07/29 22:24:41.281 +00:00] [INFO] [util.go:45] [PD] [git-branch=heads/refs/tags/v6.1.0]
[2024/07/29 22:24:41.283 +00:00] [INFO] [util.go:46] [PD] [utc-build-time="2022-06-01 01:47:53"]
[2024/07/29 22:24:41.290 +00:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2024/07/29 22:24:41.291 +00:00] [INFO] [server.go:240] ["PD Config"] [config="{\"client-urls\":\"http://0.0.0.0:2379\",\"peer-urls\":\"http://0.0.0.0:2380\",\"advertise-client-urls\":\"http://pd2:2379\",\"advertise-peer-urls\":\"http://pd2:2380\",\"name\":\"pd2\",\"data-dir\":\"/data/pd2\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"/logs/pd2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd2\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":200000,\"split-merge-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"0s\"},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":true,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"wait-sync-timeout\":\"1m0s\",\"wait-async-timeout\":\"2m0s\",\"pause-region-split\":\"false\"}}}"]
[2024/07/29 22:24:41.297 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v1]
[2024/07/29 22:24:41.298 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v2/]
[2024/07/29 22:24:41.298 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/swagger/]
[2024/07/29 22:24:41.299 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/autoscaling]
[2024/07/29 22:24:41.299 +00:00] [INFO] [distro.go:51] ["Using distribution strings"] [strings={}]
[2024/07/29 22:24:41.301 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/api/]
[2024/07/29 22:24:41.301 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/]
[2024/07/29 22:24:41.302 +00:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://0.0.0.0:2380]"]
[2024/07/29 22:24:41.302 +00:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://0.0.0.0:2379]"]
[2024/07/29 22:24:41.303 +00:00] [INFO] [etcd.go:602] ["pprof is enabled"] [path=/debug/pprof]
[2024/07/29 22:24:41.303 +00:00] [INFO] [systimemon.go:28] ["start system time monitor"]
[2024/07/29 22:24:41.304 +00:00] [INFO] [etcd.go:299] ["starting an etcd server"] [etcd-version=3.4.3] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.18.2] [go-os=linux] [go-arch=arm64] [max-cpu-set=8] [max-cpu-available=8] [member-initialized=true] [name=pd2] [data-dir=/data/pd2] [wal-dir=] [wal-dir-dedicated=] [member-dir=/data/pd2/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster=] [initial-cluster-state=new] [initial-cluster-token=] [quota-size-bytes=8589934592] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2024/07/29 22:24:41.305 +00:00] [WARN] [server.go:298] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2024/07/29 22:24:41.315 +00:00] [INFO] [backend.go:79] ["opened backend db"] [path=/data/pd2/member/snap/db] [took=2.201625ms]
[2024/07/29 22:24:41.331 +00:00] [INFO] [raft.go:506] ["restarting local member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [commit-index=296]
[2024/07/29 22:24:41.331 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=()"]
[2024/07/29 22:24:41.332 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 13"]
[2024/07/29 22:24:41.332 +00:00] [INFO] [raft.go:383] ["newRaft 30610c698d7a69f3 [peers: [], term: 13, commit: 296, applied: 0, lastindex: 296, lastterm: 13]"]
[2024/07/29 22:24:41.341 +00:00] [WARN] [store.go:1317] ["simple token is not cryptographically signed"]
[2024/07/29 22:24:41.347 +00:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2024/07/29 22:24:41.348 +00:00] [INFO] [server.go:792] ["starting etcd server"] [local-member-id=30610c698d7a69f3] [local-server-version=3.4.3] [cluster-version=to_be_decided]
[2024/07/29 22:24:41.351 +00:00] [INFO] [etcd.go:241] ["now serving peer/client/metrics"] [local-member-id=30610c698d7a69f3] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"]
[2024/07/29 22:24:41.352 +00:00] [INFO] [server.go:680] ["starting initial election tick advance"] [election-ticks=6]
[2024/07/29 22:24:41.352 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923)"]
[2024/07/29 22:24:41.357 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=30610c698d7a69f3] [added-peer-peer-urls="[http://pd2:2380]"]
[2024/07/29 22:24:41.353 +00:00] [INFO] [etcd.go:576] ["serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:24:41.357 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638)"]
[2024/07/29 22:24:41.358 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.359 +00:00] [INFO] [transport.go:294] ["added new remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:24:41.359 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:24:41.358 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=e3589da502d44cf6] [added-peer-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:24:41.360 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.360 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.363 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.366 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.366 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:24:41.366 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:24:41.366 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=ed69672f88924e60] [added-peer-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:24:41.366 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.366 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:24:41.366 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.367 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.366 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:24:41.366 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.367 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.366 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.368 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:24:41.368 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.367 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.367 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.367 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:24:41.367 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:24:41.368 +00:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [cluster-version=3.4]
[2024/07/29 22:24:41.369 +00:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2024/07/29 22:24:41.368 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:24:41.369 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.370 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.370 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.371 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:24:41.371 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.373 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:24:41.373 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:24:41.407 +00:00] [INFO] [server.go:705] ["initialized peer connections; fast-forwarding election ticks"] [local-member-id=30610c698d7a69f3] [forward-ticks=4] [forward-duration=2s] [election-ticks=6] [election-timeout=3s] [active-remote-members=2]
[2024/07/29 22:24:43.338 +00:00] [INFO] [raft.go:923] ["30610c698d7a69f3 is starting a new election at term 13"]
[2024/07/29 22:24:43.339 +00:00] [INFO] [raft.go:729] ["30610c698d7a69f3 became pre-candidate at term 13"]
[2024/07/29 22:24:43.340 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgPreVoteResp from 30610c698d7a69f3 at term 13"]
[2024/07/29 22:24:43.340 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 13, index: 296] sent MsgPreVote request to e3589da502d44cf6 at term 13"]
[2024/07/29 22:24:43.340 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 13, index: 296] sent MsgPreVote request to ed69672f88924e60 at term 13"]
[2024/07/29 22:24:43.342 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgPreVoteResp from e3589da502d44cf6 at term 13"]
[2024/07/29 22:24:43.343 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgPreVoteResp votes and 0 vote rejections"]
[2024/07/29 22:24:43.343 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 14"]
[2024/07/29 22:24:43.343 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 14"]
[2024/07/29 22:24:43.343 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 13, index: 296] sent MsgVote request to e3589da502d44cf6 at term 14"]
[2024/07/29 22:24:43.344 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 13, index: 296] sent MsgVote request to ed69672f88924e60 at term 14"]
[2024/07/29 22:24:43.379 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from e3589da502d44cf6 at term 14"]
[2024/07/29 22:24:43.395 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:24:43.395 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 14"]
[2024/07/29 22:24:43.395 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 14"]
[2024/07/29 22:24:43.398 +00:00] [INFO] [server.go:2016] ["published local member to cluster through raft"] [local-member-id=30610c698d7a69f3] [local-member-attributes="{Name:pd2 ClientURLs:[http://pd2:2379]}"] [request-path=/0/members/30610c698d7a69f3/attributes] [cluster-id=4586ab14de6050dd] [publish-timeout=11s]
[2024/07/29 22:24:43.398 +00:00] [INFO] [server.go:326] ["create etcd v3 client"] [endpoints="[http://pd2:2379]"] [cert="{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}}"]
[2024/07/29 22:24:43.400 +00:00] [INFO] [serve.go:139] ["serving client traffic insecurely; this is strongly discouraged!"] [address="[::]:2379"]
[2024/07/29 22:24:43.403 +00:00] [INFO] [server.go:381] ["init cluster id"] [cluster-id=7397183400508190990]
[2024/07/29 22:24:43.435 +00:00] [INFO] [history_buffer.go:147] ["start from history index"] [start-index=0]
[2024/07/29 22:24:43.454 +00:00] [INFO] [server.go:1326] ["start to campaign pd leader"] [campaign-pd-leader-name=pd2]
[2024/07/29 22:24:43.455 +00:00] [INFO] [lease.go:65] ["lease granted"] [lease-id=7634605225068034058] [lease-timeout=3] [purpose="pd leader election"]
[2024/07/29 22:24:43.456 +00:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5009879741614805213,\"member_id\":3486081234046183923,\"revision\":271,\"raft_term\":14},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":271}}}}]}"]
[2024/07/29 22:24:43.456 +00:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/pd/7397183400508190990/leader] [purpose="pd leader election"]
[2024/07/29 22:24:43.457 +00:00] [INFO] [server.go:1352] ["campaign pd leader ok"] [campaign-pd-leader-name=pd2]
[2024/07/29 22:24:43.457 +00:00] [INFO] [server.go:1359] ["initializing the global TSO allocator"]
[2024/07/29 22:24:43.457 +00:00] [INFO] [lease.go:135] ["start lease keep alive worker"] [interval=1s] [purpose="pd leader election"]
[2024/07/29 22:24:43.458 +00:00] [INFO] [tso.go:221] ["sync and save timestamp"] [last=2024/07/29 22:23:55.069 +00:00] [save=2024/07/29 22:24:46.458 +00:00] [next=2024/07/29 22:24:43.458 +00:00]
[2024/07/29 22:24:43.459 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:24:43.461 +00:00] [INFO] [cluster.go:352] ["load stores"] [count=3] [cost=1.390959ms]
[2024/07/29 22:24:43.462 +00:00] [INFO] [cluster.go:363] ["load regions"] [count=1] [cost=630.958µs]
[2024/07/29 22:24:43.463 +00:00] [INFO] [coordinator.go:318] ["coordinator starts to collect cluster information"]
[2024/07/29 22:24:43.465 +00:00] [INFO] [id.go:122] ["idAllocator allocates a new id"] [alloc-id=8000]
[2024/07/29 22:24:43.465 +00:00] [INFO] [util.go:77] ["load cluster version"] [cluster-version=6.1.0]
[2024/07/29 22:24:43.465 +00:00] [INFO] [server.go:1410] ["PD cluster leader is ready to serve"] [pd-leader-name=pd2]
[2024/07/29 22:24:43.661 +00:00] [INFO] [server.go:214] ["establish sync region stream"] [requested-server=pd1] [url=http://pd1:2379]
[2024/07/29 22:24:43.661 +00:00] [INFO] [server.go:232] ["requested server has already in sync with server"] [requested-server=pd1] [server=pd2] [last-index=0]
[2024/07/29 22:24:43.661 +00:00] [INFO] [server.go:214] ["establish sync region stream"] [requested-server=pd0] [url=http://pd0:2379]
[2024/07/29 22:24:43.661 +00:00] [INFO] [server.go:232] ["requested server has already in sync with server"] [requested-server=pd0] [server=pd2] [last-index=0]
[2024/07/29 22:24:46.884 +00:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/data/pd2/dashboard.sqlite.db]
[2024/07/29 22:24:48.500 +00:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=2022.05.19.1] [standalone=No] [pd-version=v6.1.0] [build-time="2022-06-01 01:47:53"] [build-git-hash=4d621864a9a0]
[2024/07/29 22:24:48.502 +00:00] [INFO] [manager.go:197] ["Dashboard server is started"]
[2024/07/29 22:24:48.500 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:35301] [remotes="[]"]
[2024/07/29 22:24:48.501 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:43727] [remotes="[]"]
[2024/07/29 22:24:48.503 +00:00] [INFO] [dynamic_config_manager.go:167] ["Load dynamic config from etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:24:48.506 +00:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:24:48.512 +00:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2024/07/29 22:24:49.128 +00:00] [INFO] [grpc_service.go:526] ["put store ok"] [store="id:1003 address:\"tikv2:20160\" version:\"6.1.0\" status_address:\"127.0.0.1:20180\" git_hash:\"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp:1722291889 deploy_path:\"/\" "]
[2024/07/29 22:24:49.129 +00:00] [INFO] [util.go:77] ["load cluster version"] [cluster-version=6.1.0]
[2024/07/29 22:24:49.132 +00:00] [INFO] [grpc_service.go:526] ["put store ok"] [store="id:1002 address:\"tikv1:20160\" version:\"6.1.0\" status_address:\"127.0.0.1:20180\" git_hash:\"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp:1722291889 deploy_path:\"/\" "]
[2024/07/29 22:24:49.132 +00:00] [INFO] [util.go:77] ["load cluster version"] [cluster-version=6.1.0]
[2024/07/29 22:24:49.194 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.20.0.3:2379->172.20.0.8:32978: read: connection reset by peer"]
[2024/07/29 22:24:49.200 +00:00] [INFO] [grpc_service.go:526] ["put store ok"] [store="id:1001 address:\"tikv0:20160\" version:\"6.1.0\" status_address:\"127.0.0.1:20180\" git_hash:\"080d086832ae5ce2495352dccaf8df5d40f30687\" start_timestamp:1722291889 deploy_path:\"/\" "]
[2024/07/29 22:24:49.200 +00:00] [INFO] [util.go:77] ["load cluster version"] [cluster-version=6.1.0]
[2024/07/29 22:24:49.965 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.20.0.3:2379->172.20.0.8:32988: read: connection reset by peer"]
[2024/07/29 22:24:58.269 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.20.0.3:2379->172.20.0.8:33026: read: connection reset by peer"]
[2024/07/29 22:25:01.463 +00:00] [INFO] [coordinator.go:321] ["coordinator has finished cluster information preparation"]
[2024/07/29 22:25:01.466 +00:00] [INFO] [coordinator.go:331] ["coordinator starts to run schedulers"]
[2024/07/29 22:25:01.474 +00:00] [INFO] [coordinator.go:379] ["create scheduler with independent configuration"] [scheduler-name=balance-hot-region-scheduler]
[2024/07/29 22:25:01.485 +00:00] [INFO] [coordinator.go:379] ["create scheduler with independent configuration"] [scheduler-name=balance-leader-scheduler]
[2024/07/29 22:25:01.494 +00:00] [INFO] [coordinator.go:379] ["create scheduler with independent configuration"] [scheduler-name=balance-region-scheduler]
[2024/07/29 22:25:01.496 +00:00] [INFO] [coordinator.go:379] ["create scheduler with independent configuration"] [scheduler-name=split-bucket-scheduler]
[2024/07/29 22:25:01.505 +00:00] [INFO] [coordinator.go:401] ["create scheduler"] [scheduler-name=balance-region-scheduler] [scheduler-args="[]"]
[2024/07/29 22:25:01.507 +00:00] [INFO] [coordinator.go:401] ["create scheduler"] [scheduler-name=balance-leader-scheduler] [scheduler-args="[]"]
[2024/07/29 22:25:01.508 +00:00] [INFO] [coordinator.go:401] ["create scheduler"] [scheduler-name=balance-hot-region-scheduler] [scheduler-args="[]"]
[2024/07/29 22:25:01.509 +00:00] [INFO] [coordinator.go:401] ["create scheduler"] [scheduler-name=split-bucket-scheduler] [scheduler-args="[]"]
[2024/07/29 22:25:01.511 +00:00] [INFO] [coordinator.go:290] ["coordinator begins to actively drive push operator"]
[2024/07/29 22:25:01.511 +00:00] [INFO] [coordinator.go:109] ["coordinator starts patrol regions"]
[2024/07/29 22:25:01.511 +00:00] [INFO] [coordinator.go:225] ["coordinator begins to check suspect key ranges"]
[2024/07/29 22:25:02.477 +00:00] [INFO] [hot_region_config.go:351] ["query supported changed"] [last-query-support=false] [cluster-version=6.1.0] [config="{\"min-hot-byte-rate\":100,\"min-hot-key-rate\":10,\"min-hot-query-rate\":10,\"max-zombie-rounds\":3,\"max-peer-number\":1000,\"byte-rate-rank-step-ratio\":0.05,\"key-rate-rank-step-ratio\":0.05,\"query-rate-rank-step-ratio\":0.05,\"count-rank-step-ratio\":0.01,\"great-dec-ratio\":0.95,\"minor-dec-ratio\":0.99,\"src-tolerance-ratio\":1.05,\"dst-tolerance-ratio\":1.05,\"read-priorities\":[\"query\",\"byte\"],\"write-leader-priorities\":[\"key\",\"byte\"],\"write-peer-priorities\":[\"byte\",\"key\"],\"strict-picking-store\":\"true\",\"enable-for-tiflash\":\"true\",\"forbid-rw-type\":\"none\"}"] [valid-config="{\"min-hot-byte-rate\":100,\"min-hot-key-rate\":10,\"min-hot-query-rate\":10,\"max-zombie-rounds\":3,\"max-peer-number\":1000,\"byte-rate-rank-step-ratio\":0.05,\"key-rate-rank-step-ratio\":0.05,\"query-rate-rank-step-ratio\":0.05,\"count-rank-step-ratio\":0.01,\"great-dec-ratio\":0.95,\"minor-dec-ratio\":0.99,\"src-tolerance-ratio\":1.05,\"dst-tolerance-ratio\":1.05,\"read-priorities\":[\"byte\",\"key\"],\"write-leader-priorities\":[\"key\",\"byte\"],\"write-peer-priorities\":[\"byte\",\"key\"],\"strict-picking-store\":\"true\",\"enable-for-tiflash\":\"true\"}"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [coordinator.go:811] ["scheduler has been stopped"] [scheduler-name=split-bucket-scheduler] [error="context canceled"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [cluster.go:300] ["sync store config job is stopped"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [main.go:121] ["Got signal to exit"] [signal=terminated]
[2024/07/29 22:43:47.641 +00:00] [INFO] [server.go:460] ["closing server"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [server.go:1446] ["server is closed, exit etcd leader loop"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [server.go:566] ["server is closed, exit metrics loop"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [server.go:580] ["server is closed, exit allocator loop"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [server.go:1429] ["server is closed"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [lease.go:159] ["stop lease keep alive worker"] [purpose="pd leader election"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [coordinator.go:231] ["check suspect key ranges has been stopped"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [cluster.go:2132] ["min resolved ts background jobs has been stopped"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [cluster.go:388] ["metrics are reset"]
[2024/07/29 22:43:47.640 +00:00] [INFO] [coordinator.go:296] ["drive push operator has been stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [coordinator.go:307] ["coordinator is stopping"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [coordinator.go:811] ["scheduler has been stopped"] [scheduler-name=balance-hot-region-scheduler] [error="context canceled"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [coordinator.go:811] ["scheduler has been stopped"] [scheduler-name=balance-leader-scheduler] [error="context canceled"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [coordinator.go:811] ["scheduler has been stopped"] [scheduler-name=balance-region-scheduler] [error="context canceled"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [server.go:591] ["server is closed, exist encryption key manager loop"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [cluster.go:411] ["node state check job has been stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [server.go:130] ["region syncer has been stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [cluster.go:429] ["statistics background jobs has been stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [coordinator.go:117] ["patrol regions has been stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [labeler.go:67] ["RegionLabeler GC stopped"]
[2024/07/29 22:43:47.641 +00:00] [INFO] [manager.go:85] ["Key visual service is stopped"]
[2024/07/29 22:43:47.643 +00:00] [INFO] [cluster.go:390] ["metrics collection job has been stopped"]
[2024/07/29 22:43:47.643 +00:00] [INFO] [coordinator.go:309] ["coordinator has been stopped"]
[2024/07/29 22:43:47.643 +00:00] [INFO] [cluster.go:469] ["raftcluster is stopped"]
[2024/07/29 22:43:47.644 +00:00] [INFO] [tso.go:405] ["reset the timestamp in memory"]
[2024/07/29 22:43:47.644 +00:00] [INFO] [server.go:1284] ["server is closed, return pd leader loop"]
[2024/07/29 22:43:47.645 +00:00] [INFO] [manager.go:208] ["Dashboard server is stopped"]
[2024/07/29 22:43:47.645 +00:00] [INFO] [etcd.go:360] ["closing etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:43:47.655 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.20.0.3:2379->172.20.0.4:50182: use of closed network connection"]
[2024/07/29 22:43:47.656 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:2379->127.0.0.1:54438: use of closed network connection"]
[2024/07/29 22:43:47.656 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 172.20.0.3:2379->172.20.0.2:52378: use of closed network connection"]
[2024/07/29 22:43:47.659 +00:00] [INFO] [server.go:1413] ["leadership transfer starting"] [local-member-id=30610c698d7a69f3] [current-leader-member-id=30610c698d7a69f3] [transferee-member-id=e3589da502d44cf6]
[2024/07/29 22:43:47.664 +00:00] [INFO] [raft.go:1261] ["30610c698d7a69f3 [term 14] starts to transfer leadership to e3589da502d44cf6"]
[2024/07/29 22:43:47.666 +00:00] [INFO] [raft.go:1267] ["30610c698d7a69f3 sends MsgTimeoutNow to e3589da502d44cf6 immediately as e3589da502d44cf6 already has up-to-date log"]
[2024/07/29 22:43:47.666 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {0.0.0.0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 0.0.0.0:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:43:47.672 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 14] received a MsgVote message with higher term from e3589da502d44cf6 [term: 15]"]
[2024/07/29 22:43:47.673 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 15"]
[2024/07/29 22:43:47.673 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 14, index: 719, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 14, index: 719] at term 15"]
[2024/07/29 22:43:47.673 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 15"]
[2024/07/29 22:43:47.674 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 15"]
[2024/07/29 22:43:48.166 +00:00] [INFO] [server.go:1434] ["leadership transfer finished"] [local-member-id=30610c698d7a69f3] [old-leader-member-id=30610c698d7a69f3] [new-leader-member-id=e3589da502d44cf6] [took=507.218042ms]
[2024/07/29 22:43:48.170 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.180 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.181 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.181 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.182 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.182 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.183 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.183 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:43:48.184 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to read e3589da502d44cf6 on stream MsgApp v2 (context canceled)"]
[2024/07/29 22:43:48.184 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.185 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error="context canceled"]
[2024/07/29 22:43:48.185 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.185 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:43:48.185 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.185 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.186 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.186 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.186 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.187 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.187 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error="context canceled"]
[2024/07/29 22:43:48.187 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=ed69672f88924e60] [error="failed to read ed69672f88924e60 on stream MsgApp v2 (context canceled)"]
[2024/07/29 22:43:48.187 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.188 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error="context canceled"]
[2024/07/29 22:43:48.188 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.188 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:43:48.189 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:43:48.189 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=e3589da502d44cf6] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:43:48.189 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:43:48.189 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:43:48.191 +00:00] [INFO] [etcd.go:555] ["stopping serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:43:48.191 +00:00] [INFO] [etcd.go:562] ["stopped serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:43:48.191 +00:00] [INFO] [etcd.go:364] ["closed etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:43:48.194 +00:00] [INFO] [manager.go:73] ["exit dashboard loop"]
[2024/07/29 22:43:48.194 +00:00] [INFO] [server.go:494] ["close server"]
[2024/07/29 22:56:29.164 +00:00] [INFO] [util.go:41] ["Welcome to Placement Driver (PD)"]
[2024/07/29 22:56:29.166 +00:00] [INFO] [util.go:42] [PD] [release-version=v6.1.0]
[2024/07/29 22:56:29.167 +00:00] [INFO] [util.go:43] [PD] [edition=Community]
[2024/07/29 22:56:29.168 +00:00] [INFO] [util.go:44] [PD] [git-hash=d82f4fab6cf37cd1eca9c3574984e12a7ae27c42]
[2024/07/29 22:56:29.169 +00:00] [INFO] [util.go:45] [PD] [git-branch=heads/refs/tags/v6.1.0]
[2024/07/29 22:56:29.169 +00:00] [INFO] [util.go:46] [PD] [utc-build-time="2022-06-01 01:47:53"]
[2024/07/29 22:56:29.170 +00:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2024/07/29 22:56:29.171 +00:00] [INFO] [server.go:240] ["PD Config"] [config="{\"client-urls\":\"http://0.0.0.0:2379\",\"peer-urls\":\"http://0.0.0.0:2380\",\"advertise-client-urls\":\"http://pd2:2379\",\"advertise-peer-urls\":\"http://pd2:2380\",\"name\":\"pd2\",\"data-dir\":\"/data/pd2\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd0=http://pd0:2380,pd1=http://pd1:2380,pd2=http://pd2:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"/logs/pd2.log\",\"max-size\":300,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd2\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":200000,\"split-merge-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"0s\"},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":true,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"wait-sync-timeout\":\"1m0s\",\"wait-async-timeout\":\"2m0s\",\"pause-region-split\":\"false\"}}}"]
[2024/07/29 22:56:29.174 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v1]
[2024/07/29 22:56:29.175 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/pd/api/v2/]
[2024/07/29 22:56:29.176 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/swagger/]
[2024/07/29 22:56:29.176 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/autoscaling]
[2024/07/29 22:56:29.177 +00:00] [INFO] [distro.go:51] ["Using distribution strings"] [strings={}]
[2024/07/29 22:56:29.178 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/api/]
[2024/07/29 22:56:29.183 +00:00] [INFO] [server.go:215] ["register REST path"] [path=/dashboard/]
[2024/07/29 22:56:29.184 +00:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://0.0.0.0:2380]"]
[2024/07/29 22:56:29.184 +00:00] [INFO] [systimemon.go:28] ["start system time monitor"]
[2024/07/29 22:56:29.185 +00:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://0.0.0.0:2379]"]
[2024/07/29 22:56:29.186 +00:00] [INFO] [etcd.go:602] ["pprof is enabled"] [path=/debug/pprof]
[2024/07/29 22:56:29.188 +00:00] [INFO] [etcd.go:299] ["starting an etcd server"] [etcd-version=3.4.3] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.18.2] [go-os=linux] [go-arch=arm64] [max-cpu-set=8] [max-cpu-available=8] [member-initialized=true] [name=pd2] [data-dir=/data/pd2] [wal-dir=] [wal-dir-dedicated=] [member-dir=/data/pd2/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster=] [initial-cluster-state=new] [initial-cluster-token=] [quota-size-bytes=8589934592] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2024/07/29 22:56:29.189 +00:00] [WARN] [server.go:298] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2024/07/29 22:56:29.215 +00:00] [INFO] [backend.go:79] ["opened backend db"] [path=/data/pd2/member/snap/db] [took=9.651334ms]
[2024/07/29 22:56:29.250 +00:00] [INFO] [raft.go:506] ["restarting local member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [commit-index=720]
[2024/07/29 22:56:29.251 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=()"]
[2024/07/29 22:56:29.252 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 15"]
[2024/07/29 22:56:29.252 +00:00] [INFO] [raft.go:383] ["newRaft 30610c698d7a69f3 [peers: [], term: 15, commit: 720, applied: 0, lastindex: 720, lastterm: 15]"]
[2024/07/29 22:56:29.262 +00:00] [WARN] [store.go:1317] ["simple token is not cryptographically signed"]
[2024/07/29 22:56:29.270 +00:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2024/07/29 22:56:29.274 +00:00] [INFO] [server.go:792] ["starting etcd server"] [local-member-id=30610c698d7a69f3] [local-server-version=3.4.3] [cluster-version=to_be_decided]
[2024/07/29 22:56:29.278 +00:00] [INFO] [server.go:680] ["starting initial election tick advance"] [election-ticks=6]
[2024/07/29 22:56:29.278 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923)"]
[2024/07/29 22:56:29.282 +00:00] [INFO] [etcd.go:241] ["now serving peer/client/metrics"] [local-member-id=30610c698d7a69f3] [initial-advertise-peer-urls="[http://pd2:2380]"] [listen-peer-urls="[http://0.0.0.0:2380]"] [advertise-client-urls="[http://pd2:2379]"] [listen-client-urls="[http://0.0.0.0:2379]"] [listen-metrics-urls="[]"]
[2024/07/29 22:56:29.282 +00:00] [INFO] [etcd.go:576] ["serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:56:29.282 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=30610c698d7a69f3] [added-peer-peer-urls="[http://pd2:2380]"]
[2024/07/29 22:56:29.283 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638)"]
[2024/07/29 22:56:29.288 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=e3589da502d44cf6] [added-peer-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:56:29.288 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.290 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.291 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.293 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.294 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.294 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [remote-peer-urls="[http://pd0:2380]"]
[2024/07/29 22:56:29.294 +00:00] [INFO] [raft.go:1530] ["30610c698d7a69f3 switched to configuration voters=(3486081234046183923 16382016976602811638 17107318113395953248)"]
[2024/07/29 22:56:29.295 +00:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [added-peer-id=ed69672f88924e60] [added-peer-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:56:29.294 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.294 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.294 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:56:29.296 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.296 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.294 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:56:29.294 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.297 +00:00] [INFO] [transport.go:294] ["added new remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:56:29.297 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:56:29.297 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.297 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.297 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:56:29.297 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:56:29.297 +00:00] [INFO] [peer.go:128] ["starting remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.298 +00:00] [INFO] [pipeline.go:71] ["started HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.299 +00:00] [INFO] [peer.go:134] ["started remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.299 +00:00] [INFO] [transport.go:327] ["added remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [remote-peer-urls="[http://pd1:2380]"]
[2024/07/29 22:56:29.299 +00:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4586ab14de6050dd] [local-member-id=30610c698d7a69f3] [cluster-version=3.4]
[2024/07/29 22:56:29.299 +00:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2024/07/29 22:56:29.299 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.301 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream MsgApp v2"]
[2024/07/29 22:56:29.301 +00:00] [INFO] [peer_status.go:51] ["peer became active"] [peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.301 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.299 +00:00] [INFO] [stream.go:166] ["started stream writer with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.301 +00:00] [INFO] [stream.go:250] ["set message encoder"] [from=30610c698d7a69f3] [to=30610c698d7a69f3] [stream-type="stream Message"]
[2024/07/29 22:56:29.299 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.299 +00:00] [INFO] [stream.go:406] ["started stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.302 +00:00] [WARN] [stream.go:277] ["established TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.303 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.303 +00:00] [INFO] [stream.go:425] ["established TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:56:29.332 +00:00] [INFO] [server.go:705] ["initialized peer connections; fast-forwarding election ticks"] [local-member-id=30610c698d7a69f3] [forward-ticks=4] [forward-duration=2s] [election-ticks=6] [election-timeout=3s] [active-remote-members=2]
[2024/07/29 22:56:30.254 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 15, index: 720, vote: e3589da502d44cf6] cast MsgPreVote for e3589da502d44cf6 [logterm: 17, index: 727] at term 15"]
[2024/07/29 22:56:30.255 +00:00] [INFO] [raft.go:923] ["30610c698d7a69f3 is starting a new election at term 15"]
[2024/07/29 22:56:30.255 +00:00] [INFO] [raft.go:729] ["30610c698d7a69f3 became pre-candidate at term 15"]
[2024/07/29 22:56:30.256 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgPreVoteResp from 30610c698d7a69f3 at term 15"]
[2024/07/29 22:56:30.256 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 15, index: 720] sent MsgPreVote request to e3589da502d44cf6 at term 15"]
[2024/07/29 22:56:30.271 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 15, index: 720] sent MsgPreVote request to ed69672f88924e60 at term 15"]
[2024/07/29 22:56:30.271 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 15] received a MsgVote message with higher term from e3589da502d44cf6 [term: 18]"]
[2024/07/29 22:56:30.271 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 18"]
[2024/07/29 22:56:30.271 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 15, index: 720, vote: 0] cast MsgVote for e3589da502d44cf6 [logterm: 17, index: 727] at term 18"]
[2024/07/29 22:56:30.302 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader e3589da502d44cf6 at term 18"]
[2024/07/29 22:56:30.313 +00:00] [INFO] [server.go:2016] ["published local member to cluster through raft"] [local-member-id=30610c698d7a69f3] [local-member-attributes="{Name:pd2 ClientURLs:[http://pd2:2379]}"] [request-path=/0/members/30610c698d7a69f3/attributes] [cluster-id=4586ab14de6050dd] [publish-timeout=11s]
[2024/07/29 22:56:30.313 +00:00] [INFO] [server.go:326] ["create etcd v3 client"] [endpoints="[http://pd2:2379]"] [cert="{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}}"]
[2024/07/29 22:56:30.314 +00:00] [INFO] [serve.go:139] ["serving client traffic insecurely; this is strongly discouraged!"] [address="[::]:2379"]
[2024/07/29 22:56:30.323 +00:00] [INFO] [server.go:381] ["init cluster id"] [cluster-id=7397183400508190990]
[2024/07/29 22:56:30.360 +00:00] [INFO] [history_buffer.go:147] ["start from history index"] [start-index=0]
[2024/07/29 22:56:30.396 +00:00] [INFO] [server.go:1470] ["server enable region storage"]
[2024/07/29 22:56:30.397 +00:00] [INFO] [server.go:1304] ["start to watch pd leader"] [pd-leader="name:\"pd0\" member_id:16382016976602811638 peer_urls:\"http://pd0:2380\" client_urls:\"http://pd0:2379\" "]
[2024/07/29 22:56:30.397 +00:00] [INFO] [client.go:123] ["region syncer start load region"]
[2024/07/29 22:56:30.401 +00:00] [INFO] [client.go:126] ["region syncer finished load region"] [time-cost=3.220375ms]
[2024/07/29 22:56:30.403 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd0] [request-index=0]
[2024/07/29 22:56:30.405 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Unavailable desc = server not started: rpc error: code = Unavailable desc = server not started"]
[2024/07/29 22:56:31.408 +00:00] [INFO] [client.go:167] ["server starts to synchronize with leader"] [server=pd2] [leader=pd0] [request-index=0]
[2024/07/29 22:56:37.720 +00:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/data/pd2/dashboard.sqlite.db]
[2024/07/29 22:56:46.481 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:39939] [remotes="[]"]
[2024/07/29 22:56:46.481 +00:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=2022.05.19.1] [standalone=No] [pd-version=v6.1.0] [build-time="2022-06-01 01:47:53"] [build-git-hash=4d621864a9a0]
[2024/07/29 22:56:46.485 +00:00] [INFO] [manager.go:197] ["Dashboard server is started"]
[2024/07/29 22:56:46.481 +00:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:36075] [remotes="[]"]
[2024/07/29 22:56:46.490 +00:00] [INFO] [dynamic_config_manager.go:167] ["Load dynamic config from etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:56:46.517 +00:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2024/07/29 22:56:46.635 +00:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2024/07/29 22:57:01.715 +00:00] [WARN] [util.go:144] ["apply request took too long"] [took=201.953083ms] [expected-duration=100ms] [prefix="read-only range "] [request="key:\"/topology/tidb/\" range_end:\"/topology/tidb0\" "] [response="range_response_count:0 size:5"] []
[2024/07/29 22:57:01.720 +00:00] [INFO] [trace.go:145] ["trace[1650634395] range"] [detail="{range_begin:/topology/tidb/; range_end:/topology/tidb0; response_count:0; response_revision:709; }"] [duration=206.930167ms] [start=2024/07/29 22:57:01.513 +00:00] [end=2024/07/29 22:57:01.720 +00:00] [steps="[\"trace[1650634395] 'agreement among raft nodes before linearized reading'  (duration: 201.6975ms)\"]"]
[2024/07/29 22:58:56.071 +00:00] [INFO] [leadership.go:211] ["current leadership is deleted"] [leader-key=/pd/7397183400508190990/leader] [purpose="pd leader election"]
[2024/07/29 22:58:56.072 +00:00] [ERROR] [client.go:171] ["region sync with leader meet error"] [error="[PD:grpc:ErrGRPCRecv]rpc error: code = Canceled desc = context canceled: rpc error: code = Canceled desc = context canceled"]
[2024/07/29 22:58:56.076 +00:00] [INFO] [server.go:1446] ["server is closed, exit etcd leader loop"]
[2024/07/29 22:58:56.077 +00:00] [INFO] [main.go:121] ["Got signal to exit"] [signal=terminated]
[2024/07/29 22:58:56.079 +00:00] [INFO] [server.go:460] ["closing server"]
[2024/07/29 22:58:56.078 +00:00] [INFO] [server.go:580] ["server is closed, exit allocator loop"]
[2024/07/29 22:58:56.078 +00:00] [INFO] [manager.go:85] ["Key visual service is stopped"]
[2024/07/29 22:58:56.078 +00:00] [INFO] [server.go:566] ["server is closed, exit metrics loop"]
[2024/07/29 22:58:56.078 +00:00] [INFO] [server.go:591] ["server is closed, exist encryption key manager loop"]
[2024/07/29 22:58:56.079 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {http://pd0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.23.0.3:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:58:56.080 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {pd0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 172.23.0.3:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:58:56.083 +00:00] [INFO] [manager.go:208] ["Dashboard server is stopped"]
[2024/07/29 22:58:56.084 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 18] received a MsgVote message with higher term from ed69672f88924e60 [term: 19]"]
[2024/07/29 22:58:56.085 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 19"]
[2024/07/29 22:58:56.085 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 18, index: 806, vote: 0] cast MsgVote for ed69672f88924e60 [logterm: 18, index: 806] at term 19"]
[2024/07/29 22:58:56.086 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader e3589da502d44cf6 at term 19"]
[2024/07/29 22:58:56.087 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader ed69672f88924e60 at term 19"]
[2024/07/29 22:58:56.585 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error=EOF]
[2024/07/29 22:58:56.588 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6] [error=EOF]
[2024/07/29 22:58:56.595 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=e3589da502d44cf6] [error="failed to dial e3589da502d44cf6 on stream MsgApp v2 (peer e3589da502d44cf6 failed to find local node 30610c698d7a69f3)"]
[2024/07/29 22:58:57.073 +00:00] [INFO] [server.go:1308] ["pd leader has changed, try to re-campaign a pd leader"]
[2024/07/29 22:58:57.073 +00:00] [INFO] [server.go:1314] ["skip campaigning of pd leader and check later"] [server-name=pd2] [etcd-leader-id=17107318113395953248] [member-id=3486081234046183923]
[2024/07/29 22:58:57.126 +00:00] [INFO] [raft.go:1355] ["30610c698d7a69f3 [term 19] received MsgTimeoutNow from ed69672f88924e60 and starts an election to get leadership."]
[2024/07/29 22:58:57.126 +00:00] [INFO] [raft.go:713] ["30610c698d7a69f3 became candidate at term 20"]
[2024/07/29 22:58:57.126 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from 30610c698d7a69f3 at term 20"]
[2024/07/29 22:58:57.126 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 19, index: 812] sent MsgVote request to e3589da502d44cf6 at term 20"]
[2024/07/29 22:58:57.126 +00:00] [INFO] [raft.go:811] ["30610c698d7a69f3 [logterm: 19, index: 812] sent MsgVote request to ed69672f88924e60 at term 20"]
[2024/07/29 22:58:57.127 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader ed69672f88924e60 at term 20"]
[2024/07/29 22:58:57.127 +00:00] [INFO] [raft.go:824] ["30610c698d7a69f3 received MsgVoteResp from ed69672f88924e60 at term 20"]
[2024/07/29 22:58:57.127 +00:00] [INFO] [raft.go:1302] ["30610c698d7a69f3 has received 2 MsgVoteResp votes and 0 vote rejections"]
[2024/07/29 22:58:57.128 +00:00] [INFO] [raft.go:765] ["30610c698d7a69f3 became leader at term 20"]
[2024/07/29 22:58:57.128 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader 30610c698d7a69f3 at term 20"]
[2024/07/29 22:58:57.134 +00:00] [WARN] [cluster_util.go:315] ["failed to reach the peer URL"] [address=http://pd0:2380/version] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:58:57.134 +00:00] [WARN] [cluster_util.go:168] ["failed to get version"] [remote-member-id=e3589da502d44cf6] [error="Get \"http://pd0:2380/version\": dial tcp: lookup pd0 on 127.0.0.11:53: no such host"]
[2024/07/29 22:58:57.274 +00:00] [INFO] [server.go:1284] ["server is closed, return pd leader loop"]
[2024/07/29 22:58:57.275 +00:00] [INFO] [etcd.go:360] ["closing etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:58:57.276 +00:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:2379->127.0.0.1:59760: use of closed network connection"]
[2024/07/29 22:58:57.276 +00:00] [INFO] [server.go:1413] ["leadership transfer starting"] [local-member-id=30610c698d7a69f3] [current-leader-member-id=30610c698d7a69f3] [transferee-member-id=ed69672f88924e60]
[2024/07/29 22:58:57.277 +00:00] [INFO] [raft.go:1261] ["30610c698d7a69f3 [term 20] starts to transfer leadership to ed69672f88924e60"]
[2024/07/29 22:58:57.277 +00:00] [INFO] [raft.go:1267] ["30610c698d7a69f3 sends MsgTimeoutNow to ed69672f88924e60 immediately as ed69672f88924e60 already has up-to-date log"]
[2024/07/29 22:58:57.276 +00:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {0.0.0.0:2379  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 0.0.0.0:2379: connect: connection refused\". Reconnecting..."]
[2024/07/29 22:58:57.279 +00:00] [INFO] [raft.go:859] ["30610c698d7a69f3 [term: 20] received a MsgVote message with higher term from ed69672f88924e60 [term: 21]"]
[2024/07/29 22:58:57.279 +00:00] [INFO] [raft.go:700] ["30610c698d7a69f3 became follower at term 21"]
[2024/07/29 22:58:57.280 +00:00] [INFO] [raft.go:960] ["30610c698d7a69f3 [logterm: 20, index: 813, vote: 0] cast MsgVote for ed69672f88924e60 [logterm: 20, index: 813] at term 21"]
[2024/07/29 22:58:57.280 +00:00] [INFO] [node.go:331] ["raft.node: 30610c698d7a69f3 lost leader 30610c698d7a69f3 at term 21"]
[2024/07/29 22:58:57.281 +00:00] [INFO] [node.go:325] ["raft.node: 30610c698d7a69f3 elected leader ed69672f88924e60 at term 21"]
[2024/07/29 22:58:57.778 +00:00] [INFO] [server.go:1434] ["leadership transfer finished"] [local-member-id=30610c698d7a69f3] [old-leader-member-id=30610c698d7a69f3] [new-leader-member-id=ed69672f88924e60] [took=501.207875ms]
[2024/07/29 22:58:57.778 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.779 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.780 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.780 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.781 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.781 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.782 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.782 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error="context canceled"]
[2024/07/29 22:58:57.782 +00:00] [WARN] [peer_status.go:68] ["peer became inactive (message send to peer failed)"] [peer-id=ed69672f88924e60] [error="failed to read ed69672f88924e60 on stream MsgApp v2 (context canceled)"]
[2024/07/29 22:58:57.783 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.783 +00:00] [WARN] [stream.go:436] ["lost TCP streaming connection with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60] [error="context canceled"]
[2024/07/29 22:58:57.783 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.784 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=ed69672f88924e60]
[2024/07/29 22:58:57.784 +00:00] [INFO] [peer.go:333] ["stopping remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.784 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.784 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream MsgApp v2"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.785 +00:00] [WARN] [stream.go:291] ["closed TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.785 +00:00] [WARN] [stream.go:301] ["stopped TCP streaming connection with remote peer"] [stream-writer-type="stream Message"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.785 +00:00] [INFO] [pipeline.go:86] ["stopped HTTP pipelining with remote peer"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.786 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream MsgApp v2"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.786 +00:00] [INFO] [stream.go:459] ["stopped stream reader with remote peer"] [stream-reader-type="stream Message"] [local-member-id=30610c698d7a69f3] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.786 +00:00] [INFO] [peer.go:340] ["stopped remote peer"] [remote-peer-id=e3589da502d44cf6]
[2024/07/29 22:58:57.788 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:58:57.788 +00:00] [WARN] [http.go:444] ["failed to find remote peer in cluster"] [local-member-id=30610c698d7a69f3] [remote-peer-id-stream-handler=30610c698d7a69f3] [remote-peer-id-from=ed69672f88924e60] [cluster-id=4586ab14de6050dd]
[2024/07/29 22:58:57.790 +00:00] [INFO] [etcd.go:555] ["stopping serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:58:57.790 +00:00] [INFO] [etcd.go:562] ["stopped serving peer traffic"] [address="[::]:2380"]
[2024/07/29 22:58:57.790 +00:00] [INFO] [etcd.go:364] ["closed etcd server"] [name=pd2] [data-dir=/data/pd2] [advertise-peer-urls="[http://pd2:2380]"] [advertise-client-urls="[http://pd2:2379]"]
[2024/07/29 22:58:57.792 +00:00] [INFO] [manager.go:73] ["exit dashboard loop"]
[2024/07/29 22:58:57.792 +00:00] [INFO] [server.go:494] ["close server"]
